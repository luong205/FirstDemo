;/*FB_PKG_DELIM*/

__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=c.i64.cast([64,1083495711]),d[3]=c.i64.cast([0,0]),d[4]=c.i64.cast([0,0]),d[5]=c.i64.cast([0,0]),c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[6]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[1]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[1],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[6],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[2],capabilities2:d[3],capabilities3:d[4],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[7]=c.i64.of_int32(a[0].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[1],d[9]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[9])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[1],contactId:d[9],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalCreateOptimisticGroupThread",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],f).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===!0?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,5]))?f!==f?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=c.i64.of_int32(a[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return c.i64.neq(d[5],d[1])?d[7]=d[5]:d[7]=d[2],d[2]=d[7]}])}):c.resolve()},function(a){return f!==f?(d[4]=new c.Map(),d[4].set("seller_id",d[2]),d[4].set("thread_metadata",f),d[4].set("client_thread_key",d[0]),d[5]=d[4].get("client_thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,646]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("Marketplace thread metadata cannot be null")):(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",c.i64.cast([0,1])),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[2]),c.i64.cast([0,153]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[7]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[6],d[7],f,f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",c.i64.cast([0,86]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWXSwitch.react",["cr:1925","cr:1926","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.icon,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","size"]);if(b("cr:1925"))return h.jsx(b("cr:1925"),babelHelpers["extends"]({},a,{icon:c,size:d}));return b("cr:1926")?h.jsx(b("cr:1926"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCreateOptimisticSecureThread",["I64","LSAuthorityLevel","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2","Promise","ReQLTable","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return c("LSVerifyE2EEMetadataThreadExistsV2")(b,void 0,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC),c("LSFactory")(a)).then(function(b){var e=b[0];return d("ReQLTable").update(a.table("threads"),{hd:e,tl:0},function(a){if(a==null)throw c("unrecoverableViolation")("Optimistic thread is missing","messenger_e2ee_web");return babelHelpers["extends"]({},a,{clientThreadKey:e})}).then(function(){return e})})}function a(a,e,f){return h(a,f).then(function(f){return b("Promise").all(e.map(function(b){return a.table("participants").add({authorityLevel:d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC),contactId:b.id,deliveredWatermarkTimestampMs:d("I64").zero,groupParticipantJoinState:d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:d("I64").zero,readWatermarkTimestampMs:d("I64").zero,subscribeSource:void 0,threadKey:f})})).then(function(){return f})})}g.call=a}),98);
__d("MWEmoji.react",["CometEmoji.react","EmojiRenderer","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.emoji,e=a.size;a=a.testid;return h.jsx(c("CometEmoji.react"),{emoji:i(function(){var a=d("EmojiRenderer").parse(b);a=a[0];return a!=null?a.emoji:[b]},[b]),size:e,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","I64","LSFactory","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","MessageRequestsBulkActionsContext.react","MessageRequestsLog","ServerTime","TetraButtonGroup.react","emptyFunction","focusScopeQueries","promiseDone","react","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function l(a){return j(function(b){b.forEach(function(b){var e=d("I64").of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(e,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite"))})},[a])}function m(a){return j(function(b){b.forEach(function(b){var e=d("I64").of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticDeleteThread")(e,c("LSFactory")(a))},"readwrite"))})},[a])}function a(a){a=a.entryPoint;var b=a===void 0?"messageRequests":a;a=k(c("MessageRequestsBulkActionsContext.react"));var e=a.setIsBulkActionsEditMode,f=a.bulkActionsUnreadSelectedThreads,g=a.bulkActionsSelectedThreads,j=c("useReStore")(),n=l(j),o=m(j),p=c("useMWXConfirmationDialog")();j=function(){n(g);e(!1);return d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,g.size,f.size,5,b==="spam"?-3:-1)};var q=function(){d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,g.size,f.size,4,b==="spam"?-3:-1);return p({body:g.size===1?h._("__JHASH__MLd3xbTafSI__JHASH__"):h._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:h._("__JHASH__pKnL1Kcyxnh__JHASH__"),title:g.size===1?h._("__JHASH__zdCU4WfWx_J__JHASH__"):h._("__JHASH__6Kbu-lnpMhp__JHASH__",[h._param("Number of selected threads",String(g.size))])},function(){o(g);e(!1);d("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",d("focusScopeQueries").tabbableScopeQuery);return d("MessageRequestsLog").logMessageRequestsBulkActionConfirmed(0,g.size,f.size,4,b==="spam"?-3:-1)},c("emptyFunction"))};return i.jsx("div",{className:a.isBulkActionsEditMode?"xsag5q8":"x1s85apg",id:b==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(c("TetraButtonGroup.react"),{align:"justify",direction:"forward",primary:{disabled:g.size===0||f.size===0,label:h._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),onPress:j,testid:b==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",type:"secondary"},secondary:{disabled:g.size===0,label:h._("__JHASH__pKnL1Kcyxnh__JHASH__"),onPress:q,testid:b==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSInboxNavigationHeaderWithBackButton.react",["CometTopNavListDropdown.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endContent,d=a.onReturn;a=a.title;return h.jsx(c("CometTopNavListDropdown.react").Title,{actions:b!=null?[b]:[],onReturn:d,title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxNavigationHeaderWithBackButton.react",["FDSInboxNavigationHeaderWithBackButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=c("FDSInboxNavigationHeaderWithBackButton.react")}),98);
__d("useMWInboxSelectedThread",["MWInboxProvider.react","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("MWInboxProvider.react").MWInboxProviderContext);if(a==null||a.type!==d("useMWInboxURIState").MWInboxURIStateTag.Recent)return;a=a.uriStateDetails;if(a==null)return;switch(a.type){case d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread:case d("useMWInboxURIState").MWInboxURIStateDetailsType.SecureThread:return a.fbid;default:return}}g["default"]=a}),98);
__d("MWUseGlobalMuteUntil.bs",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("notification_settings"))},[a],f.id+":24");return b!=null?b.globalMuteUntil:d("I64").zero}g.useGlobalMuteUntil=a}),98);
__d("MWPThreadPreview.react",["CometHeroInteractionWithDiv.react","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSLocalCreateOptimisticGroupThread","LSMessagingThreadTypeUtil","LSVec","LSVerifyContactRowExists","LSVerifyThreadRowExists","MAWGating","MWChatInteraction.bs","MWPActor.react","MWPThreadThemeProvider.react","MWThreadKey.react","Promise","ReQL","ReQLSuspense","cr:4055","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useMemo,k={composer:{flexShrink:"x2lah0s",minHeight:"x879a55",$$css:!0},container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",fontSize:"x6prxxf",minHeight:"x2lwn1j",$$css:!0},preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function l(a){var e=c("useReStore")();i(function(){c("promiseDone")(e.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a.id,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(e))}))},"readwrite"))},[e,JSON.stringify(a.map(function(a){return d("I64").to_string(a.id)}))])}function m(a){var b=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.thread,j=d("MWChatInteraction.bs").get("open_with_tokens");i(function(){j!=null&&(c("InteractionTracingMetrics").addAnnotation(j,"thread_id",d("I64").to_string(g.threadKey)),c("InteractionTracingMetrics").addAnnotation(j,"thread_type",d("I64").to_string(g.threadType)),c("InteractionTracingMetrics").addAnnotation(j,"isSecure",d("LSMessagingThreadTypeUtil").isSecure(g.threadType).toString()))},[j,g.threadKey,g.threadType]);return e!=null?e(g,b):h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:g.threadKey,children:h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j",children:[h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:j,pageletName:"ChatTab",xstyle:k.preview,children:h.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:g.themeFbid,children:f(g)})}),h.jsx("div",{className:"x2lah0s x879a55",children:b})]})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.children,e=a.recipientToken,g=a.renderThreadPreview,j=a.renderThreadView,k=a.setPreviewThread,n=c("useReStore")(),o=e.threadType,p=e.id;l([e]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(p,o,d("LSIntEnum").ofNumber(1),c("LSFactory")(a))},"readwrite"))},[n,p,o]);var q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("threads")).getKeyRange(p)},[n,p],f.id+":205");i(function(){k(q)},[k,q]);if(q!=null)return h.jsx(m,{renderThreadPreview:g,renderThreadView:j,thread:q,children:b});else return null}function o(a,b,e){var g=c("useReStore")(),h=d("I64").to_string(d("MWPActor.react").useActor()),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).filter(function(a){return b.has(d("I64").to_string(a.contactId))}).map(function(a){return d("I64").to_string(a.threadKey)})},[g,b],f.id+":241");return d("ReQLSuspense").useFirst(function(){var c=new Set(i);return d("ReQL").fromTableAscending(g.table("threads")).filter(function(a){return d("I64").equal(a.threadType,e)}).filter(function(a){return a.threadName==null}).filter(function(a){a=a.clientThreadKey;if(a!=null)return c.has(d("I64").to_string(a));else return!1}).filter(function(c){c=c.clientThreadKey;if(c==null)return!1;c=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(g.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(c).map(function(a){return d("I64").to_string(a.contactId)}).filter(function(a){return a!==h}),f.id+":276");if(d("MAWGating").isChatWithYourselfEnabled()&&a.length===1&&c.length===0)return!0;else if(c.every(function(a){return b.has(a)}))return c.length===b.size;else return!1})},[i,g,e,a.length,h,b],f.id+":254")}function p(a,e,f,g){var h=c("useReStore")();i(function(){a==null&&c("promiseDone")(h.runInTransaction(function(a){if(d("I64").equal(e,d("LSIntEnum").ofNumber(2)))return c("LSLocalCreateOptimisticGroupThread")(c("LSVec").make(f.map(function(a){return a.id})),void 0,g,c("LSFactory")(a)).then(function(){});else if(d("LSMessagingThreadTypeUtil").isSecure(e))return b("cr:4055")==null?b("Promise").resolve():b("cr:4055").call(a,f,e);c("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type "+(e?d("I64").to_string(e):""),"messenger_web_product");return b("Promise").resolve()},"readwrite"))},[g,h,JSON.stringify(a),JSON.stringify(e),f])}function q(a){var b=a.checkExistingThreads,c=a.children,d=a.renderThreadPreview,e=a.renderThreadView,f=a.setPreviewThread,g=a.threadType,j=a.tokenContactIdsMaybeExcludingActor,k=a.tokens;a=a.tokensMaybeExcludingActor;var n=o(a,j,g);l(a);p(n,g,k,b);i(function(){f(n)});if(n!=null)return h.jsx(m,{renderThreadPreview:d,renderThreadView:e,thread:n,children:c});else return null}function r(a,b,e,g){var h=c("useReStore")(),i=d("I64").to_string(d("MWPActor.react").useActor()),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("participants")).filter(function(a){return b.has(d("I64").to_string(a.contactId))}).map(function(a){return d("I64").to_string(a.threadKey)})},[h,b],f.id+":428");return d("ReQLSuspense").useFirst(function(){var a=new Set(j);return d("ReQL").fromTableAscending(h.table("threads")).filter(function(a){return d("I64").equal(a.threadType,e)}).filter(function(a){return a.threadName==null}).filter(function(a){if(g)return!0;else return d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}).filter(function(b){return a.has(d("I64").to_string(b.threadKey))}).filter(function(a){a=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(h.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(a.threadKey).map(function(a){return d("I64").to_string(a.contactId)}),f.id+":460");var c=a.filter(function(a){return a!==i});if(d("MAWGating").isChatWithYourselfEnabled()&&c.length===0&&a.length===1)return!0;else if(a.length===c.length||c.length!==b.size)return!1;else return c.every(function(a){return b.has(a)})})},[j,h,JSON.stringify(e),g,a,b,i],f.id+":439")}function s(a){var b=a.checkExistingThreads,c=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.setPreviewThread,k=a.threadType,l=a.tokens,n=a.tokensMaybeExcludingActor;a=j(function(){return new Set(n.map(function(a){return d("I64").to_string(a.id)}))},[n]);var o=r(n,a,k,b);i(function(){o!=null&&g(o)},[g,o]);if(o!=null)return h.jsx(m,{renderThreadPreview:e,renderThreadView:f,thread:o,children:c});else return h.jsx(q,{checkExistingThreads:b,renderThreadPreview:e,renderThreadView:f,setPreviewThread:g,threadType:k,tokenContactIdsMaybeExcludingActor:a,tokens:l,tokensMaybeExcludingActor:n,children:c})}function a(a){var b=a.areWeCreatingASecureThread,c=a.checkExistingThreads;c=c===void 0?!0:c;var e=a.children,f=a.nullstate;f=f===void 0?null:f;var g=a.renderThreadPreview,k=a.renderThreadView,l=a.setPreviewThread,m=a.tokens,o=d("MWPActor.react").useActor();a=j(function(){return m.filter(function(a){return!d("I64").equal(a.id,o)})},[m,o]);i(function(){m.length===0&&l()},[l,m]);if(m.length===0)return f;var p=a.length;if(p!==1){if(p===0)return b?d("MAWGating").isChatWithYourselfEnabled()?h.jsx(s,{checkExistingThreads:c,renderThreadPreview:g,renderThreadView:k,setPreviewThread:l,threadType:d("LSIntEnum").ofNumber(15),tokens:m,tokensMaybeExcludingActor:m,children:e}):f:h.jsx(n,{recipientToken:m[0],renderThreadPreview:g,renderThreadView:k,setPreviewThread:l,children:e})}else{p=a[0];if(c)if(b)return h.jsx(s,{checkExistingThreads:c,renderThreadPreview:g,renderThreadView:k,setPreviewThread:l,threadType:d("LSIntEnum").ofNumber(15),tokens:m,tokensMaybeExcludingActor:a,children:e});else return h.jsx(n,{recipientToken:p,renderThreadPreview:g,renderThreadView:k,setPreviewThread:l,children:e})}return h.jsx(s,{checkExistingThreads:c,renderThreadPreview:g,renderThreadView:k,setPreviewThread:l,threadType:b?d("LSIntEnum").ofNumber(16):d("LSIntEnum").ofNumber(2),tokens:m,tokensMaybeExcludingActor:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessagingJewelCommunitiesQPBannerContainerPassthroughQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6488000047956149"}),null);