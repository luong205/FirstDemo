;/*FB_PKG_DELIM*/

__d("BootloadedReact",["Bootloader","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i=d("react").useLayoutEffect,j=function(a){c("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};function a(a,b,c){j(function(d){if(c!=null)return d.render(h.jsx(k,{onRender:c,children:a}),b,"BootloadedReact.js");else d.render(a,b,"BootloadedReact.js")})}function b(a){j(function(b){b.unmountComponentAtNode(a,f.id)})}function k(a){var b=a.onRender;i(function(){b()},[b]);return a.children}g.render=a;g.unmountComponentAtNode=b}),98);
__d("getOrCreateDOMID",["uniqueID"],(function(a,b,c,d,e,f,g){function a(a){a.id||(a.id=c("uniqueID")());return a.id}g["default"]=a}),98);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){function a(a,b){a.setAttribute("data-ownerid",c("getOrCreateDOMID")(b))}function b(a,b){b=b;while(b){if(c("containsNode")(a,b))return!0;b=h(b)}return!1}function h(a){a=a;var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return c("ge")(b);a=a.parentNode}return null}function e(a,b){a=a;var e;while(a&&!d("CSS").hasClass(a,b))a.getAttribute&&(e=a.getAttribute("data-ownerid"))?a=c("ge")(e):a=a.parentNode;return a}g.register=a;g.containsIncludingLayers=b;g.getContext=h;g.parentByClass=e}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function b(a){a=c("getDocumentScrollElement")(a);var b=a.scrollWidth||0;a=a.scrollHeight||0;return{width:b,height:a}}function d(a,b,d,e,f){var g;switch(b){case"left":case"right":case"top":case"bottom":g=[b];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+b)}b=function(b,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(c("Style").get(a,b+"-"+g[f]+d))||0;return e};return(d?b("padding",""):0)+(e?b("border","-width"):0)+(f?b("margin",""):0)}g.getElementDimensions=a;g.getDocumentDimensions=b;g.measureElementBox=d}),98);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f,g){var h=null;function a(a){if(c("isTextNode")(a))return a.data;else if(c("isElementNode")(a)){if(h===null){var b=document.createElement("div");h=b.textContent!=null?"textContent":"innerText"}return a[h]}else return""}g["default"]=a}),98);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}f["default"]=a}),66);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var b=c("isContentEditable")(a),d=h.has(a.nodeName);a=a instanceof HTMLInputElement&&i.has(a.type);return(b||d)&&!a}g["default"]=a}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f,g){var h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);b=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var b=a.prototype;b.mapKey=function(a){a=a;if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};b.onkeyevent=function(a,b){var d=b;d=c("Event").$E(d);b=this.handlers[d.keyCode]||this.handlers[d.which];if(b)for(var e=0;e<b.length;e++){var f=b[e].callback,g=b[e].filter;try{if(!g||g(d,a)){g=function(){var b=f(d,a),e=d.which||d.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(d.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",d.isTrusted).log()},"KeyEventController");if(b===!1)return{v:c("Event").kill(d)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};b.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(b,d){b=c("Event").$E(b);return a.filterEventTypes(b,d)&&a.filterEventTargets(b,d)&&a.filterEventModifiers(b,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,b){b=a.getTarget();return!c("isElementInteractive")(b)||a.keyCode in j&&(d("DOMQuery").isNodeOfType(b,["input","textarea"])&&b.value.length===0||c("isContentEditable")(b)&&c("getElementText")(b).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(b,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(b,d,e,f,c("emptyFunction").thatReturnsTrue)};a.registerKey=function(b,e,f,g,h){f===void 0&&(f=a.defaultFilter);g===void 0&&(g=!1);h===void 0&&(h=c("emptyFunction").thatReturnsFalse);b=b;var i=a.getInstance(),j=b==null?[]:i.mapKey(b);c("isEmpty")(i.handlers)&&d("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){b=""+j[l];(!i.handlers[b]||g)&&(i.handlers[b]=[]);var m={callback:e,filter:f,preserve:h};k[b]=m;i.handlers[b].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};a.registerKeyForButtonCallback=function(b,c){return a.registerKey(b,function(){c.click();return!1})};return a}();g["default"]=b}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h=null,i=null;function j(){i||(i=c("Event").listen(window,"blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=c("Event").getKeyCode(a),j()}function b(){h=null,k()}if(c("ExecutionEnvironment").canUseDOM){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",b,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",b)}}function d(){return!!h}function e(){return h}g.isKeyDown=d;g.getKeyDownCode=e}),98);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}f["default"]=a}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","BootloadedReact","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","Style","ge","isNode","isValidReactElement","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g,h){b("KeyStatus");var i=[],j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,d){var e;e=b.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var e=a.prototype;e.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};e._configure=function(a,b){var e=this;if(b){var f=c("isNode")(b),g=typeof b==="string"||c("HTML").isHTML(b);this.containsReactComponent=c("isValidReactElement")(b);!f&&!g&&!this.containsReactComponent&&c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(g)b=c("HTML")(b).getRootNode();else if(this.containsReactComponent){f=document.createElement("div");var h=!0;d("BootloadedReact").render(b,f,function(){e.inform("reactshow"),h||e.updatePosition()});h=!1;b=this._reactContainer=f}}this._root=this._buildWrapper(a,b);a.attributes&&c("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(d("CSS").addClass.bind(null,this._root));d("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=c("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);d("DataStore").set(this._root,"layer",this)};e._getDefaultBehaviors=function(){return[]};e.getCausalElement=function(){return this._causalElement};e.setCausalElement=function(a){this._causalElement=a;return this};e.getInsertParent=function(){return this._insertParent||document.body};e.getRoot=function(){this._root||(this._destroyed?c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};e.getContentRoot=function(){return this.getRoot()};e._buildWrapper=function(a,b){return b};e.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(c("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};e.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};e.show=function(){var b=this;if(this._shown)return this;var e=this.getRoot();e!=null||h(0,5142);this.inform("beforeshow");c("Style").set(e,"visibility","hidden");c("Style").set(e,"overflow","hidden");d("CSS").show(e);c("DOM").appendContent(this.getInsertParent(),e);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){b._shown&&i.push(b)},0)):d("CSS").hide(e);c("Style").set(e,"visibility","");c("Style").set(e,"overflow","");c("Style").set(e,"opacity","1");this.inform("aftershow");return this};e.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};e._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};e.conditionShow=function(a){return a?this.show():this._hide()};e.finishHide=function(){if(this._shown){this._permanent||c("removeFromArray")(i,this);this._hiding=!1;this._shown=!1;var b=this.getRoot();b!=null||h(0,5143);d("CSS").hide(b);this.inform("hide");a.inform("hide",this)}};e.isShown=function(){return this._shown};e.updatePosition=function(){return!0};e.destroy=function(){this.containsReactComponent&&d("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var b=this.getRoot();c("DOM").remove(b);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);d("DataStore").remove(b,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return i[i.length-1]};a.informBlur=function(a){k=null;l=null;var b=i.length;if(!b)return;while(b--){var c=i[b],e=c.getContentRoot();e!=null||h(0,5144);if(d("ContextualThing").containsIncludingLayers(e,a))return;if(c.inform("blur",{target:a})===!1||c.isShown())return}};return a}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(j,c("ArbiterMixin"));Object.assign(j.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(a){if(c("KeyEventController").filterEventTargets(a,"keydown"))for(var b=i.length-1;b>=0;b--)if(i[b].inform("key",a)===!1)return!1;return!0},c("Event").Priority.URGENT);var k;c("Event").listen(document.documentElement,"mousedown",function(a){k=a.getTarget()});var l;c("Event").listen(document.documentElement,"mouseup",function(a){l=a.getTarget(),c("setImmediate")(function(){k=null,l=null})});c("Event").listen(document.documentElement,"click",function(a){var b=k,e=l;k=null;l=null;var f=i.length;if(!f)return;f=a.getTarget();if(f!==e||f!==b)return;if(!c("DOM").contains(document.documentElement,f))return;if(f.offsetWidth!=null&&!f.offsetWidth)return;if(d("Parent").byClass(f,"generic_dialog"))return;j.informBlur(f)});g["default"]=j}),98);/*FB_PKG_DELIM*/
__d("MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4802583899845424"}),null);
__d("MWThreadUserNotOnboardedNuxWrapperQuery.graphql",["MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"should_see_messenger_encrypted_backups_cutover_setup_interstitial_upsell",plural:!1,selections:[{args:null,documentName:"MWThreadUserNotOnboardedNuxWrapperQuery",fragmentName:"MWThreadUserNotOnboardedNux_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWThreadUserNotOnboardedNuxWrapperQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWThreadUserNotOnboardedNuxWrapperQuery",selections:[a]},params:{id:b("MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWThreadUserNotOnboardedNuxWrapperQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/eb/gdrive/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("EncryptedBackupsSupportedPlatformUtils",["$InternalEnum","ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MWInboxProvider.react","XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext,i=b("$InternalEnum").Mirrored(["MESSENGER_DOT_COM","FACEBOOK_DOT_COM","FACEBOOK_INBOX","INSTAGRAM_DIRECT_INBOX"]),j=c("gkx")("1968579"),k=c("gkx")("7561"),l=c("gkx")("7597"),m={facebook:"facebook",messenger:"messenger"};function a(a){if(a!=null){return(a=d("ConstUriUtils").getUri(a))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}}function e(a){if(a!=null){var b;return(b=c("XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setDomain(a))==null?void 0:(a=b.setProtocol("https"))==null?void 0:a.toString()}return null}function f(a){if(a==null)return null;var b=Object.values(m).includes(a);return!b?null:"https://www."+a+".com"}function n(){var a=h(d("MWInboxProvider.react").MWInboxProviderContext);if(j)return m.messenger;return k||a!=null?m.facebook:null}function o(){var a=h(d("MWInboxProvider.react").MWInboxProviderContext);if(l)return i.INSTAGRAM_DIRECT_INBOX;if(j)return i.MESSENGER_DOT_COM;k||c("FBLogger")("labyrinth_web").info("Unknown supported platform type. Falling back to facebook.com as Supported Platform type.");return a!=null?i.FACEBOOK_INBOX:i.FACEBOOK_DOT_COM}g.EncryptedBackupsSupportedPlatform=i;g.getFbsbxOrigin=a;g.getFbsbxUri=e;g.getSupportedGdrivePlatform=f;g.useMWEncryptedBackupsGetSupportedGdriveDomain=n;g.useMWEncryptedBackupsGetCurrentSupportedPlatform=o}),98);
__d("MWChatEncryptedBackupsQPLSource.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({CHAT_SETTINGS:"chat_settings",CHAT_TABS_UPSELL:"chat_tabs_upsell",JEWEL_UPSELL:"jewel_upsell",CHAT_SETTINGS_JEWEL_UPSELL:"chat_settings_jewel_upsell",THREAD_LIST_PRE_TLC:"thread_list_pre_tlc",THREAD_LIST_TLC:"thread_list_tlc",THREAD_LIST_POST_TLC:"thread_list_post_tlc",E2EE_CHAT_THREAD:"e2ee_chat_thread",MESSENGER_INBOX:"messenger_inbox",FB_DOT_COM_IN_THREAD_UPSELL:"fb_dot_com_in_thread_upsell",FB_DOT_COM_THREAD_LIST_UPSELL:"fb_dot_com_thread_list_restore_upsell",FB_DOT_COM_RESTORE_JEWEL_UPSELL:"fb_dot_com_restore_jewel_upsell",AUTO_RESTORE_LOGIN:"auto_restore_login",AUTO_RESTORE_RESTORE_FLOW:"auto_restore_restore_flow",DYI:"dyi",IG_SETTINGS:"ig_settings",IG_INBOX_AUTO_RESTORE:"ig_inbox_auto_restore"});c=a;f["default"]=c}),66);
__d("useEncryptedBackupsProcessState",["gkx","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds.bs").__setRef("useEncryptedBackupsProcessState");function a(a){var b=a.encryptedBackupData,d=a.storage;a=i(1);var e=a[0],f=a[1];h(function(){c("gkx")("7110")&&b!=null?j.onReady(function(a){c("promiseDone")(a.processBackupIdsStoredProcedure(d),function(a){switch(a){case 1:break;case 2:f(2);break;case 3:f(3);break;case 4:f(4);break;case-1:f(-1);break;case 0:break}})}):f(0)},[b,d]);return{backupState:e,hasUserOptedOut:(a=b==null?void 0:b.isUserOptedOut)!=null?a:!1}}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7553")===!0}function i(){return c("qex")._("1371")===!0}function j(){return c("qex")._("1371")===!0}function a(){return h()||i()||j()}g.shouldDisplayTLCUpsells=i;g.shouldDisplayAnyTLCUpsells=a}),98);
__d("MWThreadUserNotOnboardedNuxWrapper.react",["CometRelay","MWThreadUserNotOnboardedNuxWrapperQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.dialogTitle,e=a.setIsClosed;a=a.source;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWThreadUserNotOnboardedNuxWrapperQuery.graphql"),{});f=f.viewer;f=f.should_see_messenger_encrypted_backups_cutover_setup_interstitial_upsell;return i.jsx(d("CometRelay").MatchContainer,{match:f,props:{dialogTitle:c,setIsClosed:e,source:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEncryptedBackupsThreadNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsUpsellUtils","MWThreadUserNotOnboardedNuxWrapper.react","ReQL","ReQLSuspense","react","useEncryptedBackupsProcessState","useMAWIsUnsupportedBrowserNUXShown","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState;function a(a){var b=a.isOneToOne;a=a.peerName;var e=d("useMAWIsUnsupportedBrowserNUXShown").useMAWIsUnsupportedBrowserNUXShown(),g=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("encrypted_backups"))},[g],f.id+":42");l=c("useEncryptedBackupsProcessState")({encryptedBackupData:l,storage:g});var m=l.backupState,n=l.hasUserOptedOut;l=k(!1);var o=l[0],p=l[1],q=b&&a!=null?h._("__JHASH__lDYRp3tl6Qf__JHASH__",[h._param("peer name",a)]):b?h._("__JHASH__N3qSfjqXNv6__JHASH__"):h._("__JHASH__jiKvDw_fxWh__JHASH__"),r=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();return j(function(){if(o||e)return null;switch(r){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:switch(m){case 2:if(d("MWChatEncryptedBackupsUpsellUtils").shouldDisplayTLCUpsells()&&!n)return i.jsx(c("MWThreadUserNotOnboardedNuxWrapper.react"),{dialogTitle:q,setIsClosed:p,source:c("MWChatEncryptedBackupsQPLSource.enum").E2EE_CHAT_THREAD});break;case 3:break;default:break}break;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return null}return null},[o,e,r,m,n,q])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometPagelet.react","CometScreenReaderText.react","I64","MAWMessageListRow.react","MAWSecureAttachmentRenderer.react","MWBaseTheme","MWInboxThreadMessagesSpinner.react","MWMessageRow.react","MWPBaseMessageList.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ContextBanner.react","MWV2MessageRowSimple.react","cr:4242","cr:6046","gkx","react","useMAWOfflineQueueLoadingIndicator","useMWPAriaLabelForMessageListGrid","useThreadLastMessageTimeMs","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.forwardRef,k=i.useId,l=i.useState,m={messageBubble:{backgroundColor:"x1vtvx1t",$$css:!0},messageListPagelet:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",$$css:!0}};function a(a){var b=a.theme;b=b===void 0?d("MWBaseTheme").empty:b;var e=a.threadKey;a=a.threadType;var f=d("MWPTypingIndicators.react").useTypingParticipants(e),g=d("MWPTypingIndicators.react").useAccessibilityText(f);if(f.length>0)return h.jsx(c("BaseTheme.react"),{config:b,children:h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[h.jsx("div",{"aria-live":"polite",children:h.jsx(c("CometScreenReaderText.react"),{text:g})}),h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{messageBubbleStyle:m.messageBubble,threadKey:e,threadType:a})]})})});else return null}var n=d("withCometPlaceholder").withCometPlaceholder(a);function e(a,e){var f=a.cutoverOpenThread,g=a.entryPoint,i=a.onScrollToBottom,j=a.thread;a=c("useMWPAriaLabelForMessageListGrid")(j);var m=d("MWMessageRow.react").useTheme(),o=l(""),p=o[0];o=o[1];var q=k(),r=c("useThreadLastMessageTimeMs")(j.threadKey);r=r!=null?d("I64").lt(r,j.lastActivityTimestampMs):!0;var s=c("useMAWOfflineQueueLoadingIndicator")(!1,j),t=!s&&r;s=h.jsx(c("MWPBaseMessageList.react"),{entryPoint:g,onScrollToBottom:i,pageSize:c("gkx")("2233")?3:15,ref:e,renderFooter:function(){return h.jsxs(h.Fragment,{children:[h.jsx(n,{theme:m,threadKey:j.threadKey,threadType:j.threadType}),t&&b("cr:6046")?h.jsx(b("cr:6046"),{}):null]})},renderHeader:function(){return h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),h.jsx(c("MWV2ContextBanner.react"),{thread:j}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},renderLoadingAnimation:function(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{})},renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage;a=a.prevMessage;return h.jsx(c("MAWMessageListRow.react"),{domElementRef:b,modal:p,renderAttachment:d("MAWSecureAttachmentRenderer.react").render,row:{message:e,nextMessage:f,prevMessage:a},thread:j})},secondaryThread:f,thread:j});return h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d","data-testid":void 0,id:q,children:h.jsx(d("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:null,name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:h.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:a,modal:p,setModal:o,children:b("cr:4242")==null?s:h.jsx(b("cr:4242"),{id:q,children:s})})})})})}e.displayName=e.name+" [from "+f.id+"]";i=j(e);g["default"]=i}),98);
__d("MAWCutoverSecureThreadDetail.react",["CometPagelet.react","ComponentMountUnmountSubspanLogger.react","I64","LSMessagingThreadTypeUtil","MAWArmadilloLinkContext.react","MAWMessageList.react","MWEncryptedBackupsThreadNux.react","MWPActor.react","ReQL","ReQLSuspense","cr:6045","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.cutoverOpenThread,g=a.entryPoint,j=a.messageListRef,k=a.thread,l=c("useReStore")();c("useSecureThreadDetailGetDevices")(k,l);var m=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.table("participants")).getKeyRange(k.threadKey),d("ReQL").fromTableAscending(l.table("contacts"))).take(8)},[k.threadKey],f.id+":52");a=a.filter(function(a){return!d("I64").equal(a[0].contactId,m)});a=(a=a[0])==null?void 0:(a=a[1])==null?void 0:a.firstName;var n=i(!1),o=n[0],p=n[1];return h.jsxs(h.Fragment,{children:[h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWEncryptedBackupsThreadNux",children:h.jsx(c("MWEncryptedBackupsThreadNux.react"),{isOneToOne:d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType),peerName:a})}),!o&&b("cr:6045")?h.jsx(b("cr:6045"),{}):null,h.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWCutoverSecureThreadDetail"}),h.jsx(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:h.jsx(c("MAWMessageList.react"),{cutoverOpenThread:e,entryPoint:g,onScrollToBottom:function(a){return p(a)},ref:j,thread:k})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","I64","LSAuthorityLevel","LSIntEnum","MAWArmadilloLinkContext.react","MAWMessageList.react","cr:2522","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.cutoverOpenThread,f=a.entryPoint,g=a.messageListRef;a=a.thread;var j=c("useReStore")();c("useSecureThreadDetailGetDevices")(a,j);j=i(!1);var k=j[0],l=j[1];j=e!=null&&d("I64").equal(e.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return h.jsxs(h.Fragment,{children:[h.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:2522")!=null&&j&&h.jsx(b("cr:2522"),{isShown:!k,thread:a})}),h.jsxs(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:[h.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),h.jsx(c("MAWMessageList.react"),{cutoverOpenThread:j?e:void 0,entryPoint:f,onScrollToBottom:function(a){return l(a)},ref:g,thread:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5925171094261418"}),null);/*FB_PKG_DELIM*/
__d("CometImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);var l=k(null),m=l[0],n=l[1],o=j();l=i(function(){var a=o.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;n(a.src);e!=null&&e()},[e]);return m!=null?h.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+m+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):h.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:l,ref:o,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return h.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useLayoutEffect,j=b.useRef;function a(a,b){b===void 0&&(b=100);var d=j(a);i(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});h(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3});f["default"]=a}),66);
__d("useLSMessagingInitiatingSource",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g["default"]=a}),98);
__d("MWInboxInfoPanelContext.react",["Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=c.useState,l=e({currentSubthreadView:null,footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(){},setCurrentSubthreadView:function(){},setIsExpanded:function(){},setPushMemberRequestsPage:function(){},setShouldNavToMemberRequests:function(){},setShowSubthreadList:function(){},setSubthreadKey:function(){},shouldNavToMemberRequests:!1,sourceIsSubthreadNav:{current:!1},subthreadKey:null});function a(){return i(l)}function b(a){var b=a.children,c=a.isExpanded,e=a.setIsExpanded,f=j(!1);a=k(null);var g=a[0],i=a[1],m=f.current,n=j(function(){}),o=n.current,p=j(!1),q=j(null),r=j(!1);a=k(null);var s=a[0],t=a[1];a=d("Int64Hooks").useMemoInt64(function(){return{currentSubthreadView:s,footerContentRef:q,isExpanded:c,isOnMemberRequestsPageRef:p,pushMemberRequestsPage:o,setCurrentSubthreadView:t,setIsExpanded:function(a){a&&(t(null),i(null)),e(a)},setPushMemberRequestsPage:function(a){n.current=a},setShouldNavToMemberRequests:function(a){f.current=a},setShowSubthreadList:function(a,b){b===void 0&&(b=!1),a&&(e(!1),i(null)),t(a?"subthreadList":null),r.current=a&&b},setSubthreadKey:function(a){e(!1),i(a)},shouldNavToMemberRequests:m,sourceIsSubthreadNav:r,subthreadKey:g}},[c,o,e,m,s,g]);return h.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWInboxInfoPanelContext=a;g.MWInboxInfoPanelProvider=b}),98);
__d("MWCMSubthreadsInboxFocusContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=c.useState,l=e({isSubthreadFocused:!1,setIsSubthreadFocused:function(){}});function a(){return i(l)}function b(a){a=a.children;var b=k(!1),c=b[0],d=b[1];b=j(function(){return{isSubthreadFocused:c,setIsSubthreadFocused:d}},[c,d]);return h.jsx(l.Provider,{value:b,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useIsSubthreadFocusedContext=a;g.MWCMIsSubthreadFocusedContextProvider=b}),98);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("MWVersion.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("2");g.v2=a}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","LSMessagingInitiatingSource","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWChatInteraction.bs").get(d("I64").to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;return b!=null&&d("I64").to_int32(b)===c("LSMessagingInitiatingSource").FACEBOOK_INBOX?h(e,a):i(e,a)}function h(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.inboxEntrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get("inbox_init");return a!=null&&d("I64").equal(b,d("I64").of_string(a))?"initInbox":"unknownInbox"}function i(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.entrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);a=a!=null?c("InteractionTracingMetrics").get(a):null;a=(a==null?void 0:(a=a.annotations.string)==null?void 0:a.thread_id)===d("I64").to_string(b);return a?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasSticker;h=h===void 0?!1:h;var i=a.hasVideo;i=i===void 0?!1:i;a=a.hasVoiceClip;a=a===void 0?!1:a;var j=g.None;e?j=g.Image:i?j=g.Video:h?j=g.Sticker:c?j=g.Gif:a?j=g.Audio:d?j=g.HotEmoji:f?j=g.Link:b&&(j=g.File);return j}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MAWEBSwitch","MAWLogMultipleTabs","MWGetOriginalEntrypoint","MWLinkRegex","MWMsgMediaTypeLogUtils","MWVersion.bs","URLMatcher","asyncToGeneratorRuntime","cr:6277","gkx","isStringNullOrEmpty","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply"}),i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){e.hasAttachment;var g=e.hasReply,j=e.hasStoryReply,k=e.hasText;e=babelHelpers.objectWithoutPropertiesLoose(e,["hasAttachment","hasReply","hasStoryReply","hasText"]);var l=h.Send;g?l=h.Reply:j&&(l=h.StoryReply);g=d("MWMsgMediaTypeLogUtils").getAttachmentType(e);j=k&&(!g||g===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;e=!1;b("cr:6277")!=null&&(e=(yield b("cr:6277").isCutoverThreadKey(a.threadKey)));return{bool:{is_cutover:e,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_pdb_enabled:Boolean(c("gkx")("6543")),is_secure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{action_type:l,attachment_type:g,message_type:j,mw_version:d("I64").to_string(d("MWVersion.bs").v2),original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey,f),thread_id:d("I64").to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?d("I64").to_string(a.threadSubtype):null,thread_type:d("I64").to_string(a.threadType)}}});return j.apply(this,arguments)}function e(a,e,f,g){var j=e.hasFile;j=j===void 0?!1:j;var k=e.hasGif;k=k===void 0?!1:k;var l=e.hasHotEmoji;l=l===void 0?!1:l;var m=e.hasImage;m=m===void 0?!1:m;var n=e.hasLinks;n=n===void 0?!1:n;var o=e.hasReply;o=o===void 0?!1:o;var p=e.hasSticker;p=p===void 0?!1:p;var q=e.hasStoryReply;q=q===void 0?!1:q;var r=e.hasText;r=r===void 0?!1:r;var s=e.hasVideo;s=s===void 0?!1:s;e=e.hasVoiceClip;e=e===void 0?!1:e;var t=h.Send;o?t=h.Reply:q&&(t=h.StoryReply);o=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:j,hasGif:k,hasHotEmoji:l,hasImage:m,hasLinks:n,hasSticker:p,hasVideo:s,hasVoiceClip:e});q=r&&(!o||o===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;d("MAWLogMultipleTabs").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",o);a.addAnnotation("action_type",t);a.addAnnotation("message_type",q);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(f.threadKey,g));a.addAnnotation("thread_id",d("I64").to_string(f.threadKey));a.addAnnotation("thread_type",d("I64").to_string(f.threadType));f.threadSubtype!=null&&a.addAnnotation("thread_subtype",d("I64").to_string(f.threadSubtype));b("cr:6277")!=null&&c("promiseDone")(b("cr:6277").isCutoverThreadKey(f.threadKey),function(b){a.addAnnotationBoolean("is_cutover",b)});a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isSecure(f.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb_enabled",Boolean(c("gkx")("6543")))}function f(a,b,e,f,g,h,i){var j=!c("isStringNullOrEmpty")(a),k=!1;a!=null&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0&&(k=!0);a=!1;h=h!=null;h?a=!0:g!=null&&(a=!0);var l=!1,m=!1,n=!1;if(i!=null&&i.length>0){a=!0;for(i of i){var o=i.mimeType;o.indexOf("image")!==-1&&(l=!0);o.indexOf("video")!==-1&&(m=!0);o.indexOf("application")!==-1&&(n=!0)}}o=b!=null;i=e!=null;b=e!=null;e=f!=null;f=!e&&g!=null;return{hasAttachment:a,hasFile:n,hasGif:f,hasHotEmoji:o,hasImage:l,hasLinks:k,hasReply:i,hasSticker:e,hasStoryReply:b,hasText:j,hasVideo:m,hasVoiceClip:h}}g.ActionType=h;g.MsgType=i;g.getSharedMetadataForQPLUserFlow=a;g.addSharedMetadataForInteractionTrace=e;g.getMessageTypeParams=f}),98);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function(a,b,c,d,e,f,g,h){var i={},j=["Webkit","ms","Moz","O"],k=new RegExp("^("+j.join("|")+")"),l=c("ExecutionEnvironment").canUseDOM?document.createElement("div").style:{};function m(a){for(var b=0;b<j.length;b++){var c=j[b]+a;if(c in l)return c}return null}function n(a){switch(a){case"lineClamp":return c("UserAgent").isEngine("WebKit >= 315.14.2")?"WebkitLineClamp":null;default:return null}}function a(a){var b=c("camelize")(a);if(i[b]===void 0){var d=b.charAt(0).toUpperCase()+b.slice(1);k.test(d)&&h(0,957,a);c("ExecutionEnvironment").canUseDOM?i[b]=b in l?b:m(d):i[b]=n(b)}return i[b]}g["default"]=a}),98);
__d("useThrottled",["useThrottledImpl"],(function(a,b,c,d,e,f,g){"use strict";f.exports=c("useThrottledImpl")}),34);/*FB_PKG_DELIM*/
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWMediaTraceHandler.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),d("I64").neg_one,void 0,d("I64").to_string(e)+","+d("I64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("MWV2SendOpenMessage",["ArmadilloDataTraceCheckPoint.bs","I64","Int64Hooks","LSAppendDataTraceAddon","LSAuthorityLevel","LSFactory","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSOptimisticSendMessageV2","LSShape","LSThreadBitOffset","LSVec","MAWOptimisticUpdateContactRelationship.bs","MWCMThreadTypes.react","MWChatInteraction.bs","MWConsole","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MWSharedMsgLogUtils","MWVersion.bs","MessagePowerUp","MessageRequestsLog","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWLSUpdateDraftMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler.bs").logMediaSendStart(a,b,c,d("I64").of_int32(e)))});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddon")(e,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,d("I64").minus_one,void 0,b,c("LSFactory")(a)))});return l.apply(this,arguments)}function m(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,e,f,g){var j=c("useReStore")(),l=d("MWPActor.react").useActor(),n=h(d("MWPReplyContext.react").MWPReplyContext),o=n.clearReply,p=n.reply,q=c("useLSMessagingInitiatingSource")(),r=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(40),a);n=a.threadSubtype;n={isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:d("I64").to_string(a.threadKey),thread_subtype:n&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(n)?d("I64").to_string(n):"",thread_type:d("I64").to_string(a.threadType)};var s=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,n),t=c("useCometInteractionTracing")(c("qpl")._(25313175,"1551"),"fast","INTERACTION",void 0,n),u=c("useMWLSDefaultThreadSource")(),v=c("useMWLSUpdateDraftMessage")();return d("Int64Hooks").useCallbackInt64(function(h,n,w,x,y,z,A,B,C,D,E,F){E===void 0&&(E=!1);F===void 0&&(F=!1);var G=!1,H=d("LSMessagingThreadTypeUtil").isMessageRequest(a);return s(function(s){t(function(t){var I=function(a){[s,t].forEach(function(b){a(b,b===t)})},J=u(a.threadKey),K={contents:!0},L=c("LSGenerateTraceId")(),M={contents:1},N={initiatingSource:q,isMessageRequest:H,mwVersion:d("MWVersion.bs").v2,threadType:a.threadType};c("promiseDone")(v(a.threadKey,""));c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=c("LSFactory")(e),s=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.table("media_staging")).filter(function(b){return!b.isSent&&d("I64").equal(b.threadKey,a.threadKey)}))),t=d("MWSharedMsgLogUtils").getMessageTypeParams(h,x,p,w,z,B,s);I(function(b){d("MWSharedMsgLogUtils").addSharedMetadataForInteractionTrace(b,t,a,q)});if(B==null){var u=n!=null?d("LSShape").ofRecord({mention_ids:n.map(function(a){return a.id}).join(","),mention_lengths:n.map(function(a){return String(a.length)}).join(","),mention_offsets:n.map(function(a){return String(a.offset)}).join(","),mention_types:n.length!==0?n.map(function(a){return a.type}).join(","):void 0}):void 0,v=t.hasAttachment,H=t.hasGif,O=t.hasLinks,P=t.hasSticker,Q=t.hasText;P?M.contents=4:H&&(M.contents=6);var R=c("gkx")("7566");I(function(a){return a.addMarkerPoint("before_create_optimistic_message","AppTiming")});var S;if(Q||P||H){G=!0;if(!E||F){yield k(e,d("I64").to_string(a.threadKey),L);S=(yield c("LSOptimisticSendMessageV2")(l,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,void 0,d("LSShape").ofRecord({attribution_app_id:y,calculate_denormalizations:!1,data_trace_id:L,external_attachment_url:z,hot_emoji_size:x,initiating_source:q,mark_read:d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:u,optimistic_attachment_preview:A,platform_token:C,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:J,sticker_id:w,text_has_links:O&&R}),o));I(function(a){return a.addMarkerPoint("create_optimistic_message_success","AppTiming")});v||I(function(a,b){var c=S[0];d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(c):c,N)});f!=null&&f({TAG:0,hasMention:n!=null&&n.length>0,isGIF:H,isReply:!!(p&&p.messageId!==""),isSticker:P,isText:Q,offlineThreadingId:S[0]});u=S[0];D!=null&&D(u);if(E)return}}else D!=null&&D();if(s.length===0){d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,(O=S)==null?void 0:O[0],[],J,M.contents,p!=null);return}R=s[0];M.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(R.attachmentType);var T=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(s,r);for(var U=0;U<T.length;U++)(!E||U===0&&F&&!G||!F)&&(yield* function*(){var h=T[U],b=c("LSGenerateTraceId")(),m=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make(h.map(d("LSShape").ofRecord)),void 0,o)),g=m[0];U===0&&I(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(g):g,N)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(g),threadAttributionSource:J,threadKey:a.threadKey});f!==void 0&&f({TAG:2,numberOfAttachments:h.length,offlineThreadingId:g});yield i(e,b,d("I64").of_int32(h.length),M.contents);m=function*(f){var b=h[f];yield c("LSInsertNewMediaSend")(b.attachment_fbid,g,d("I64").of_int32(f),b.attachment_type,!1,!1,!1,!1,o);f=s.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(f!=null){var i=f.fbid;i!=null&&(yield c("LSMarkSubJobCompletedV2")(b.attachment_fbid,i,void 0,void 0,void 0,o),yield d("MWPOpenComposerUtils").deleteMediaStaging(e,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:d("I64").to_string(i)})}))}K.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var n=0;n<h.length;n++)yield* m(n);d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,g,h.map(function(a){return a.attachment_fbid}),J,M.contents,p!=null);yield d("MWPOpenComposerUtils").resumeSendJob(o,g,b);yield k(e,d("I64").to_string(a.threadKey),b);yield d("LSFlushDataTrace.bs").updateAndFlushTrace(e,b)}());v=d("I64").to_string(a.threadKey);H=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[v,null]:[null,v];var V=H[0],W=H[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:K.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:W,thread_fbid:V}});return}var X=d("OfflineThreadingId").createOfflineThreadingID(),Y=d("MWPComposerMediaUploadUtil").getAudioAttachment(X,B.file,B.duration,B.waveformData);yield i(e,L,d("I64").one,2);P=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make([d("LSShape").ofRecord(Y)]),void 0,o));var Z=P[0];I(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(Z):Z,N)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:Z,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:d("I64").of_string(Z),threadAttributionSource:J,threadKey:a.threadKey});f!=null&&f({TAG:1,offlineThreadingId:Z});yield c("LSInsertNewMediaSend")(X,Z,d("I64").zero,Y.attachment_type,!1,!1,!1,!1,o);Q=function(e,f){c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2")(X,d("I64").of_float(f),void 0,void 0,void 0,b);yield d("MWPOpenComposerUtils").resumeSendJob(b,Z,L);m(Y.playable_url,f,j,a.threadKey)});return function(a){return e.apply(this,arguments)}}(),"readwrite")),d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,Z,[d("I64").to_string(d("I64").of_float(f))],J,d("MessagingLoggingUtils").convertI64ToAttachmentType(Y.attachment_type),p!=null)};d("MWPComposerMediaUploadUtil").startUpload(void 0,Q,void 0,!0,[B.file],[X],void 0,void 0,B.waveformData,void 0)});return function(a){return e.apply(this,arguments)}}(),"readwrite","ui"),function(){e(),o(a.threadKey,!1),d("MAWOptimisticUpdateContactRelationship.bs").call(a,j,l),H&&d("MessageRequestsLog").logActionConfirmed(a,1)})})})},[a,s,t,u,q,v,j,l,p,g,f,r,e,o])}g.useOnSendOpenMessage=a}),98);/*FB_PKG_DELIM*/
__d("FDSArrowLeftSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"M10.957 6.457a1 1 0 0 0-1.414-1.414l-6.25 6.25a1 1 0 0 0 0 1.414l6.25 6.25a1 1 0 0 0 1.414-1.414L5.414 12l5.543-5.543Z"}),h.jsx("path",{d:"M20 11H4.625a1 1 0 0 0 0 2H20a1 1 0 1 0 0-2Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSArrowRightSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"M13.043 17.543a1 1 0 0 0 1.414 1.414l6.25-6.25a1 1 0 0 0 0-1.414l-6.25-6.25a1 1 0 0 0-1.414 1.414L18.586 12l-5.543 5.543Z"}),h.jsx("path",{d:"M4 13h15.375a1 1 0 1 0 0-2H4a1 1 0 0 0 0 2Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCrossSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"m3.543 4.957 15.5 15.5a1 1 0 0 0 1.414-1.414l-15.5-15.5a1 1 0 0 0-1.414 1.414Z"}),h.jsx("path",{d:"m19.043 3.543-15.5 15.5a1 1 0 0 0 1.414 1.414l15.5-15.5a1 1 0 0 0-1.414-1.414Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWV2ChatTabHeader.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function k(a,b){return i(function(d){a(function(a){var e=a.onReturn;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),children:h.jsx(j,{onReturn:function(){e()},tab:b,threadKey:d})})})},[a,b])}function l(a){var b=a.children,c=a.pushPage;a=a.tab;c=k(c,a);return h.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:c,children:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.children,d=a.tab,e=a.thread;return h.jsx("div",{className:"xgqcy7u x1lq5wgf x2c8kfy x17adc0v xhvchuf x1jx94hy x1rgmuzj xbbk1sx",children:h.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:d}),fitContentWidth:!0,children:function(a){return h.jsx(l,{pushPage:a,tab:d,children:h.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:d,threadKey:e.threadKey,children:[h.jsx(c("MWV2ChatTabHeader.react"),{pushPage:a,tab:d,thread:e}),b]})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXSubthreadIcons.react",["Locale","cr:4863","cr:5612","cr:5641","cr:5726","cr:5731","cr:5732","cr:5734","cr:5737","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){a=a.color;if(b("cr:5737")!=null)return h.jsx(b("cr:5737"),{fill:a,size:28});return b("cr:5731")!=null?h.jsx(b("cr:5731"),{fill:a}):null};e=function(a){a=a.color;var d=c("Locale").isRTL()?b("cr:5734"):b("cr:5732"),e=c("Locale").isRTL()?b("cr:5726"):b("cr:5612");if(d!=null)return h.jsx(d,{fill:a,size:28});return e!=null?h.jsx(e,{fill:a}):null};f=function(a){a=a.color;if(b("cr:4863")!=null)return h.jsx(b("cr:4863"),{fill:a,size:28});return b("cr:5641")!=null?h.jsx(b("cr:5641"),{fill:a}):null};g.HeaderCrossIcon=a;g.HeaderBackIcon=e;g.HeaderSettingsButton=f}),98);
__d("MWCMSubthreadHeader.react",["fbt","CometPressable.react","JSResourceForInteraction","MWInboxHeaderButton.bs","MWPThreadThemeGradientUtils","MWV2HeaderSettingsButtonChevron.react","MWXLazyPopoverTrigger.react","MWXRow.react","MWXRowItem.react","MWXSubthreadIcons.react","MWXTextPairing.react","MWXTooltip.react","emptyFunction","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("571"),k={backButtonChatTab:{marginTop:"x1gslohp",$$css:!0},chevronIcon:{marginStart:"x1i64zmx",marginTop:"x1xmf6yo",$$css:!0},iconContainer:{alignItems:"x6s0dn4",display:"x3nfvp2",height:"x1fgtraw",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xgd8bvy",$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",width:"x187nhsf",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",marginStart:"xsgj6o6",minWidth:"xeuugli",$$css:!0}},l=h._("__JHASH__nTUxHa9SlKj__JHASH__");function a(a){var b=a.buttonColor,e=a.closeSidePanelOnBack,f=a.isChatTab,g=f===void 0?!1:f;f=a.onPressBack;var m=a.subtitle,n=a.thread;a=a.title;var o=c("useMWPThreadTheme")(),p=d("MWPThreadThemeGradientUtils").getTopGradientColor(o);o=e===!0?i.jsx(d("MWXSubthreadIcons.react").HeaderCrossIcon,{color:(o=b)!=null?o:p}):i.jsx(d("MWXSubthreadIcons.react").HeaderBackIcon,{color:(o=b)!=null?o:p});e=e===!0?h._("__JHASH__gaxHiFwvIGk__JHASH__"):h._("__JHASH__wSyF3E_Fmrl__JHASH__");var q=i.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:i.jsx(c("MWXTextPairing.react"),{headline:a,headlineLineLimit:1,isSemanticHeading:!0,level:g?4:3,meta:m})});return i.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingVertical:j?10:16,spacingHorizontal:16,children:[i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:f,overlayOffset:2,overlayRadius:"50%",xstyle:g?k.backButtonChatTab:null,children:o})})}),!g||n==null?q:null,n!=null&&i.jsx(c("MWXRowItem.react"),{xstyle:g?k.rowItemChatTab:k.rowItem,children:i.jsx(c("MWXLazyPopoverTrigger.react"),{align:g?"middle":"end",popoverProps:{onClose:c("emptyFunction"),onDelete:f,thread:n},popoverResource:c("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(a,e,f,h,j,m,n){return g?i.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:l,children:i.jsxs(c("CometPressable.react"),{onHoverIn:h,onHoverOut:j,onPress:function(){e()},onPressIn:m,overlayOffset:8,overlayRadius:10,ref:a,xstyle:k.settingsButton,children:[q,i.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{color:(f=b)!=null?f:p,xstyle:k.chevronIcon})]})}):i.jsx(c("MWInboxHeaderButton.bs"),{label:l,onHoverIn:h,onHoverOut:j,onPress:function(){e()},onPressIn:m,children:i.jsx("div",{className:"x6s0dn4 x3nfvp2 x1fgtraw xl56j7k x1n2onr6 xgd8bvy",ref:a,children:i.jsx(d("MWXSubthreadIcons.react").HeaderSettingsButton,{color:p})})})}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,isSubthread:!0,children:h.jsx(d("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:h.jsx(d("MWChatFocusComposerContext").Provider,{children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useLogSubthreadSpentTime.react",["I64","Int64Hooks","MWCMLogTimeSpent","MWV2IsTabFocusedContext.bs","ServerTime","react","useC4gEngagementImpressionLogging","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useRef,i=b.useState;function a(a){var b=a.loggingSurface,e=a.threadKey;a=a.threadType;var f=i(!1),g=f[0],j=f[1],k=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),l=h(!0);c("useC4gEngagementImpressionLogging")({isSubthreadDisplayed:g,threadKey:e,threadType:a});d("Int64Hooks").useEffectInt64(function(){k&&g&&(c("MWCMLogTimeSpent")("active",d("I64").to_string(e),b,d("ServerTime").getMillis()),l.current=!1);return function(){l.current||(c("MWCMLogTimeSpent")("inactive",d("I64").to_string(e),b,d("ServerTime").getMillis()),l.current=!0)}},[e,k,g,b]);f=c("useVisibilityObserver")({onHidden:function(){j(!1)},onVisible:function(){j(!0)}});return f}g["default"]=a}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["fbt","CometErrorBoundary.react","Int64Hooks","LSFactory","LSIntEnum","LSReportThreadViewOpen","LSThreadBitOffset","LSVerifyThreadRowExists","MWCMSubthreadHeader.react","MWCMSubthreadThreadViewContexts.react","MWInboxThreadMessagesSpinner.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPThreadGradientBackground.react","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.react","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","useLogSubthreadSpentTime.react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0},messageListContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function l(a){var b=a.onReturn,e=a.tab,f=a.thread,g=c("useReStore")();a=function(){var a;(a=l.current)==null?void 0:a.jumpToMostRecentMessage()};var l=j({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction")}),m=c("useLogSubthreadSpentTime.react")({loggingSurface:"chat_nub",threadKey:f.threadKey,threadType:f.threadType});d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSReportThreadViewOpen")(f.threadKey,c("LSFactory")(a))},"readwrite"))},[g,f.threadKey]);return i.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:i.jsx(c("MWCMSubthreadThreadViewContexts.react"),{thread:f,children:i.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:e,threadKey:f.parentThreadKey,children:[i.jsx(c("MWXColumn.react"),{expanding:!0,xstyle:k.chatTabHeader,children:i.jsx(c("MWXColumnItem.react"),{expanding:!0,ref:m,children:i.jsx(c("MWV2ChatTabHeader.react"),{renderThreadDetails:function(a){return i.jsx(c("MWCMSubthreadHeader.react"),{buttonColor:a,closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){b()},subtitle:(a=f.threadName)!=null?a:void 0,thread:f,title:h._("__JHASH__3mFUx6x5UIU__JHASH__")})},tab:e,thread:f})})}),i.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),f),thread:f,children:[i.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:i.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:i.jsx(c("MWMessageList"),{entryPoint:"popup_chat_box",ref:l,thread:f})})}),i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("MWV2ErrorComposer.bs"),{})},children:i.jsx(c("MWV2ChatTabComposer.bs"),{afterSendMessage:a,isPreviewThread:!1,tab:e,thread:f})})]})]})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onReturn,e=a.tab,f=a.threadKey,g=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(f,void 0,d("LSIntEnum").ofNumber(1),c("LSFactory")(a))},"readwrite"))},[g,f]);a=d("MWLSThread").useThread(f);return a==null?i.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):i.jsx(l,{onReturn:b,tab:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDS3DotsHorizontalSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;a=a===void 0?"var(--primary-icon)":a;return h.jsx("svg",{height:"24",width:"24",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsx("path",{d:"M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0M8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0",fill:a}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWEncryptedUrl.bs",["invariant","Base64Utils","CancellablePromise","CancellationToken","Crypto.bs","Promise","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";e=d("react");var i=e.useEffect,j=e.useState;function a(a,e,f){var g=j(e!=null?void 0:a),k=g[0],l=g[1];i(function(){var g=c("CancellationToken")(),i=0;if(e!=null&&a!=null){var j=d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(g,function(a){var e;switch(f.TAG){case 1:e="data:image/jpeg;base64,";break;case 6:e="data:audio/wav;base64,";break;case 7:e="data:video/mp4;base64,";break;default:e=c("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}l(function(){return e+d("Base64Utils").fromArrayBuffer(a)});return b("Promise").resolve()},d("CancellablePromise").then_(g,function(a){var b=a[1],c=b.slice(0,2),e=b.slice(2,14);b=b.slice(14);return d("Crypto.bs").decrypt({additionalData:c,iv:e,name:"AES-GCM",tagLength:128},a[0],b)},d("CancellablePromise").then_(g,function(a){var c=d("Base64Utils").toArrayBuffer(e);c.byteLength===32||h(0,20660);return b("Promise").all([d("Crypto.bs").importKey("raw",c,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},d("CancellablePromise").then_(g,function(a){return a.arrayBuffer()},window.fetch(a))))));c("promiseDone")(j)}else i=1;i===1&&l(a);return g.cancel},[a,e,l]);return k}g.useMaybeEncryptedUrl=a}),98);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","I64","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=String(18)+"px",k={imageContainer:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",boxShadow:"x1yi6u8n",lineHeight:"x14ju556",verticalAlign:"xxymvpz",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function l(a){var b=a.attachmentMediaUrl,e=a.decryptionKey,f=a.previewUrl;a=a.widthStyle;f=d("MWEncryptedUrl.bs").useMaybeEncryptedUrl(f,e,{_0:{appAttribution:void 0,blurredImageUri:void 0,decryptionKey:void 0,isGIF:!1,photoFbid:void 0,previewHeight:void 0,previewUrl:"",previewWidth:void 0,title:void 0},TAG:1});if(f!=null)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:b},testid:void 0,xstyle:function(){return[k.standalone]},children:i.jsx(c("CometImageCover.react"),{src:f,style:{borderBottomLeftRadius:j,borderBottomRightRadius:j,borderTopLeftRadius:j,borderTopRightRadius:j,maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:a}})});else return null}function m(a){var b,c;b=d("I64").to_int32((b=a.previewHeight)!=null?b:d("I64").one);c=d("I64").to_int32((c=a.previewWidth)!=null?c:d("I64").one);c=c/b;a=a.previewWidth;if(a!=null)return(b>200?200*c:d("I64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var b=a.previewUrl;if(b!=null)return i.jsx("div",{className:"xzg4506 xycxndf xua58t2 x4xrfw5 x1yi6u8n x14ju556 xxymvpz x1gn5b1j x230xth x1g8br2z x1tlxs6b",children:i.jsx(l,{attachmentMediaUrl:c("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,thread_id:d("I64").to_string(a.threadKey)}),decryptionKey:a.decryptionKey,previewUrl:b,widthStyle:m(a)})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","CometPressable.react","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWPSolidMessageBubble.react","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__wwWALtSTrAJ__JHASH__"),k=h._("__JHASH__6AjB8pge-ih__JHASH__"),l=h._("__JHASH__4zpYeMebeaQ__JHASH__"),m=h._("__JHASH__FLEPIyrCx7D__JHASH__"),n=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),o=h._("__JHASH__TfJs-614iIk__JHASH__");function p(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,j=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:d("I64").to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&j||!(d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&h)?g:i.jsx(c("CometPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:50,testid:void 0})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,q=a.outgoing,r=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var s=b.attachmentType,t=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession(d("I64").to_string(b.threadKey),b.attachmentFbid),u=b.ephemeralMediaState;u=u!=null?d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&t?"seen":"expired":"expired";var v=u==="expired"||u==="seen"||q,w=null;switch(d("LSIntEnum").toNumber(s)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:w=v?m:j;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:w=v?n:k;break;default:w=v?o:l;break}return i.jsx(p,{ariaLabel:w,attachment:b,buildURL:f,initiallyUnread:t,outgoing:q,shouldDisableOnOutgoing:a,children:i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:q,style:{backgroundColor:e},children:r(b,u,t,w)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEphemeralButton.react",["ix","BaseImage_DEPRECATED.react","MWPChatEphemeralButton.react","MWXIcon.react","MWXText.react","fbicon","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("fbicon")._(h("656360"),20);function k(){var a=c("useCurrentDisplayMode")();return i.jsx(c("BaseImage_DEPRECATED.react"),{className:"x1b0d499",src:j.src,style:{filter:a==="dark"?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)"}})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop;a=a.outgoing;return i.jsx(c("MWPChatEphemeralButton.react"),{attachment:b,connectBottom:d,connectTop:e,outgoing:a,renderContent:function(a,b,d,e){a=b==="expired"?"disabled":"primary";d=b==="unseen"?i.jsx(k,{}):b==="expired"?i.jsx(c("MWXIcon.react"),{color:"disabled",icon:j}):i.jsx(c("MWXIcon.react"),{color:"primary",icon:j});return i.jsx("div",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:i.jsxs(c("MWXText.react"),{color:a,type:"bodyLink3",children:[d,i.jsx("span",{className:"x1i64zmx xjmsjum",children:e})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","I64","LSIntEnum","MWChatAttachmentMediaPreview.bs","MWChatEphemeralButton.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWPSolidMessageBubble.react","MWV2ChatBubble.react","MWV2ChatFileV2.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","RavenMessagingState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={file:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,j=g===void 0?!1:g,k=a.message,l=a.navigateToRouteForMediaViewer,m=a.outgoing,n=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var o=g==="ChatTab"?180:void 0;return h.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:k,renderAudioAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply")(k),outgoing:m})},renderEmphasisRing:f?function(a,b){return h.jsx(d("MWV2ChatBubble.react").EmphasisRing,{hasXMA:a,isBeforeXMA:!1,isOutgoing:m,shouldConnectBottom:!1,shouldConnectTop:e,children:b})}:void 0,renderEphemeralMediaAttachment:function(a){var f=a.ephemeralMediaState;if(f!=null)if(d("I64").equal(f,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("MWChatAttachmentMediaPreview.bs"),{attachment:a});else return h.jsx(c("MWChatEphemeralButton.react"),{attachment:a,connectBottom:b,connectTop:e,outgoing:m});else return null},renderFileAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:m,style:{backgroundColor:"var(--comment-background)"},xstyle:i.file,children:h.jsx(c("MWV2ChatFileV2.bs"),{attachment:a})})},renderImageAttachment:function(c,b,a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:k,navigateToRouteForMediaViewer:l,outgoing:m})},renderImageGrid:function(a){return h.jsx(c("MWV2ChatImagesGrid.bs"),{attachments:a})},renderStickerAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:m,style:{backgroundColor:"var(--comment-background)"},children:h.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:k,navigateToRouteForMediaViewer:l,outgoing:m})},renderXMAAttachment:function(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:n})},children:h.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:o,connectBottom:b,connectTop:e,hasText:j,outgoing:m,xstyle:n})})}})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSCreateCommunitySubThread",["LSCreateOfflineThreadingID","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("client_mutation_id",d[1]),d[2].set("community_id",a[0]),d[2].set("parent_message_id",a[2]),d[2].set("parent_thread_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("parent_thread_id"),d[2],d[5]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),["create_community_sub_thread","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,665]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[3]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCommunityThreadCreationStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({FAILURE:2,PENDING:0,SUCCESS:1});f["default"]=a}),66);
__d("threadCreationUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("I64").equal(a.creationStatus,d("LSIntEnum").ofNumber(b))}g.creationStatusEquals=a}),98);
__d("MWCMSubthreadChatTabContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=e({pushSubthreadViewPage:null});function a(){return i(k)}function b(a){var b=a.children,c=a.pushSubthreadViewPage;a=j(function(){return{pushSubthreadViewPage:c}},[c]);return h.jsx(k.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useSubthreadChatTabContext=a;g.MWCMSubthreadChatTabContextProvider=b}),98);
__d("useOpenSubthreadView",["GroupsCometChatsEngagementLogger","I64","MWCMSubthreadChatTabContext.react","MWCMSubthreadsInboxFocusContext.react","MWInboxInfoPanelContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),b=a.setCurrentSubthreadView,c=a.setSubthreadKey;a=(a=d("MWCMSubthreadChatTabContext.react").useSubthreadChatTabContext())!=null?a:{};var e=a.pushSubthreadViewPage;a=d("MWCMSubthreadsInboxFocusContext.react").useIsSubthreadFocusedContext();var f=a.setIsSubthreadFocused;return function(a,g){g===void 0&&(g=!1),d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_chat_tab:e!=null?"1":"0",is_subthread:"1"},event:"thread_open",parent_surface:"thread_view",source:g===!0?"subthread_creation":"subthread_xma",surface:"subthread_view",thread_id:d("I64").to_string(a)}),e!=null?e==null?void 0:e(a):(b("subthreadView"),c(a),f(!0))}}g["default"]=a}),98);
__d("useMWCMCreateSubthread",["fbt","FBLogger","Int64Hooks","LSCommunityThreadCreationStatus","LSCreateCommunitySubThread","LSFactory","LSPlatformWaitForTaskCompletion","MWLSThread","ReQL","ReQLSuspense","cometPushToast","emptyFunction","promiseDone","react","threadCreationUtils","useCommunityFolder","useOpenSubthreadView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=c("useReStore")(),e=d("MWLSThread").useThreadExn(a.threadKey),g=c("useCommunityFolder")(e),l=j(c("emptyFunction"));e=k(!1);var m=e[0],n=e[1],o=c("useOpenSubthreadView")();i(function(){return function(){l.current()}},[]);return[d("Int64Hooks").useCallbackInt64(function(){var e=function(a){a=a[0];if(!a)return i();var e=d("ReQL").fromTableAscending(b.table("thread_creation_status")).getKeyRange(a);a=d("ReQLSuspense").first(e,f.id+":64");a==null||d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").PENDING)?g():h(a);function g(){l.current=e.subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if(d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").PENDING))return;l.current();h(a)})}function h(a){n(!1);try{var b=a.threadId;if(d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").FAILURE)||b==null)throw c("FBLogger")("cm_web").warn("sidechat creation failed");o(b,!0)}catch(a){i()}}},i=function(){n(!1),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__DreVU6f7eY1__JHASH__"))};if(g==null)return;n(!0);c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSCreateCommunitySubThread")(g.folderId,a.threadKey,a.messageId,c("LSFactory")(b))},"createSocialChannel"),function(a){return e(a)},i)},[b,g,a.messageId,a.threadKey,o]),m]}g["default"]=a}),98);
__d("MWCMCreateSubthreadMenuItem.react",["fbt","I64","Int64Hooks","LsFalcoEventEntryPoint.bs","MWXMenuItem.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react"),k=h._("__JHASH__BJS3T2_tOPf__JHASH__"),l=h._("__JHASH__ZHBRqixJ9Qy__JHASH__");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){j.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint.bs").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:d("I64").to_string(d("I64").zero),id:d("I64").to_string(b.threadKey),type:18}}})}),g!=null?f(g):e()},[b.messageId,b.threadKey,e,f,g]);return i.jsx(c("MWXMenuItem.react"),{"aria-label":g!=null?l:k,disabled:a,onClick:h,primaryText:g!=null?l:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2051889");b=d("FalcoLoggerInternal").create("ls_message_action",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CixWarningScreensFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743358");b=d("FalcoLoggerInternal").create("cix_warning_screens",a);e=b;g["default"]=e}),98);
__d("WarningScreenType",[],(function(a,b,c,d,e,f){a=Object.freeze({GRAPHIC:"Violence and Gore",HATE:"Hate",CHILD_ABUSE_NON_SEXUAL:"Child Abuse (non-sexual)",SENSITIVE:"Sensitive",CRUEL:"Cruel",MATURE_ONLY_14_AND_OVER:"Mature Only 14 And Over",SENSITIVE_TEXT:"Sensitive Text",FALSE_NEWS:"False News",FALSE_HEADLINE_NEWS:"False Headline News",MISLEADING_NEWS:"Misleading News",ALTERED_MEDIA:"Altered Media",MISSING_CONTEXT:"Missing Context",GOVERNMENT_CORRECTION:"Government Correction",CENSUS_BORDERLINE:"Census Borderline",WIDELY_DEBUNKED_HOAX_COVID:"Widely Debunked Hoax Covid",HEALTH_GENERIC:"Health Generic",GENERIC_INFORM_TREATMENT:"Generic Inform Treatment",CLIMATE_GENERIC_INFORM_TREATMENT:"Climate Science Generic Inform Treatment",NEWSWORTHY:"Newsworthy",SELF_APPLIED_GRAPHIC_VIOLENCE:"Self Applied Graphic Violence",CIVIC_VOTER_INFORM_TREATMENT:"Civic Voter Inform Treatment",CIVIC_VOTER_INFORM_TREATMENT_FOR_MM:"Civic Voter Inform Treatment For Myanmar",CIVIC_VOTER_INFORM_TREATMENT_FOR_BR:"Civic Voter Inform Treatment For Brazil",CIVIC_VOTER_INFORM_TREATMENT_FOR_ID:"Civic Voter Inform Treatment For Indonesia",CIVIC_FACTS_ABOUT_VOTING_INFORM_TREATMENT:"Civic Facts About Voting Inform Treatment",HACK_AND_LEAK:"Hack And Leak",GRAPHIC_MISINFO:"Graphic Misinfo",WIDELY_DEBUNKED_HOAX_VACCINE:"Widely Debunked Hoax Vaccine",WORK_RECRUITING_GROUP_POST:"Recruiting Group Post",USER_APPLIED:"User Applied",BLOCKS:"Blocks",VIOLATING_RESHARE:"Violating reshare",MISINFORMATION:"Misinformation",GENERIC_CIVIC:"Generic Civic",COMPASS:"Compass",GENERIC_INFORM:"Generic Inform",DUMMY_GIT:"Dummy GIT",ANIMAL_VIOLENCE:"Animal Violence",POLITICAL:"Politically Charged",PROFANITY:"Profanity",CENSUS_MISINFO:"Census Misinfo",COVID_ELECTION_BORDERLINE:"Covd Election Borderline",OBJECTIONABLE:"Sexual"});f["default"]=a}),66);
__d("CometWarningScreenClientLogger",["CixWarningScreensFalcoEvent","WarningScreenType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,d=(b=a.contentIDRaw)==null?void 0:b.split(":").filter(function(a){return a!==""}).pop();c("CixWarningScreensFalcoEvent").log(function(){return{action:a.action,attribution_id_v2:a.attribution_id_v2,blocks_logging_data:a.blocksLoggingData,content_id_raw:d,event:a.event,inform_session_id:a.session_id,integrity_ui_element:a.integrityUIElement,rendering_type:a.renderingType,story_ent_identifier_graphql_id:a.storyID,story_render_location:a.storyRenderLocation==="%future added value"?null:a.storyRenderLocation,surface:a.surface,top_warning_screen_category:h(a.objectionableCategory),vpvd:a.vpvd}})}function h(a){if(a==null)return null;a=a;return c("WarningScreenType")[a]}g.logInformTreatmentEvent=a}),98);
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useReducer;function a(){var a=h(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);
__d("useCopyText",["DateConsts","clearTimeout","react","requireDeferred","setTimeout","useForceUpdate"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState,l=c("requireDeferred")("Clipboard").__setRef("useCopyText"),m=null;l.onReady(function(a){m=a});function a(a){var b=a.onCopyPress,e=a.value;a=k(!1);var f=a[0],g=a[1],n=j(null),o=m!=null&&m.isSupported(),p=m,q=c("useForceUpdate")();i(function(){if(p==null)if(m==null)return l.onReady(q).remove;else q()},[p,q]);a=h(function(){b!=null&&b();if(o&&typeof e==="string"){var a;a=(a=m)==null?void 0:a.copy(e);a===!0&&(g(!0),c("clearTimeout")(n.current),n.current=c("setTimeout")(function(){g(!1)},.75*d("DateConsts").MS_PER_SEC))}},[b,n,e,o]);return[o,f,a]}g["default"]=a}),98);
__d("StoriesArchiveBucketDataContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={archiveBucketData:{lowerBoundTime:"",nextDay:"",previousDay:"",storyArchiveID:"story_archive_ID",upperBoundTime:""},initialBucketID:"",setArchiveBucketData:c("emptyFunction")};e=a.createContext(b);g["default"]=e}),98);
__d("StoriesArchiveConstants",[],(function(a,b,c,d,e,f){"use strict";a={CONNECTION_NAME:"StoriesArchiveContentPaneRoot_archived_cards"};b={INITIAL_NEXTDAY:"initial_next_day",INITIAL_PREVIOUSDAY:"initial_previous_day"};f.ARCHIVE=a;f.BucketData=b}),66);/*FB_PKG_DELIM*/
__d("MWV2SeenHead.bs",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,e=a[1];a=a[0];return{gender:c("GenderConst").NOT_A_PERSON,id:d("I64").to_string(e.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(e),name:(b=a.nickname)!=null?b:e.name,timestamp:d("I64").to_float(a.readActionTimestampMs)}}function a(a,b){var c={contents:d("I64").zero};a.forEach(function(a,e,f){e=a[0];if(!d("I64").equal(e.contactId,b)&&d("I64").gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([d("I64").to_string(a)])}function e(a,b,c,e,f,g){var i=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(2)))return;f=b[0];var j=d("I64").equal(a.senderId,f.contactId);f=d("I64").le(a.timestampMs,f.readWatermarkTimestampMs);if(j||f){i.push(h(b));if(!g){c.add(e);return}else return}});var j=i.length===0&&c.size===1;if(i.length<=0)if(d("I64").equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,j);else return{type:"NoneStatus"};if(!g)if(i.length>1)return{heads:i,type:"MultipleSeenHeads"};else return{head:i[0],type:"SingleSeenHead"};f=i.length===(b.size-1|0);return{delivered:f,heads:i,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.participants,f=a.thread;a=d("Int64Hooks").useMemoInt64(function(){if(!(d("I64").equal(f.threadType,d("LSIntEnum").ofNumber(1))||d("I64").equal(f.threadType,d("LSIntEnum").ofNumber(15))))return!1;var a={contents:!1};e.forEach(function(b,e,f){if(!d("I64").equal(b[1].blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},[f.threadType,e]);return h.jsx(d("MWV2OneToOneThreadBlockedContext.bs").MWV2OneToOneThreadBlockedContext,{blocked:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageList_DEPRECATED.bs",["BaseHeadingContextWrapper.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messages,f=a.participants,g=a.renderRow;a=a.thread;var i=d("MWPActor.react").useActor(),j=d("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(f,i),k=d("MWV2SeenHead.bs").makeExistingSeenHeads(i),l=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isSecure(a.threadType),m=[];for(var n=e.length-1|0;n>=0;--n){var o=n===0?void 0:e[n-1|0],p=n>=(e.length-1|0)?void 0:e[n+1|0],q=e[n],r=d("MWV2SeenHead.bs").deliveryStatusForMessage(q,f,k,j,i,l);m.push(h.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:q.senderId,threadKey:q.threadKey,children:g({message:q,nextMessage:p,prevMessage:o,status:r})},q.messageId))}if(m.length===0)return null;else return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsx("div",{className:"x1ja2u2z",children:h.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:f,thread:a,children:b(m.reverse())})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPSolidMessageBubble.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.style,l=a.xmaLayout;l=l===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:l;a=a.xstyle;b=b!=null?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,g?j?i.outgoing_connect_top:i.incoming_connect_top:!1,(!b||l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&f?j?i.outgoing_connect_bot:i.incoming_connect_bot:!1,l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&b?i.precedes_xma:!1,(g=a)!=null?g:!1),"data-testid":void 0,role:"none",style:k,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPThreadThemeProvider.react",["I64","Int64Hooks","LSIntEnum","MWPThreadThemeContext","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","cr:6797","defaultMWPThreadTheme","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useState;function k(a,e){var g=c("useReStore")(),h=c("useCurrentDisplayMode")(),j=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("thread_themes")).getKeyRange(a)},[g,a],f.id+":40"),k=b("cr:6797")==null?void 0:b("cr:6797")(g,a),l=h==="dark"&&k!=null?k:j,m=d("ReQLSuspense").useArray(function(){return(l==null?void 0:l.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("gradient_colors")).getKeyRange(l==null?void 0:l.fbid)},[g,l==null?void 0:l.fbid],f.id+":54");return i(function(){return l!=null?{incomingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:l}:e},[l,m,e])}var l={incomingGradientColors:[],outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")};function a(a){var b=a.children,e=a.themeFbid;a=a.defaultTheme;a=a===void 0?l:a;var f=j(),g=f[0],i=f[1];f=d("Int64Hooks").useMemoInt64(function(){var a;return(a=g)!=null?a:e},[e,g]);var m=k(f,a);f=d("Int64Hooks").useMemoInt64(function(){return{incomingGradientColors:m.incomingGradientColors,outgoingGradientColors:m.outgoingGradientColors,previewId:g,setPreviewId:i,threadTheme:m.threadTheme}},[m,g]);return h.jsx(c("MWPThreadThemeContext").Provider,{value:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWPOpenComposerUtils",["I64","LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!=null)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function e(a,c,d){return a.table("media_staging").get({hd:c,tl:0}).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return b("Promise").resolve()})}function f(a,c,d,e,f){return a.table("attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!=null)return a.table("attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},f(g));else return b("Promise").resolve()})}function h(a,e,f){return c("LSResumeMediaSendJob")(e,d("I64").zero,(f=f)!=null?f:void 0,a).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobs")(e,a);else return b("Promise").resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=h}),98);/*FB_PKG_DELIM*/
__d("useMWSendToSentQPLLogger",["QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=c("qpl")._(25313175,"1551");return h(function(){return{addSendToSentAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markSendToSentFail:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markSendToSentPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markSendToSentStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markSendToSentSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts")))},[b,a.threadKey],f.id+":28")}g.useValue=a}),98);