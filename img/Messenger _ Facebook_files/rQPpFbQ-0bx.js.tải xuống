;/*FB_PKG_DELIM*/

/**
 * License: https://www.facebook.com/legal/license/NKF0mBOyBt2/
 */
__d("pvutils-1.0.17",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.getUTCDate=a;g.getParametersValue=b;g.bufferToHexCodes=c;g.checkBufferParams=d;g.utilFromBase=e;g.utilToBase=f;g.utilConcatBuf=h;g.utilConcatView=i;g.utilDecodeTC=j;g.utilEncodeTC=k;g.isEqualBuffer=l;g.padNumber=m;g.toBase64=p;g.fromBase64=q;g.arrayBufferToString=r;g.stringToArrayBuffer=s;g.nearestPowerOf2=u;g.clearProps=v;function a(a){return new Date(a.getTime()+a.getTimezoneOffset()*6e4)}function b(a,b,c){if(a instanceof Object===!1)return c;return b in a?a[b]:c}function c(a,b,c,d){b===void 0&&(b=0);c===void 0&&(c=a.byteLength-b);d===void 0&&(d=!1);var e="",f=!0,g=!1,h=void 0;try{for(var i=new Uint8Array(a,b,c)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),a;!(f=(a=i.next()).done);f=!0){b=a.value;c=b.toString(16).toUpperCase();c.length===1&&(e+="0");e+=c;d&&(e+=" ")}}catch(a){g=!0,h=a}finally{try{!f&&i["return"]&&i["return"]()}finally{if(g)throw h}}return e.trim()}function d(a,b,c,d){if(b instanceof ArrayBuffer===!1){a.error='Wrong parameter: inputBuffer must be "ArrayBuffer"';return!1}if(b.byteLength===0){a.error="Wrong parameter: inputBuffer has zero length";return!1}if(c<0){a.error="Wrong parameter: inputOffset less than zero";return!1}if(d<0){a.error="Wrong parameter: inputLength less than zero";return!1}if(b.byteLength-c-d<0){a.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return!1}return!0}function e(a,b){var c=0;if(a.length===1)return a[0];for(var d=a.length-1;d>=0;d--)c+=a[a.length-1-d]*Math.pow(2,b*d);return c}function f(a,b,c){c===void 0&&(c=-1);c=c;var d=a,e=0,f=Math.pow(2,b);for(var g=1;g<8;g++){if(a<f){var h=void 0;if(c<0)h=new ArrayBuffer(g),e=g;else{if(c<g)return new ArrayBuffer(0);h=new ArrayBuffer(c);e=c}var i=new Uint8Array(h);for(var j=g-1;j>=0;j--){var k=Math.pow(2,j*b);i[e-j-1]=Math.floor(d/k);d-=i[e-j-1]*k}return h}f*=Math.pow(2,b)}return new ArrayBuffer(0)}function h(){var a=0,b=0,c=!0,d=!1,e=void 0;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];try{for(var i=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),j;!(c=(j=i.next()).done);c=!0){var k=j.value;a+=k.byteLength}}catch(a){d=!0,e=a}finally{try{!c&&i["return"]&&i["return"]()}finally{if(d)throw e}}var l=new ArrayBuffer(a),m=new Uint8Array(l),n=!0,o=!1,p=void 0;try{for(var q=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),r;!(n=(r=q.next()).done);n=!0){var s=r.value;m.set(new Uint8Array(s),b);b+=s.byteLength}}catch(a){o=!0,p=a}finally{try{!n&&q["return"]&&q["return"]()}finally{if(o)throw p}}return l}function i(){var a=0,b=0,c=!0,d=!1,e=void 0;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];try{for(var i=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),j;!(c=(j=i.next()).done);c=!0){var k=j.value;a+=k.length}}catch(a){d=!0,e=a}finally{try{!c&&i["return"]&&i["return"]()}finally{if(d)throw e}}var l=new ArrayBuffer(a),m=new Uint8Array(l),n=!0,o=!1,p=void 0;try{for(var q=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),r;!(n=(r=q.next()).done);n=!0){var s=r.value;m.set(s,b);b+=s.length}}catch(a){o=!0,p=a}finally{try{!n&&q["return"]&&q["return"]()}finally{if(o)throw p}}return m}function j(){var a=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){var b=a[0]===255&&a[1]&128,c=a[0]===0&&(a[1]&128)===0;(b||c)&&this.warnings.push("Needlessly long format")}b=new ArrayBuffer(this.valueHex.byteLength);c=new Uint8Array(b);for(b=0;b<this.valueHex.byteLength;b++)c[b]=0;c[0]=a[0]&128;b=e(c,8);c=new ArrayBuffer(this.valueHex.byteLength);c=new Uint8Array(c);for(var d=0;d<this.valueHex.byteLength;d++)c[d]=a[d];c[0]&=127;a=e(c,8);return a-b}function k(a){var b=a<0?a*-1:a,c=128;for(var d=1;d<8;d++){if(b<=c){if(a<0){var e=c-b;e=f(e,8,d);var g=new Uint8Array(e);g[0]|=128;return e}g=f(b,8,d);e=new Uint8Array(g);if(e[0]&128){var h=g.slice(0),i=new Uint8Array(h);g=new ArrayBuffer(g.byteLength+1);e=new Uint8Array(g);for(var j=0;j<h.byteLength;j++)e[j+1]=i[j];e[0]=0}return g}c*=Math.pow(2,8)}return new ArrayBuffer(0)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;a=new Uint8Array(a);b=new Uint8Array(b);for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function m(a,b){a=a.toString(10);if(b<a.length)return"";b=b-a.length;var c=new Array(b);for(var d=0;d<b;d++)c[d]="0";b=c.join("");return b.concat(a)}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function p(a,b,c,d){b===void 0&&(b=!1);c===void 0&&(c=!1);d===void 0&&(d=!1);var e=0,f=0,g=0,h="";b=b?o:n;if(d){d=0;for(var i=0;i<a.length;i++)if(a.charCodeAt(i)!==0){d=i;break}a=a.slice(d)}while(e<a.length){i=a.charCodeAt(e++);e>=a.length&&(f=1);d=a.charCodeAt(e++);e>=a.length&&(g=1);var j=a.charCodeAt(e++),k=i>>2;i=(i&3)<<4|d>>4;d=(d&15)<<2|j>>6;j=j&63;f===1?d=j=64:g===1&&(j=64);c?d===64?h+=""+b.charAt(k)+b.charAt(i):j===64?h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d):h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d)+b.charAt(j):h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d)+b.charAt(j)}return h}function q(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);var d=b?o:n;function e(a){for(var b=0;b<64;b++)if(d.charAt(b)===a)return b;return 64}function f(a){return a===64?0:a}b=0;var g="";while(b<a.length){var h=e(a.charAt(b++)),i=b>=a.length?0:e(a.charAt(b++)),j=b>=a.length?0:e(a.charAt(b++)),k=b>=a.length?0:e(a.charAt(b++));h=f(h)<<2|f(i)>>4;i=(f(i)&15)<<4|f(j)>>2;var l=(f(j)&3)<<6|f(k);g+=String.fromCharCode(h);j!==64&&(g+=String.fromCharCode(i));k!==64&&(g+=String.fromCharCode(l))}if(c){h=g.length;j=-1;for(i=h-1;i>=0;i--)if(g.charCodeAt(i)!==0){j=i;break}j!==-1?g=g.slice(0,j+1):g=""}return g}function r(a){var b="";a=new Uint8Array(a);var c=!0,d=!1,e=void 0;try{for(var f=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),a;!(c=(a=f.next()).done);c=!0){a=a.value;b+=String.fromCharCode(a)}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}return b}function s(a){var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);for(var e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}var t=Math.log(2);function u(a){a=Math.log(a)/t;var b=Math.floor(a);a=Math.round(a);return b===a?b:a}function v(a,b){var c=!0,d=!1,e=void 0;try{for(var f=b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),b;!(c=(b=f.next()).done);c=!0){b=b.value;delete a[b]}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("asn1js-2.1.1",["pvutils-1.0.17"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("pvutils-1.0.17")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});h.fromBER=X;h.compareSchema=Y;h.verifySchema=Z;h.fromJSON=$;h.RawData=h.Repeated=h.Any=h.Choice=h.TIME=h.Duration=h.DateTime=h.TimeOfDay=h.DATE=h.GeneralizedTime=h.UTCTime=h.CharacterString=h.GeneralString=h.VisibleString=h.GraphicString=h.IA5String=h.VideotexString=h.TeletexString=h.PrintableString=h.NumericString=h.UniversalString=h.BmpString=h.RelativeObjectIdentifier=h.Utf8String=h.ObjectIdentifier=h.Enumerated=h.Integer=h.BitString=h.OctetString=h.Null=h.Set=h.Sequence=h.Boolean=h.EndOfContent=h.Constructed=h.Primitive=h.BaseBlock=h.ValueBlock=h.HexBlock=void 0;var a=g();function b(a,b){var d;if(typeof Symbol==="undefined"||a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==null){if(Array.isArray(a)||(d=c(a))||b&&a&&typeof a.length==="number"){d&&(a=d);var e=0;b=function(){};return{s:b,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=!0,g=!1,h;return{s:function(){d=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]()},n:function(){var a=d.next();f=a.done;return a},e:function(a){g=!0,h=a},f:function(){try{!f&&d["return"]!=null&&d["return"]()}finally{if(g)throw h}}}}function c(a,b){if(!a)return;if(typeof a==="string")return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}function d(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var e=[new Uint8Array([1])],f="0123456789",i=function(){function b(b){b===void 0&&(b={}),this.blockLength=a.getParametersValue(b,"blockLength",0),this.error=a.getParametersValue(b,"error",""),this.warnings=a.getParametersValue(b,"warnings",[]),"valueBeforeDecode"in b?this.valueBeforeDecode=b.valueBeforeDecode.slice(0):this.valueBeforeDecode=new ArrayBuffer(0)}b.blockName=function(){return"baseBlock"};var c=b.prototype;c.toJSON=function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:a.bufferToHexCodes(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}};return b}();Z=function(b){return function(b){babelHelpers.inheritsLoose(c,b);function c(c){var d;c===void 0&&(c={});d=b.call(this,c)||this;d.isHexOnly=a.getParametersValue(c,"isHexOnly",!1);"valueHex"in c?d.valueHex=c.valueHex.slice(0):d.valueHex=new ArrayBuffer(0);return d}c.blockName=function(){return"hexBlock"};var d=c.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;var e=new Uint8Array(b,c,d);if(e.length===0){this.warnings.push("Zero buffer length");return c}this.valueHex=b.slice(c,c+d);this.blockLength=d;return c+d};d.toBER=function(a){a===void 0&&(a=!1);if(this.isHexOnly!==!0){this.error='Flag "isHexOnly" is not set, abort';return new ArrayBuffer(0)}return a===!0?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)};d.toJSON=function(){var c={};try{c=b.prototype.toJSON.call(this)}catch(a){}c.blockName=this.constructor.blockName();c.isHexOnly=this.isHexOnly;c.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return c};return c}(b)};h.HexBlock=Z;var j=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this)||this;"idBlock"in b?(d.isHexOnly=a.getParametersValue(b.idBlock,"isHexOnly",!1),d.valueHex=a.getParametersValue(b.idBlock,"valueHex",new ArrayBuffer(0)),d.tagClass=a.getParametersValue(b.idBlock,"tagClass",-1),d.tagNumber=a.getParametersValue(b.idBlock,"tagNumber",-1),d.isConstructed=a.getParametersValue(b.idBlock,"isConstructed",!1)):(d.tagClass=-1,d.tagNumber=-1,d.isConstructed=!1);return d}b.blockName=function(){return"identificationBlock"};var d=b.prototype;d.toBER=function(b){b===void 0&&(b=!1);var c=0,d,e;switch(this.tagClass){case 1:c|=0;break;case 2:c|=64;break;case 3:c|=128;break;case 4:c|=192;break;default:this.error="Unknown tag class";return new ArrayBuffer(0)}this.isConstructed&&(c|=32);if(this.tagNumber<31&&!this.isHexOnly){d=new ArrayBuffer(1);e=new Uint8Array(d);if(!b){var f=this.tagNumber;f&=31;c|=f;e[0]=c}return d}if(this.isHexOnly===!1){f=a.utilToBase(this.tagNumber,7);var g=new Uint8Array(f);f=f.byteLength;d=new ArrayBuffer(f+1);e=new Uint8Array(d);e[0]=c|31;if(!b){for(var h=0;h<f-1;h++)e[h+1]=g[h]|128;e[f]=g[f-1]}return d}d=new ArrayBuffer(this.valueHex.byteLength+1);e=new Uint8Array(d);e[0]=c|31;if(b===!1){h=new Uint8Array(this.valueHex);for(g=0;g<h.length-1;g++)e[g+1]=h[g]|128;e[this.valueHex.byteLength]=h[h.length-1]}return d};d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.error="Zero buffer length";return-1}d=b[0]&192;switch(d){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:this.error="Unknown tag class";return-1}this.isConstructed=(b[0]&32)===32;this.isHexOnly=!1;d=b[0]&31;if(d!==31)this.tagNumber=d,this.blockLength=1;else{d=1;this.valueHex=new ArrayBuffer(255);var e=255,f=new Uint8Array(this.valueHex);while(b[d]&128){f[d-1]=b[d]&127;d++;if(d>=b.length){this.error="End of input reached before message was fully decoded";return-1}if(d===e){e+=255;var g=new ArrayBuffer(e);g=new Uint8Array(g);for(var h=0;h<f.length;h++)g[h]=f[h];this.valueHex=new ArrayBuffer(e);f=new Uint8Array(this.valueHex)}}this.blockLength=d+1;f[d-1]=b[d]&127;g=new ArrayBuffer(d);h=new Uint8Array(g);for(e=0;e<d;e++)h[e]=f[e];this.valueHex=new ArrayBuffer(d);f=new Uint8Array(this.valueHex);f.set(h);this.blockLength<=9?this.tagNumber=a.utilFromBase(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:this.error="Constructed encoding used for primitive type";return-1;default:}return c+this.blockLength};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.blockName=this.constructor.blockName();a.tagClass=this.tagClass;a.tagNumber=this.tagNumber;a.isConstructed=this.isConstructed;return a};return b}(Z(i)),k=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this)||this;"lenBlock"in b?(d.isIndefiniteForm=a.getParametersValue(b.lenBlock,"isIndefiniteForm",!1),d.longFormUsed=a.getParametersValue(b.lenBlock,"longFormUsed",!1),d.length=a.getParametersValue(b.lenBlock,"length",0)):(d.isIndefiniteForm=!1,d.longFormUsed=!1,d.length=0);return d}b.blockName=function(){return"lengthBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.error="Zero buffer length";return-1}if(b[0]===255){this.error="Length block 0xFF is reserved by standard";return-1}this.isIndefiniteForm=b[0]===128;if(this.isIndefiniteForm===!0){this.blockLength=1;return c+this.blockLength}this.longFormUsed=!!(b[0]&128);if(this.longFormUsed===!1){this.length=b[0];this.blockLength=1;return c+this.blockLength}d=b[0]&127;if(d>8){this.error="Too big integer";return-1}if(d+1>b.length){this.error="End of input reached before message was fully decoded";return-1}var e=new Uint8Array(d);for(var f=0;f<d;f++)e[f]=b[f+1];e[d-1]===0&&this.warnings.push("Needlessly long encoded length");this.length=a.utilFromBase(e,8);this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form");this.blockLength=d+1;return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;this.length>127&&(this.longFormUsed=!0);if(this.isIndefiniteForm){c=new ArrayBuffer(1);b===!1&&(d=new Uint8Array(c),d[0]=128);return c}if(this.longFormUsed===!0){var e=a.utilToBase(this.length,8);if(e.byteLength>127){this.error="Too big length";return new ArrayBuffer(0)}c=new ArrayBuffer(e.byteLength+1);if(b===!0)return c;var f=new Uint8Array(e);d=new Uint8Array(c);d[0]=e.byteLength|128;for(var g=0;g<e.byteLength;g++)d[g+1]=f[g];return c}c=new ArrayBuffer(1);b===!1&&(d=new Uint8Array(c),d[0]=this.length);return c};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.blockName=this.constructor.blockName();a.isIndefiniteForm=this.isIndefiniteForm;a.longFormUsed=this.longFormUsed;a.length=this.length;return a};return b}(i),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});return b.call(this,a)||this}a.blockName=function(){return"valueBlock"};var c=a.prototype;c.fromBER=function(a,b,c){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')};c.toBER=function(a){a===void 0;throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')};return a}(i);h.ValueBlock=l;var m=function(c){babelHelpers.inheritsLoose(b,c);function b(a,b){var d;a===void 0&&(a={});b===void 0&&(b=l);d=c.call(this,a)||this;"name"in a&&(d.name=a.name);"optional"in a&&(d.optional=a.optional);"primitiveSchema"in a&&(d.primitiveSchema=a.primitiveSchema);d.idBlock=new j(a);d.lenBlock=new k(a);d.valueBlock=new b(a);return d}b.blockName=function(){return"BaseBlock"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.toBER=function(b){b===void 0&&(b=!1);var c=this.idBlock.toBER(b),d=this.valueBlock.toBER(!0);this.lenBlock.length=d.byteLength;d=this.lenBlock.toBER(b);c=a.utilConcatBuf(c,d);b===!1?d=this.valueBlock.toBER(b):d=new ArrayBuffer(this.lenBlock.length);c=a.utilConcatBuf(c,d);if(this.lenBlock.isIndefiniteForm===!0){d=new ArrayBuffer(2);if(b===!1){b=new Uint8Array(d);b[0]=0;b[1]=0}c=a.utilConcatBuf(c,d)}return c};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.idBlock=this.idBlock.toJSON();a.lenBlock=this.lenBlock.toJSON();a.valueBlock=this.valueBlock.toJSON();"name"in this&&(a.name=this.name);"optional"in this&&(a.optional=this.optional);"primitiveSchema"in this&&(a.primitiveSchema=this.primitiveSchema.toJSON());return a};d.toString=function(){return this.constructor.blockName()+" : "+a.bufferToHexCodes(this.valueBlock.valueHex)};return b}(i);h.BaseBlock=m;var n=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;"valueHex"in b?d.valueHex=b.valueHex.slice(0):d.valueHex=new ArrayBuffer(0);d.isHexOnly=a.getParametersValue(b,"isHexOnly",!0);return d}var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.warnings.push("Zero buffer length");return c}this.valueHex=new ArrayBuffer(b.length);var e=new Uint8Array(this.valueHex);for(var f=0;f<b.length;f++)e[f]=b[f];this.blockLength=d;return c+d};d.toBER=function(a){a===void 0;return this.valueHex.slice(0)};b.blockName=function(){return"PrimitiveValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);b.isHexOnly=this.isHexOnly;return b};return b}(l),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,n)||this;a.idBlock.isConstructed=!1;return a}a.blockName=function(){return"PRIMITIVE"};return a}(m);h.Primitive=o;var p=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.value=a.getParametersValue(b,"value",[]);d.isIndefiniteForm=a.getParametersValue(b,"isIndefiniteForm",!1);return d}var d=b.prototype;d.fromBER=function(b,c,d){var e=c,f=d;if(a.checkBufferParams(this,b,c,d)===!1)return-1;var g=new Uint8Array(b,c,d);if(g.length===0){this.warnings.push("Zero buffer length");return c}function h(a,b){return a===!0?1:b}g=c;while(h(this.isIndefiniteForm,d)>0){c=oa(b,g,d);if(c.offset===-1){this.error=c.result.error;this.warnings.concat(c.result.warnings);return-1}g=c.offset;this.blockLength+=c.result.blockLength;d-=c.result.blockLength;this.value.push(c.result);if(this.isIndefiniteForm===!0&&c.result.constructor.blockName()===r.blockName())break}this.isIndefiniteForm===!0&&(this.value[this.value.length-1].constructor.blockName()===r.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded"));this.valueBeforeDecode=b.slice(e,e+f);return g};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);c=a.utilConcatBuf(c,e)}return c};b.blockName=function(){return"ConstructedValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.isIndefiniteForm=this.isIndefiniteForm;a.value=[];for(var b=0;b<this.value.length;b++)a.value.push(this.value[b].toJSON());return a};return b}(l),q=function(c){babelHelpers.inheritsLoose(a,c);function a(a){a===void 0&&(a={});a=c.call(this,a,p)||this;a.idBlock.isConstructed=!0;return a}a.blockName=function(){return"CONSTRUCTED"};var d=a.prototype;d.fromBER=function(a,b,c){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.toString=function(){var a=[],c=b(this.valueBlock.value),d;try{for(c.s();!(d=c.n()).done;){d=d.value;a.push(d.toString().split("\n").map(function(a){return"  "+a}).join("\n"))}}catch(a){c.e(a)}finally{c.f()}d=this.idBlock.tagClass===3?"["+this.idBlock.tagNumber+"]":this.constructor.blockName();return a.length?d+" :\n"+a.join("\n"):d+" :"};return a}(m);h.Constructed=q;var aa=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});return b.call(this,a)||this}var c=a.prototype;c.fromBER=function(a,b,c){return b};c.toBER=function(a){a===void 0;return new ArrayBuffer(0)};a.blockName=function(){return"EndOfContentValueBlock"};return a}(l),r=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,aa)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=0;return a}a.blockName=function(){return"EndOfContent"};return a}(m);h.EndOfContent=r;var ba=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.value=a.getParametersValue(b,"value",!1);d.isHexOnly=a.getParametersValue(b,"isHexOnly",!1);if("valueHex"in b)d.valueHex=b.valueHex.slice(0);else{d.valueHex=new ArrayBuffer(1);if(d.value===!0){b=new Uint8Array(d.valueHex);b[0]=255}}return d}var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);d>1&&this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=!0;this.valueHex=new ArrayBuffer(b.length);var e=new Uint8Array(this.valueHex);for(var f=0;f<b.length;f++)e[f]=b[f];a.utilDecodeTC.call(this)!==0?this.value=!0:this.value=!1;this.blockLength=d;return c+d};d.toBER=function(a){a===void 0;return this.valueHex};b.blockName=function(){return"BooleanValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.value=this.value;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(l),s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,ba)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=1;return a}a.blockName=function(){return"BOOLEAN"};var c=a.prototype;c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return a}(m);h.Boolean=s;var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=16;return a}a.blockName=function(){return"SEQUENCE"};return a}(q);h.Sequence=t;var u=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=17;return a}a.blockName=function(){return"SET"};return a}(q);h.Set=u;var v=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,i)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=5;return a}a.blockName=function(){return"NULL"};var c=a.prototype;c.fromBER=function(a,b,c){this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type");this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.blockLength+=c;if(b+c>a.byteLength){this.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return-1}return b+c};c.toBER=function(a){a===void 0&&(a=!1);var b=new ArrayBuffer(2);if(a===!0)return b;a=new Uint8Array(b);a[0]=5;a[1]=0;return b};c.toString=function(){return""+this.constructor.blockName()};return a}(m);h.Null=v;var ca=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.isConstructed=a.getParametersValue(b,"isConstructed",!1);return d}var d=b.prototype;d.fromBER=function(a,b,d){var e=0;if(this.isConstructed===!0){this.isHexOnly=!1;e=p.prototype.fromBER.call(this,a,b,d);if(e===-1)return e;for(var f=0;f<this.value.length;f++){var g=this.value[f].constructor.blockName();if(g===r.blockName())if(this.isIndefiniteForm===!0)break;else{this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only";return-1}if(g!==w.blockName()){this.error="OCTET STRING may consists of OCTET STRINGs only";return-1}}}else this.isHexOnly=!0,e=c.prototype.fromBER.call(this,a,b,d),this.blockLength=d;return e};d.toBER=function(a){a===void 0&&(a=!1);if(this.isConstructed===!0)return p.prototype.toBER.call(this,a);var b=new ArrayBuffer(this.valueHex.byteLength);if(a===!0)return b;if(this.valueHex.byteLength===0)return b;b=this.valueHex.slice(0);return b};b.blockName=function(){return"OctetStringValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.isConstructed=this.isConstructed;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(Z(p)),w=function(c){babelHelpers.inheritsLoose(b,c);function b(a){a===void 0&&(a={});a=c.call(this,a,ca)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=4;return a}var d=b.prototype;d.fromBER=function(a,b,d){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(d===0){this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);return b}if(!this.valueBlock.isConstructed){var e=a.slice(b,b+d);try{e=X(e);e.offset!==-1&&e.offset===d&&(this.valueBlock.value=[e.result])}catch(a){}}return c.prototype.fromBER.call(this,a,b,d)};b.blockName=function(){return"OCTET STRING"};d.isEqual=function(a){if(a instanceof b===!1)return!1;return JSON.stringify(this)!==JSON.stringify(a)?!1:!0};d.toString=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return q.prototype.toString.call(this);else return this.constructor.blockName()+" : "+a.bufferToHexCodes(this.valueBlock.valueHex)};return b}(m);h.OctetString=w;var da=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.unusedBits=a.getParametersValue(b,"unusedBits",0);d.isConstructed=a.getParametersValue(b,"isConstructed",!1);d.blockLength=d.valueHex.byteLength;return d}var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;var e=-1;if(this.isConstructed===!0){e=p.prototype.fromBER.call(this,b,c,d);if(e===-1)return e;for(var f=0;f<this.value.length;f++){var g=this.value[f].constructor.blockName();if(g===r.blockName())if(this.isIndefiniteForm===!0)break;else{this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only";return-1}if(g!==x.blockName()){this.error="BIT STRING may consists of BIT STRINGs only";return-1}if(this.unusedBits>0&&this.value[f].valueBlock.unusedBits>0){this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only';return-1}this.unusedBits=this.value[f].valueBlock.unusedBits;if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}}return e}if(a.checkBufferParams(this,b,c,d)===!1)return-1;g=new Uint8Array(b,c,d);this.unusedBits=g[0];if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}if(!this.unusedBits){f=b.slice(c+1,c+d);try{e=X(f);e.offset!==-1&&e.offset===d-1&&(this.value=[e.result])}catch(a){}}this.valueHex=new ArrayBuffer(g.length-1);b=new Uint8Array(this.valueHex);for(f=0;f<d-1;f++)b[f]=g[f+1];this.blockLength=g.length;return c+d};d.toBER=function(a){a===void 0&&(a=!1);if(this.isConstructed===!0)return p.prototype.toBER.call(this,a);if(a===!0)return new ArrayBuffer(this.valueHex.byteLength+1);if(this.valueHex.byteLength===0)return new ArrayBuffer(0);a=new Uint8Array(this.valueHex);var b=new ArrayBuffer(this.valueHex.byteLength+1),c=new Uint8Array(b);c[0]=this.unusedBits;for(var d=0;d<this.valueHex.byteLength;d++)c[d+1]=a[d];return b};b.blockName=function(){return"BitStringValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.unusedBits=this.unusedBits;b.isConstructed=this.isConstructed;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(Z(p)),x=function(c){babelHelpers.inheritsLoose(a,c);function a(a){a===void 0&&(a={});a=c.call(this,a,da)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=3;return a}a.blockName=function(){return"BIT STRING"};var d=a.prototype;d.fromBER=function(a,b,d){if(d===0)return b;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return c.prototype.fromBER.call(this,a,b,d)};d.isEqual=function(b){if(b instanceof a===!1)return!1;return JSON.stringify(this)!==JSON.stringify(b)?!1:!0};d.toString=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return q.prototype.toString.call(this);else{var a=[],c=new Uint8Array(this.valueBlock.valueHex);c=b(c);var d;try{for(c.s();!(d=c.n()).done;){d=d.value;a.push(d.toString(2).padStart(8,"0"))}}catch(a){c.e(a)}finally{c.f()}return this.constructor.blockName()+" : "+a.join("")}};return a}(m);h.BitString=x;var ea=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;"value"in a&&(b.valueDec=a.value);return b}var d=b.prototype;d.fromDER=function(a,b,c,d){d===void 0&&(d=0);a=this.fromBER(a,b,c);if(a===-1)return a;b=new Uint8Array(this.$LocalIntegerValueBlock1);if(b[0]===0&&(b[1]&128)!==0){c=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength-1);var e=new Uint8Array(c);e.set(new Uint8Array(this.$LocalIntegerValueBlock1,1,this.$LocalIntegerValueBlock1.byteLength-1));this.$LocalIntegerValueBlock1=c.slice(0)}else if(d!==0&&this.$LocalIntegerValueBlock1.byteLength<d){d-this.$LocalIntegerValueBlock1.byteLength>1&&(d=this.$LocalIntegerValueBlock1.byteLength+1);e=new ArrayBuffer(d);c=new Uint8Array(e);c.set(b,d-this.$LocalIntegerValueBlock1.byteLength);this.$LocalIntegerValueBlock1=e.slice(0)}return a};d.toDER=function(a){a===void 0&&(a=!1);var b=new Uint8Array(this.$LocalIntegerValueBlock1);switch(!0){case(b[0]&128)!==0:var c=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength+1),d=new Uint8Array(c);d[0]=0;d.set(b,1);this.$LocalIntegerValueBlock1=c.slice(0);break;case b[0]===0&&(b[1]&128)===0:d=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength-1);c=new Uint8Array(d);c.set(new Uint8Array(this.$LocalIntegerValueBlock1,1,this.$LocalIntegerValueBlock1.byteLength-1));this.$LocalIntegerValueBlock1=d.slice(0);break;default:}return this.toBER(a)};d.fromBER=function(a,b,d){a=c.prototype.fromBER.call(this,a,b,d);if(a===-1)return a;this.blockLength=d;return b+d};d.toBER=function(a){a===void 0;return this.valueHex.slice(0)};b.blockName=function(){return"IntegerValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;return a};d.toString=function(){function b(b,c){var d=new Uint8Array([0]);b=new Uint8Array(b);c=new Uint8Array(c);b=b.slice(0);var e=b.length-1;c=c.slice(0);var f=c.length-1,g=0,h=f<e?e:f,i=0;for(h=h;h>=0;h--,i++){switch(!0){case i<c.length:g=b[e-i]+c[f-i]+d[0];break;default:g=b[e-i]+d[0]}d[0]=g/10;switch(!0){case i>=b.length:b=a.utilConcatView(new Uint8Array([g%10]),b);break;default:b[e-i]=g%10}}d[0]>0&&(b=a.utilConcatView(d,b));return b.slice(0)}function c(c){if(c>=e.length)for(var d=e.length;d<=c;d++){var f=new Uint8Array([0]),g=e[d-1].slice(0);for(var b=g.length-1;b>=0;b--){var h=new Uint8Array([(g[b]<<1)+f[0]]);f[0]=h[0]/10;g[b]=h[0]%10}f[0]>0&&(g=a.utilConcatView(f,g));e.push(g)}return e[c]}function d(b,c){var d=0;b=new Uint8Array(b);c=new Uint8Array(c);b=b.slice(0);var e=b.length-1;c=c.slice(0);var f=c.length-1,g,h=0;for(var a=f;a>=0;a--,h++){g=b[e-h]-c[f-h]-d;switch(!0){case g<0:d=1;b[e-h]=g+10;break;default:d=0,b[e-h]=g}}if(d>0)for(a=e-f+1;a>=0;a--,h++){g=b[e-h]-d;if(g<0)d=1,b[e-h]=g+10;else{d=0;b[e-h]=g;break}}return b.slice()}var g=this.$LocalIntegerValueBlock1.byteLength*8-1,h=new Uint8Array(this.$LocalIntegerValueBlock1.byteLength*8/3),i=0,j,k=new Uint8Array(this.$LocalIntegerValueBlock1),l="",m=!1;for(var n=this.$LocalIntegerValueBlock1.byteLength-1;n>=0;n--){j=k[n];for(var o=0;o<8;o++){if((j&1)===1)switch(i){case g:h=d(c(i),h);l="-";break;default:h=b(h,c(i))}i++;j>>=1}}for(j=0;j<h.length;j++)h[j]&&(m=!0),m&&(l+=f.charAt(h[j]));m===!1&&(l+=f.charAt(0));return l};babelHelpers.createClass(b,[{key:"valueHex",set:function(b){this.$LocalIntegerValueBlock1=b.slice(0),b.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this.$LocalIntegerValueBlock2=0):(this.isHexOnly=!1,b.byteLength>0&&(this.$LocalIntegerValueBlock2=a.utilDecodeTC.call(this)))},get:function(){return this.$LocalIntegerValueBlock1}},{key:"valueDec",set:function(b){this.$LocalIntegerValueBlock2=b,this.isHexOnly=!1,this.$LocalIntegerValueBlock1=a.utilEncodeTC(b)},get:function(){return this.$LocalIntegerValueBlock2}}]);return b}(Z(l)),y=function(c){babelHelpers.inheritsLoose(b,c);function b(a){a===void 0&&(a={});a=c.call(this,a,ea)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=2;return a}b.blockName=function(){return"INTEGER"};var d=b.prototype;d.isEqual=function(c){if(c instanceof b){if(this.valueBlock.isHexOnly&&c.valueBlock.isHexOnly)return a.isEqualBuffer(this.valueBlock.valueHex,c.valueBlock.valueHex);return this.valueBlock.isHexOnly===c.valueBlock.isHexOnly?this.valueBlock.valueDec===c.valueBlock.valueDec:!1}return c instanceof ArrayBuffer?a.isEqualBuffer(this.valueBlock.valueHex,c):!1};d.convertToDER=function(){var a=new b({valueHex:this.valueBlock.valueHex});a.valueBlock.toDER();return a};d.convertFromDER=function(){var a=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,c=new b({valueHex:this.valueBlock.valueHex});c.valueBlock.fromDER(c.valueBlock.valueHex,0,c.valueBlock.valueHex.byteLength,a);return c};d.toString=function(){var b=a.bufferToHexCodes(this.valueBlock.valueHex);b=BigInt("0x"+b);return this.constructor.blockName()+" : "+b.toString()};return b}(m);h.Integer=y;var z=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=10;return a}a.blockName=function(){return"ENUMERATED"};return a}(y);h.Enumerated=z;var A=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.valueDec=a.getParametersValue(b,"valueDec",-1);d.isFirstSid=a.getParametersValue(b,"isFirstSid",!1);return d}b.blockName=function(){return"sidBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);this.valueHex=new ArrayBuffer(d);var e=new Uint8Array(this.valueHex);for(var f=0;f<d;f++){e[f]=b[f]&127;this.blockLength++;if((b[f]&128)===0)break}f=new ArrayBuffer(this.blockLength);d=new Uint8Array(f);for(var g=0;g<this.blockLength;g++)d[g]=e[g];this.valueHex=f.slice(0);e=new Uint8Array(this.valueHex);if((b[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}e[0]===0&&this.warnings.push("Needlessly long format of SID encoding");this.blockLength<=8?this.valueDec=a.utilFromBase(e,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;if(this.isHexOnly){if(b===!0)return new ArrayBuffer(this.valueHex.byteLength);var e=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength);d=new Uint8Array(c);for(var f=0;f<this.blockLength-1;f++)d[f]=e[f]|128;d[this.blockLength-1]=e[this.blockLength-1];return c}f=a.utilToBase(this.valueDec,7);if(f.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0)}c=new ArrayBuffer(f.byteLength);if(b===!1){e=new Uint8Array(f);d=new Uint8Array(c);for(b=0;b<f.byteLength-1;b++)d[b]=e[b]|128;d[f.byteLength-1]=e[f.byteLength-1]}return c};d.toString=function(){var b;if(this.isHexOnly===!0)b=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var c=this.valueDec;this.valueDec<=39?b="0.":this.valueDec<=79?(b="1.",c-=40):(b="2.",c-=80);b+=c.toString()}else b=this.valueDec.toString();return b};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;a.isFirstSid=this.isFirstSid;return a};return b}(Z(i)),fa=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.fromString(a.getParametersValue(b,"value",""));return d}var d=b.prototype;d.fromBER=function(a,b,c){b=b;while(c>0){var d=new A();b=d.fromBER(a,b,c);if(b===-1){this.blockLength=0;this.error=d.error;return b}this.value.length===0&&(d.isFirstSid=!0);this.blockLength+=d.blockLength;c-=d.blockLength;this.value.push(d)}return b};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);if(e.byteLength===0){this.error=this.value[d].error;return new ArrayBuffer(0)}c=a.utilConcatBuf(c,e)}return c};d.fromString=function(a){this.value=[];var b=0,c=0,d="",e=!1;do{c=a.indexOf(".",b);c===-1?d=a.substr(b):d=a.substr(b,c-b);b=c+1;if(e){var f=this.value[0],g=0;switch(f.valueDec){case 0:break;case 1:g=40;break;case 2:g=80;break;default:this.value=[];return!1}var h=parseInt(d,10);if(isNaN(h))return!0;f.valueDec=h+g;e=!1}else{f=new A();f.valueDec=parseInt(d,10);if(isNaN(f.valueDec))return!0;this.value.length===0&&(f.isFirstSid=!0,e=!0);this.value.push(f)}}while(c!==-1);return!0};d.toString=function(){var a="",b=!1;for(var c=0;c<this.value.length;c++){b=this.value[c].isHexOnly;var d=this.value[c].toString();c!==0&&(a=a+".");b?(d="{"+d+"}",this.value[c].isFirstSid?a="2.{"+d+" - 80}":a+=d):a+=d}return a};b.blockName=function(){return"ObjectIdentifierValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.value=this.toString();a.sidArray=[];for(var b=0;b<this.value.length;b++)a.sidArray.push(this.value[b].toJSON());return a};return b}(l),B=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,fa)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=6;return a}a.blockName=function(){return"OBJECT IDENTIFIER"};var c=a.prototype;c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.toString()};return a}(m);h.ObjectIdentifier=B;var ga=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"Utf8StringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),C=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;a===void 0&&(a={});c=b.call(this,a,ga)||this;"value"in a&&c.fromString(a.value);c.idBlock.tagClass=1;c.idBlock.tagNumber=12;return c}a.blockName=function(){return"UTF8String"};var c=a.prototype;c.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};c.fromBuffer=function(a){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(a));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(a){this.warnings.push('Error during "decodeURIComponent": '+a+", using raw string")}};c.fromString=function(a){var b=unescape(encodeURIComponent(a)),c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++)d[e]=b.charCodeAt(e);this.valueBlock.value=a};c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return a}(m);h.Utf8String=C;var D=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.valueDec=a.getParametersValue(b,"valueDec",-1);return d}b.blockName=function(){return"relativeSidBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);this.valueHex=new ArrayBuffer(d);var e=new Uint8Array(this.valueHex);for(var f=0;f<d;f++){e[f]=b[f]&127;this.blockLength++;if((b[f]&128)===0)break}f=new ArrayBuffer(this.blockLength);d=new Uint8Array(f);for(var g=0;g<this.blockLength;g++)d[g]=e[g];this.valueHex=f.slice(0);e=new Uint8Array(this.valueHex);if((b[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}e[0]===0&&this.warnings.push("Needlessly long format of SID encoding");this.blockLength<=8?this.valueDec=a.utilFromBase(e,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;if(this.isHexOnly){if(b===!0)return new ArrayBuffer(this.valueHex.byteLength);var e=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength);d=new Uint8Array(c);for(var f=0;f<this.blockLength-1;f++)d[f]=e[f]|128;d[this.blockLength-1]=e[this.blockLength-1];return c}f=a.utilToBase(this.valueDec,7);if(f.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0)}c=new ArrayBuffer(f.byteLength);if(b===!1){e=new Uint8Array(f);d=new Uint8Array(c);for(b=0;b<f.byteLength-1;b++)d[b]=e[b]|128;d[f.byteLength-1]=e[f.byteLength-1]}return c};d.toString=function(){var b;this.isHexOnly===!0?b=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength):b=this.valueDec.toString();return b};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;return a};return b}(Z(i)),ha=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.fromString(a.getParametersValue(b,"value",""));return d}var d=b.prototype;d.fromBER=function(a,b,c){b=b;while(c>0){var d=new D();b=d.fromBER(a,b,c);if(b===-1){this.blockLength=0;this.error=d.error;return b}this.blockLength+=d.blockLength;c-=d.blockLength;this.value.push(d)}return b};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);if(e.byteLength===0){this.error=this.value[d].error;return new ArrayBuffer(0)}c=a.utilConcatBuf(c,e)}return c};d.fromString=function(a){this.value=[];var b=0,c=0,d="";do{c=a.indexOf(".",b);c===-1?d=a.substr(b):d=a.substr(b,c-b);b=c+1;var e=new D();e.valueDec=parseInt(d,10);if(isNaN(e.valueDec))return!0;this.value.push(e)}while(c!==-1);return!0};d.toString=function(){var a="",b=!1;for(var c=0;c<this.value.length;c++){b=this.value[c].isHexOnly;var d=this.value[c].toString();c!==0&&(a=a+".");b?(d="{"+d+"}",a+=d):a+=d}return a};b.blockName=function(){return"RelativeObjectIdentifierValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.value=this.toString();a.sidArray=[];for(var b=0;b<this.value.length;b++)a.sidArray.push(this.value[b].toJSON());return a};return b}(l),E=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,ha)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=13;return a}a.blockName=function(){return"RelativeObjectIdentifier"};return a}(m);h.RelativeObjectIdentifier=E;var ia=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"BmpStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),F=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a,ia)||this;"value"in a&&b.fromString(a.value);b.idBlock.tagClass=1;b.idBlock.tagNumber=30;return b}b.blockName=function(){return"BMPString"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){a=a.slice(0);var b=new Uint8Array(a);for(var c=0;c<b.length;c+=2){var d=b[c];b[c]=b[c+1];b[c+1]=d}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(a))};d.fromString=function(b){var c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c*2);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++){var f=a.utilToBase(b.charCodeAt(e),8);f=new Uint8Array(f);if(f.length>2)continue;var g=2-f.length;for(var h=f.length-1;h>=0;h--)d[e*2+h+g]=f[h]}this.valueBlock.value=b};d.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);h.BmpString=F;var ja=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"UniversalStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),G=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a,ja)||this;"value"in a&&b.fromString(a.value);b.idBlock.tagClass=1;b.idBlock.tagNumber=28;return b}b.blockName=function(){return"UniversalString"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){a=a.slice(0);var b=new Uint8Array(a);for(var c=0;c<b.length;c+=4)b[c]=b[c+3],b[c+1]=b[c+2],b[c+2]=0,b[c+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(a))};d.fromString=function(b){var c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c*4);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++){var f=a.utilToBase(b.charCodeAt(e),8);f=new Uint8Array(f);if(f.length>4)continue;var g=4-f.length;for(var h=f.length-1;h>=0;h--)d[e*4+h+g]=f[h]}this.valueBlock.value=b};d.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);h.UniversalString=G;var ka=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.value="";a.isHexOnly=!0;return a}a.blockName=function(){return"SimpleStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i));$=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b===void 0&&(b={});c=a.call(this,b,ka)||this;"value"in b&&c.fromString(b.value);return c}b.blockName=function(){return"SIMPLESTRING"};var c=b.prototype;c.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};c.fromBuffer=function(a){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(a))};c.fromString=function(a){var b=a.length;this.valueBlock.valueHex=new ArrayBuffer(b);var c=new Uint8Array(this.valueBlock.valueHex);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);this.valueBlock.value=a};c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);var H=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=18;return a}a.blockName=function(){return"NumericString"};return a}($);h.NumericString=H;var I=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=19;return a}a.blockName=function(){return"PrintableString"};return a}($);h.PrintableString=I;var J=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=20;return a}a.blockName=function(){return"TeletexString"};return a}($);h.TeletexString=J;var K=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=21;return a}a.blockName=function(){return"VideotexString"};return a}($);h.VideotexString=K;var L=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=22;return a}a.blockName=function(){return"IA5String"};return a}($);h.IA5String=L;var M=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=25;return a}a.blockName=function(){return"GraphicString"};return a}($);h.GraphicString=M;var N=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=26;return a}a.blockName=function(){return"VisibleString"};return a}($);h.VisibleString=N;var O=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=27;return a}a.blockName=function(){return"GeneralString"};return a}($);h.GeneralString=O;var P=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=29;return a}a.blockName=function(){return"CharacterString"};return a}($);h.CharacterString=P;var Q=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;b.year=0;b.month=0;b.day=0;b.hour=0;b.minute=0;b.second=0;if("value"in a){b.fromString(a.value);b.valueBlock.valueHex=new ArrayBuffer(a.value.length);var d=new Uint8Array(b.valueBlock.valueHex);for(var e=0;e<a.value.length;e++)d[e]=a.value.charCodeAt(e)}"valueDate"in a&&(b.fromDate(a.valueDate),b.valueBlock.valueHex=b.toBuffer());b.idBlock.tagClass=1;b.idBlock.tagNumber=23;return b}var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){this.fromString(String.fromCharCode.apply(null,new Uint8Array(a)))};d.toBuffer=function(){var a=this.toString(),b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};d.fromDate=function(a){this.year=a.getUTCFullYear(),this.month=a.getUTCMonth()+1,this.day=a.getUTCDate(),this.hour=a.getUTCHours(),this.minute=a.getUTCMinutes(),this.second=a.getUTCSeconds()};d.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};d.fromString=function(a){var b=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi;b=b.exec(a);if(b===null){this.error="Wrong input string for convertion";return}a=parseInt(b[1],10);a>=50?this.year=1900+a:this.year=2e3+a;this.month=parseInt(b[2],10);this.day=parseInt(b[3],10);this.hour=parseInt(b[4],10);this.minute=parseInt(b[5],10);this.second=parseInt(b[6],10)};d.toString=function(){var b=new Array(7);b[0]=a.padNumber(this.year<2e3?this.year-1900:this.year-2e3,2);b[1]=a.padNumber(this.month,2);b[2]=a.padNumber(this.day,2);b[3]=a.padNumber(this.hour,2);b[4]=a.padNumber(this.minute,2);b[5]=a.padNumber(this.second,2);b[6]="Z";return b.join("")};b.blockName=function(){return"UTCTime"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.year=this.year;a.month=this.month;a.day=this.day;a.hour=this.hour;a.minute=this.minute;a.second=this.second;return a};return b}(N);h.UTCTime=Q;var R=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;b.year=0;b.month=0;b.day=0;b.hour=0;b.minute=0;b.second=0;b.millisecond=0;if("value"in a){b.fromString(a.value);b.valueBlock.valueHex=new ArrayBuffer(a.value.length);var d=new Uint8Array(b.valueBlock.valueHex);for(var e=0;e<a.value.length;e++)d[e]=a.value.charCodeAt(e)}"valueDate"in a&&(b.fromDate(a.valueDate),b.valueBlock.valueHex=b.toBuffer());b.idBlock.tagClass=1;b.idBlock.tagNumber=24;return b}var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){this.fromString(String.fromCharCode.apply(null,new Uint8Array(a)))};d.toBuffer=function(){var a=this.toString(),b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};d.fromDate=function(a){this.year=a.getUTCFullYear(),this.month=a.getUTCMonth()+1,this.day=a.getUTCDate(),this.hour=a.getUTCHours(),this.minute=a.getUTCMinutes(),this.second=a.getUTCSeconds(),this.millisecond=a.getUTCMilliseconds()};d.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};d.fromString=function(a){var b=!1,c="",d="",e=0,f,g=0,h=0;if(a[a.length-1]==="Z")c=a.substr(0,a.length-1),b=!0;else{var i=new Number(a[a.length-1]);if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");c=a}if(b){if(c.indexOf("+")!==-1)throw new Error("Wrong input string for convertion");if(c.indexOf("-")!==-1)throw new Error("Wrong input string for convertion")}else{i=1;a=c.indexOf("+");var j="";a===-1&&(a=c.indexOf("-"),i=-1);if(a!==-1){j=c.substr(a+1);c=c.substr(0,a);if(j.length!==2&&j.length!==4)throw new Error("Wrong input string for convertion");a=new Number(j.substr(0,2));if(isNaN(a.valueOf()))throw new Error("Wrong input string for convertion");g=i*a;if(j.length===4){a=new Number(j.substr(2,2));if(isNaN(a.valueOf()))throw new Error("Wrong input string for convertion");h=i*a}}}j=c.indexOf(".");j===-1&&(j=c.indexOf(","));if(j!==-1){i=new Number("0"+c.substr(j));if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");e=i.valueOf();d=c.substr(0,j)}else d=c;switch(!0){case d.length===8:f=/(\d{4})(\d{2})(\d{2})/gi;if(j!==-1)throw new Error("Wrong input string for convertion");break;case d.length===10:f=/(\d{4})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){a=60*e;this.minute=Math.floor(a);a=60*(a-this.minute);this.second=Math.floor(a);a=1e3*(a-this.second);this.millisecond=Math.floor(a)}break;case d.length===12:f=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){i=60*e;this.second=Math.floor(i);i=1e3*(i-this.second);this.millisecond=Math.floor(i)}break;case d.length===14:f=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){c=1e3*e;this.millisecond=Math.floor(c)}break;default:throw new Error("Wrong input string for convertion")}a=f.exec(d);if(a===null)throw new Error("Wrong input string for convertion");for(i=1;i<a.length;i++)switch(i){case 1:this.year=parseInt(a[i],10);break;case 2:this.month=parseInt(a[i],10);break;case 3:this.day=parseInt(a[i],10);break;case 4:this.hour=parseInt(a[i],10)+g;break;case 5:this.minute=parseInt(a[i],10)+h;break;case 6:this.second=parseInt(a[i],10);break;default:throw new Error("Wrong input string for convertion")}if(b===!1){j=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=j.getUTCFullYear();this.month=j.getUTCMonth();this.day=j.getUTCDay();this.hour=j.getUTCHours();this.minute=j.getUTCMinutes();this.second=j.getUTCSeconds();this.millisecond=j.getUTCMilliseconds()}};d.toString=function(){var b=[];b.push(a.padNumber(this.year,4));b.push(a.padNumber(this.month,2));b.push(a.padNumber(this.day,2));b.push(a.padNumber(this.hour,2));b.push(a.padNumber(this.minute,2));b.push(a.padNumber(this.second,2));this.millisecond!==0&&(b.push("."),b.push(a.padNumber(this.millisecond,3)));b.push("Z");return b.join("")};b.blockName=function(){return"GeneralizedTime"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.year=this.year;a.month=this.month;a.day=this.day;a.hour=this.hour;a.minute=this.minute;a.second=this.second;a.millisecond=this.millisecond;return a};return b}(N);h.GeneralizedTime=R;var S=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=31;return a}a.blockName=function(){return"DATE"};return a}(C);h.DATE=S;var T=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=32;return a}a.blockName=function(){return"TimeOfDay"};return a}(C);h.TimeOfDay=T;var U=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=33;return a}a.blockName=function(){return"DateTime"};return a}(C);h.DateTime=U;var la=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=34;return a}a.blockName=function(){return"Duration"};return a}(C);h.Duration=la;var ma=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=14;return a}a.blockName=function(){return"TIME"};return a}(C);h.TIME=ma;var na=function(b){b===void 0&&(b={}),this.value=a.getParametersValue(b,"value",[]),this.optional=a.getParametersValue(b,"optional",!1)};h.Choice=na;var V=function(b){b===void 0&&(b={}),this.name=a.getParametersValue(b,"name",""),this.optional=a.getParametersValue(b,"optional",!1)};h.Any=V;var W=function(b){b===void 0&&(b={}),this.name=a.getParametersValue(b,"name",""),this.optional=a.getParametersValue(b,"optional",!1),this.value=a.getParametersValue(b,"value",new V()),this.local=a.getParametersValue(b,"local",!1)};h.Repeated=W;Z=function(){function b(b){b===void 0&&(b={}),this.data=a.getParametersValue(b,"data",new ArrayBuffer(0))}var c=b.prototype;c.fromBER=function(a,b,c){this.data=a.slice(b,c);return b+c};c.toBER=function(a){a===void 0;return this.data};return b}();h.RawData=Z;function oa(b,c,d){var e=c;function f(a,b){if(a instanceof b)return a;b=new b();b.idBlock=a.idBlock;b.lenBlock=a.lenBlock;b.warnings=a.warnings;b.valueBeforeDecode=a.valueBeforeDecode.slice(0);return b}var g=new m({},Object),h=new i();if(a.checkBufferParams(h,b,c,d)===!1){g.error=h.error;return{offset:-1,result:g}}h=new Uint8Array(b,c,d);if(h.length===0){g.error="Zero buffer length";return{offset:-1,result:g}}h=g.idBlock.fromBER(b,c,d);g.warnings.concat(g.idBlock.warnings);if(h===-1){g.error=g.idBlock.error;return{offset:-1,result:g}}c=h;d-=g.idBlock.blockLength;h=g.lenBlock.fromBER(b,c,d);g.warnings.concat(g.lenBlock.warnings);if(h===-1){g.error=g.lenBlock.error;return{offset:-1,result:g}}c=h;d-=g.lenBlock.blockLength;if(g.idBlock.isConstructed===!1&&g.lenBlock.isIndefiniteForm===!0){g.error="Indefinite length form used for primitive encoding form";return{offset:-1,result:g}}var j=m;switch(g.idBlock.tagClass){case 1:if(g.idBlock.tagNumber>=37&&g.idBlock.isHexOnly===!1){g.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";return{offset:-1,result:g}}switch(g.idBlock.tagNumber){case 0:if(g.idBlock.isConstructed===!0&&g.lenBlock.length>0){g.error="Type [UNIVERSAL 0] is reserved";return{offset:-1,result:g}}j=r;break;case 1:j=s;break;case 2:j=y;break;case 3:j=x;break;case 4:j=w;break;case 5:j=v;break;case 6:j=B;break;case 10:j=z;break;case 12:j=C;break;case 13:j=E;break;case 14:j=ma;break;case 15:g.error="[UNIVERSAL 15] is reserved by ASN.1 standard";return{offset:-1,result:g};case 16:j=t;break;case 17:j=u;break;case 18:j=H;break;case 19:j=I;break;case 20:j=J;break;case 21:j=K;break;case 22:j=L;break;case 23:j=Q;break;case 24:j=R;break;case 25:j=M;break;case 26:j=N;break;case 27:j=O;break;case 28:j=G;break;case 29:j=P;break;case 30:j=F;break;case 31:j=S;break;case 32:j=T;break;case 33:j=U;break;case 34:j=la;break;default:var k;g.idBlock.isConstructed===!0?k=new q():k=new o();k.idBlock=g.idBlock;k.lenBlock=g.lenBlock;k.warnings=g.warnings;g=k}break;case 2:case 3:case 4:default:g.idBlock.isConstructed===!0?j=q:j=o}g=f(g,j);h=g.fromBER(b,c,g.lenBlock.isIndefiniteForm===!0?d:g.lenBlock.length);g.valueBeforeDecode=b.slice(e,e+g.blockLength);return{offset:h,result:g}}function X(a){if(a.byteLength===0){var b=new m({},Object);b.error="Input buffer has zero length";return{offset:-1,result:b}}return oa(a,0,a.byteLength)}function Y(a,b,c){if(c instanceof na){var d=!1;for(var e=0;e<c.value.length;e++){var f=Y(a,b,c.value[e]);if(f.verified===!0)return{verified:!0,result:a}}if(d===!1){f={verified:!1,result:{error:"Wrong values for Choice type"}};Object.prototype.hasOwnProperty.call(c,"name")&&(f.name=c.name);return f}}if(c instanceof V){Object.prototype.hasOwnProperty.call(c,"name")&&(a[c.name]=b);return{verified:!0,result:a}}if(a instanceof Object===!1)return{verified:!1,result:{error:"Wrong root object"}};if(b instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(c instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in c===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};e=c.idBlock.toBER(!1);if(e.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};d=c.idBlock.fromBER(e,0,e.byteLength);if(d===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(Object.prototype.hasOwnProperty.call(c.idBlock,"tagClass")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagClass!==b.idBlock.tagClass)return{verified:!1,result:a};if(Object.prototype.hasOwnProperty.call(c.idBlock,"tagNumber")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagNumber!==b.idBlock.tagNumber)return{verified:!1,result:a};if(Object.prototype.hasOwnProperty.call(c.idBlock,"isConstructed")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isConstructed!==b.idBlock.isConstructed)return{verified:!1,result:a};if("isHexOnly"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isHexOnly!==b.idBlock.isHexOnly)return{verified:!1,result:a};if(c.idBlock.isHexOnly===!0){if("valueHex"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};f=new Uint8Array(c.idBlock.valueHex);e=new Uint8Array(b.idBlock.valueHex);if(f.length!==e.length)return{verified:!1,result:a};for(d=0;d<f.length;d++)if(f[d]!==e[1])return{verified:!1,result:a}}Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(a[c.name]=b));if(c.idBlock.isConstructed===!0){e=0;d={verified:!1};f=c.valueBlock.value.length;f>0&&(c.valueBlock.value[0]instanceof W&&(f=b.valueBlock.value.length));if(f===0)return{verified:!0,result:a};if(b.valueBlock.value.length===0&&c.valueBlock.value.length!==0){var g=!0;for(var h=0;h<c.valueBlock.value.length;h++)g=g&&(c.valueBlock.value[h].optional||!1);if(g===!0)return{verified:!0,result:a};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);a.error="Inconsistent object length";return{verified:!1,result:a}}for(h=0;h<f;h++)if(h-e>=b.valueBlock.value.length){if(c.valueBlock.value[h].optional===!1){g={verified:!1,result:a};a.error="Inconsistent length between ASN.1 data and schema";Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],g.name=c.name));return g}}else if(c.valueBlock.value[0]instanceof W){d=Y(a,b.valueBlock.value[h],c.valueBlock.value[0].value);if(d.verified===!1)if(c.valueBlock.value[0].optional===!0)e++;else{Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);return d}if("name"in c.valueBlock.value[0]&&c.valueBlock.value[0].name.length>0){({});"local"in c.valueBlock.value[0]&&c.valueBlock.value[0].local===!0?g=b:g=a;typeof g[c.valueBlock.value[0].name]==="undefined"&&(g[c.valueBlock.value[0].name]=[]);g[c.valueBlock.value[0].name].push(b.valueBlock.value[h])}}else{d=Y(a,b.valueBlock.value[h-e],c.valueBlock.value[h]);if(d.verified===!1)if(c.valueBlock.value[h].optional===!0)e++;else{Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);return d}}if(d.verified===!1){g={verified:!1,result:a};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],g.name=c.name));return g}return{verified:!0,result:a}}if("primitiveSchema"in c&&"valueHex"in b.valueBlock){h=X(b.valueBlock.valueHex);if(h.offset===-1){e={verified:!1,result:h.result};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],e.name=c.name));return e}return Y(a,h.result,c.primitiveSchema)}return{verified:!0,result:a}}function Z(a,b){if(b instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};a=X(a);return a.offset===-1?{verified:!1,result:a.result}:Y(a.result,a.result,b)}function $(a){}}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("blueimp-canvas-to-blob-3.14.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob())}catch(a){return!1}}(),d=c&&a.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(a){return!1}}(),e=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,h=(c||e)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,g,h,i;b=a.match(f);if(!b)throw new Error("invalid data URI");g=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII");h=!!b[4];a=a.slice(b[0].length);h?b=atob(a):b=decodeURIComponent(a);h=new ArrayBuffer(b.length);a=new Uint8Array(h);for(i=0;i<b.length;i+=1)a[i]=b.charCodeAt(i);if(c)return new Blob([d?a:h],{type:g});b=new e();b.append(h);return b.getBlob(g)};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,c,d){var e=this;setTimeout(function(){d&&b.toDataURL&&h?a(h(e.toDataURL(c,d))):a(e.mozGetAsFile("blob",c))})}:b.toDataURL&&h&&(b.toBlob=function(a,b,c){var d=this;setTimeout(function(){a(h(d.toDataURL(b,c)))})}));typeof g==="object"&&g.exports?g.exports=h:a.dataURLtoBlob=h})(window)}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("blueimp-canvas-to-blob",["blueimp-canvas-to-blob-3.14.0"],(function(a,b,c,d,e,f){e.exports=b("blueimp-canvas-to-blob-3.14.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("bytestreamjs-1.0.29",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.parseByteMap=b;var a=function(){function a(a){a===void 0&&(a={});this.clear();var b=!0,c=!1,d=void 0;try{for(var e=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),f;!(b=(f=e.next()).done);b=!0){f=f.value;switch(f){case"length":this.length=a.length;break;case"stub":for(f=0;f<this.$1.length;f++)this.$1[f]=a.stub;break;case"view":this.fromUint8Array(a.view);break;case"buffer":this.fromArrayBuffer(a.buffer);break;case"string":this.fromString(a.string);break;case"hexstring":this.fromHexString(a.hexstring);break;default:}}}catch(a){c=!0,d=a}finally{try{!b&&e["return"]&&e["return"]()}finally{if(c)throw d}}}var b=a.prototype;b.clear=function(){this.$2=new ArrayBuffer(0),this.$1=new Uint8Array(this.$2)};b.fromArrayBuffer=function(a){this.buffer=a};b.fromUint8Array=function(a){this.$2=new ArrayBuffer(a.length),this.$1=new Uint8Array(this.$2),this.$1.set(a)};b.fromString=function(a){var b=a.length;this.length=b;for(var c=0;c<b;c++)this.view[c]=a.charCodeAt(c)};b.toString=function(a,b){a===void 0&&(a=0);b===void 0&&(b=this.view.length-a);var c="";(a>=this.view.length||a<0)&&(a=0);(b>=this.view.length||b<0)&&(b=this.view.length-a);for(var d=a;d<a+b;d++)c+=String.fromCharCode(this.view[d]);return c};b.fromHexString=function(a){var b=a.length;this.buffer=new ArrayBuffer(b>>1);this.view=new Uint8Array(this.buffer);var c=new Map();c.set("0",0);c.set("1",1);c.set("2",2);c.set("3",3);c.set("4",4);c.set("5",5);c.set("6",6);c.set("7",7);c.set("8",8);c.set("9",9);c.set("A",10);c.set("a",10);c.set("B",11);c.set("b",11);c.set("C",12);c.set("c",12);c.set("D",13);c.set("d",13);c.set("E",14);c.set("e",14);c.set("F",15);c.set("f",15);var d=0,e=0;for(var f=0;f<b;f++)!(f%2)?e=c.get(a.charAt(f))<<4:(e|=c.get(a.charAt(f)),this.view[d]=e,d++)};b.toHexString=function(a,b){a===void 0&&(a=0);b===void 0&&(b=this.view.length-a);var c="";(a>=this.view.length||a<0)&&(a=0);(b>=this.view.length||b<0)&&(b=this.view.length-a);for(var d=a;d<a+b;d++){var e=this.view[d].toString(16).toUpperCase();c=c+(e.length==1?"0":"")+e}return c};b.copy=function(b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength-b);if(b===0&&this.$2.byteLength===0)return new a();if(b<0||b>this.$2.byteLength-1)throw new Error("Wrong start position: "+b);var d=new a();d.$2=this.$2.slice(b,b+c);d.$1=new Uint8Array(d.$2);return d};b.slice=function(b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength);if(b===0&&this.$2.byteLength===0)return new a();if(b<0||b>this.$2.byteLength-1)throw new Error("Wrong start position: "+b);var d=new a();d.$2=this.$2.slice(b,c);d.$1=new Uint8Array(d.$2);return d};b.realloc=function(a){var b=new ArrayBuffer(a),c=new Uint8Array(b);a>this.$1.length?c.set(this.$1):c.set(new Uint8Array(this.$2,0,a));this.$2=b.slice(0);this.$1=new Uint8Array(this.$2)};b.append=function(a){var b=this.$2.byteLength,c=a.$2.byteLength;a=a.$1.slice();this.realloc(b+c);this.$1.set(a,b)};b.insert=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength-b);if(b>this.$2.byteLength-1)return!1;c>this.$2.byteLength-b&&(c=this.$2.byteLength-b);c>a.$2.byteLength&&(c=a.$2.byteLength);c==a.$2.byteLength?this.$1.set(a.$1,b):this.$1.set(a.$1.slice(0,c),b);return!0};b.isEqual=function(a){if(this.$2.byteLength!=a.$2.byteLength)return!1;for(var b=0;b<a.$2.byteLength;b++)if(this.view[b]!=a.view[b])return!1;return!0};b.isEqualView=function(a){if(a.length!=this.view.length)return!1;for(var b=0;b<a.length;b++)if(this.view[b]!=a[b])return!1;return!0};b.findPattern=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=a.buffer.byteLength;if(e>c)return-1;var f=[];for(var g=0;g<e;g++)f.push(a.view[g]);for(g=0;g<=c-e;g++){a=!0;var h=d?b-e-g:b+g;for(var i=0;i<e;i++)if(this.view[i+h]!=f[i]){a=!1;break}if(a)return d?b-e-g:b+e+g}return-1};b.findFirstIn=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e={id:-1,position:d?0:b+c,length:0};for(var f=0;f<a.length;f++){var g=this.findPattern(a[f],b,c,d);if(g!=-1){var h=!1,i=a[f].length;d?g-i>=e.position-e.length&&(h=!0):g-i<=e.position-e.length&&(h=!0);h&&(e.position=g,e.id=f,e.length=i)}}return e};b.findAllIn=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.buffer.byteLength-b);var d=[];b==null&&(b=0);if(b>this.buffer.byteLength-1)return d;c==null&&(c=this.buffer.byteLength-b);c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b);b={id:-1,position:b};do{var e=b.position;b=this.findFirstIn(a,b.position,c);if(b.id==-1)break;c-=b.position-e;d.push({id:b.id,position:b.position})}while(!0);return d};b.findAllPatternIn=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.buffer.byteLength-b);b==null&&(b=0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);c==null&&(c=this.buffer.byteLength-b);c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b);var d=[],e=a.buffer.byteLength;if(e>c)return-1;a=Array.from(a.view);for(var f=0;f<=c-e;f++){var g=!0,h=b+f;for(var i=0;i<e;i++)if(this.view[i+h]!=a[i]){g=!1;break}g&&(d.push(b+e+f),f+=e-1)}return d};b.findFirstNotIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);c==null&&(c=e?this.buffer.byteLength:0);c>this.buffer.byteLength&&(c=this.buffer.byteLength);e?(d==null&&(d=c),d>c&&(d=c)):(d==null&&(d=this.buffer.byteLength-c),d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c));var f={left:{id:-1,position:c},right:{id:-1,position:0},value:new a()},g=d;while(g>0){f.right=this.findFirstIn(b,e?c-d+g:c+d-g,g,e);if(f.right.id==-1){d=g;e?c-=d:c=f.left.position;f.value=new a();f.value.$2=this.$2.slice(c,c+d);f.value.$1=new Uint8Array(f.value.$2);break}if(f.right.position!=(e?f.left.position-b[f.right.id].buffer.byteLength:f.left.position+b[f.right.id].buffer.byteLength)){e?(c=f.right.position+b[f.right.id].buffer.byteLength,d=f.left.position-f.right.position-b[f.right.id].buffer.byteLength):(c=f.left.position,d=f.right.position-f.left.position-b[f.right.id].buffer.byteLength);f.value=new a();f.value.$2=this.$2.slice(c,c+d);f.value.$1=new Uint8Array(f.value.$2);break}f.left=f.right;g-=b[f.right.id].$2.byteLength}if(e){g=f.right;f.right=f.left;f.left=g}return f};b.findAllNotIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);c={left:{id:-1,position:c},right:{id:-1,position:c},value:new a()};do{var f=c.right.position;c=this.findFirstNotIn(b,c.right.position,d);d-=c.right.position-f;e.push({left:{id:c.left.id,position:c.left.position},right:{id:c.right.id,position:c.right.position},value:c.value})}while(c.right.id!=-1);return e};b.findFirstSequence=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);c==null&&(c=e?this.buffer.byteLength:0);c>this.buffer.byteLength&&(c=this.buffer.byteLength);e?(d==null&&(d=c),d>c&&(d=c)):(d==null&&(d=this.buffer.byteLength-c),d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c));var f=this.skipNotPatterns(b,c,d,e);if(f==-1)return{position:-1,value:new a()};b=this.skipPatterns(b,f,d-(e?c-f:f-c),e);e?(c=b,d=f-b):(c=f,d=b-f);e=new a();e.$2=this.$2.slice(c,c+d);e.$1=new Uint8Array(e.$2);return{position:b,value:e}};b.findAllSequences=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);c={position:c,value:new a()};do{var f=c.position;c=this.findFirstSequence(b,c.position,d);c.position!=-1&&(d-=c.position-f,e.push({position:c.position,value:c.value}))}while(c.position!=-1);return e};b.findPairedPatterns=function(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];if(a.isEqual(b))return e;c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);var f=0;a=this.findAllPatternIn(a,c,d);if(a.length==0)return e;b=this.findAllPatternIn(b,c,d);if(b.length==0)return e;while(f<a.length){if(b.length==0)break;if(a[0]==b[0]){e.push({left:a[0],right:b[0]});a.splice(0,1);b.splice(0,1);continue}if(a[f]>b[0])break;while(a[f]<b[0]){f++;if(f>=a.length)break}e.push({left:a[f-1],right:b[0]});a.splice(f-1,1);b.splice(0,1);f=0}e.sort(function(a,b){return a.left-b.left});return e};b.findPairedArrays=function(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);var f=0;a=this.findAllIn(a,c,d);if(a.length==0)return e;b=this.findAllIn(b,c,d);if(b.length==0)return e;while(f<a.length){if(b.length==0)break;if(a[0].position==b[0].position){e.push({left:a[0],right:b[0]});a.splice(0,1);b.splice(0,1);continue}if(a[f].position>b[0].position)break;while(a[f].position<b[0].position){f++;if(f>=a.length)break}e.push({left:a[f-1],right:b[0]});a.splice(f-1,1);b.splice(0,1);f=0}e.sort(function(a,b){return a.left.position-b.left.position});return e};b.replacePattern=function(a,b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);var f,g={status:-1,searchPatternPositions:[],replacePatternPositions:[]};c==null&&(c=0);if(c>this.buffer.byteLength-1)return!1;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);if(e==null){d=this.findAllIn([a],c,d);if(d.length==0)return g}else d=e;(e=g.searchPatternPositions).push.apply(e,Array.from(d,function(a){return a.position}));e=a.buffer.byteLength-b.buffer.byteLength;var h=new ArrayBuffer(this.view.length-d.length*e),i=new Uint8Array(h);i.set(new Uint8Array(this.buffer,0,c));for(f=0;f<d.length;f++){var j=f==0?c:d[f-1].position;i.set(new Uint8Array(this.buffer,j,d[f].position-a.buffer.byteLength-j),j-f*e);i.set(b.view,d[f].position-a.buffer.byteLength-f*e);g.replacePatternPositions.push(d[f].position-a.buffer.byteLength-f*e)}f--;i.set(new Uint8Array(this.buffer,d[f].position,this.buffer.byteLength-d[f].position),d[f].position-a.buffer.byteLength+b.buffer.byteLength-f*e);this.buffer=h;this.view=new Uint8Array(this.buffer);g.status=1;return g};b.skipPatterns=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=b;for(var f=0;f<a.length;f++){var g=a[f].buffer.byteLength,h=d?e-g:e,i=!0;for(var j=0;j<g;j++)if(this.view[j+h]!=a[f].view[j]){i=!1;break}if(i){f=-1;if(d){e-=g;if(e<=0)return e}else{e+=g;if(e>=b+c)return e}}}return e};b.skipNotPatterns=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=-1;for(var f=0;f<c;f++){for(var g=0;g<a.length;g++){var h=a[g].buffer.byteLength,i=d?b-f-h:b+f,j=!0;for(var k=0;k<h;k++)if(this.view[k+i]!=a[g].view[k]){j=!1;break}if(j){e=d?b-f:b+f;break}}if(e!=-1)break}return e};babelHelpers.createClass(a,[{key:"buffer",set:function(a){this.$2=a.slice(0),this.$1=new Uint8Array(this.$2)},get:function(){return this.$2}},{key:"view",set:function(a){this.$2=new ArrayBuffer(a.length),this.$1=new Uint8Array(this.$2),this.$1.set(a)},get:function(){return this.$1}},{key:"length",get:function(){return this.$2.byteLength},set:function(a){this.$2=new ArrayBuffer(a),this.$1=new Uint8Array(this.$2)}}]);return a}();g.ByteStream=a;b=function(){function b(b){b===void 0&&(b={});this.stream=new a();this.$1=0;this.backward=!1;this.$2=0;this.appendBlock=0;this.prevLength=0;this.prevStart=0;var c=!0,d=!1,e=void 0;try{for(var f=Object.keys(b)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),g;!(c=(g=f.next()).done);c=!0){g=g.value;switch(g){case"stream":this.stream=b.stream;break;case"backward":this.backward=b.backward;this.$2=this.stream.buffer.byteLength;break;case"length":this.$1=b.length;break;case"start":this.$2=b.start;break;case"appendBlock":this.appendBlock=b.appendBlock;break;case"view":this.stream=new a({view:b.view});break;case"buffer":this.stream=new a({buffer:b.buffer});break;case"string":this.stream=new a({string:b.string});break;case"hexstring":this.stream=new a({hexstring:b.hexstring});break;default:}}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}}var c=b.prototype;c.resetPosition=function(){this.$2=this.prevStart,this.$1=this.prevLength};c.findPattern=function(a,b){b===void 0&&(b=null);(b==null||b>this.length)&&(b=this.length);var c=this.stream.findPattern(a,this.start,this.length,this.backward);if(c==-1)return c;if(this.backward){if(c<this.start-a.buffer.byteLength-b)return-1}else if(c>this.start+a.buffer.byteLength+b)return-1;this.start=c;return c};c.findFirstIn=function(a,b){b===void 0&&(b=null);(b==null||b>this.length)&&(b=this.length);var c=this.stream.findFirstIn(a,this.start,this.length,this.backward);if(c.id==-1)return c;if(this.backward){if(c.position<this.start-a[c.id].buffer.byteLength-b)return{id:-1,position:this.backward?0:this.start+this.length}}else if(c.position>this.start+a[c.id].buffer.byteLength+b)return{id:-1,position:this.backward?0:this.start+this.length};this.start=c.position;return c};c.findAllIn=function(a){var b=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(a,b,this.length)};c.findFirstNotIn=function(b,c){c===void 0&&(c=null);(c==null||c>this.$1)&&(c=this.$1);var d=this.$3.findFirstNotIn(b,this.$2,this.$1,this.backward);if(d.left.id==-1&&d.right.id==-1)return d;if(this.backward){if(d.right.id!=-1&&d.right.position<this.$2-b[d.right.id].$4.byteLength-c)return{left:{id:-1,position:this.$2},right:{id:-1,position:0},value:new a()}}else if(d.left.id!=-1&&d.left.position>this.$2+b[d.left.id].$4.byteLength+c)return{left:{id:-1,position:this.$2},right:{id:-1,position:0},value:new a()};this.backward?d.left.id==-1?this.start=0:this.start=d.left.position:d.right.id==-1?this.start=this.$2+this.$1:this.start=d.right.position;return d};c.findAllNotIn=function(a){var b=this.backward?this.$2-this.$1:this.$2;return this.$3.findAllNotIn(a,b,this.$1)};c.findFirstSequence=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);(c==null||c>this.$1)&&(c=this.$1);(d==null||d>c)&&(d=c);b=this.$3.findFirstSequence(b,this.$2,c,this.backward);if(b.value.buffer.byteLength==0)return b;if(this.backward){if(b.position<this.$2-b.value.$4.byteLength-d)return{position:-1,value:new a()}}else if(b.position>this.$2+b.value.$4.byteLength+d)return{position:-1,value:new a()};this.start=b.position;return b};c.findAllSequences=function(a){var b=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(a,b,this.length)};c.findPairedPatterns=function(a,b,c){c===void 0&&(c=null);(c==null||c>this.length)&&(c=this.length);var d=this.backward?this.start-this.length:this.start;d=this.stream.findPairedPatterns(a,b,d,this.length);if(d.length)if(this.backward){if(d[0].right<this.start-b.buffer.byteLength-c)return[]}else if(d[0].left>this.start+a.buffer.byteLength+c)return[];return d};c.findPairedArrays=function(a,b,c){c===void 0&&(c=null);(c==null||c>this.length)&&(c=this.length);var d=this.backward?this.start-this.length:this.start;d=this.stream.findPairedArrays(a,b,d,this.length);if(d.length)if(this.backward){if(d[0].right.position<this.start-b[d[0].right.id].buffer.byteLength-c)return[]}else if(d[0].left.position>this.start+a[d[0].left.id].buffer.byteLength+c)return[];return d};c.replacePattern=function(a,b){var c=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(a,b,c,this.length)};c.skipPatterns=function(a){a=this.stream.skipPatterns(a,this.start,this.length,this.backward);this.start=a;return a};c.skipNotPatterns=function(a){a=this.stream.skipNotPatterns(a,this.start,this.length,this.backward);if(a==-1)return-1;this.start=a;return a};c.append=function(a){this.$2+a.$4.byteLength>this.$3.$4.byteLength&&(a.$4.byteLength>this.appendBlock&&(this.appendBlock=a.$4.byteLength+1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5.set(a.$5,this.$2),this.$1+=a.$4.byteLength*2,this.start=this.$2+a.$4.byteLength,this.prevLength-=a.$4.byteLength*2};c.appendView=function(a){this.$2+a.length>this.$3.$4.byteLength&&(a.length>this.appendBlock&&(this.appendBlock=a.length+1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5.set(a,this.$2),this.$1+=a.length*2,this.start=this.$2+a.length,this.prevLength-=a.length*2};c.appendChar=function(a){this.$2+1>this.$3.$4.byteLength&&(1>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5[this.$2]=a,this.$1+=2,this.start=this.$2+1,this.prevLength-=2};c.appendUint16=function(a){this.$2+2>this.$3.$4.byteLength&&(2>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint16Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[1];this.$3.$5[this.$2+1]=a[0];this.$1+=4;this.start=this.$2+2;this.prevLength-=4};c.appendUint24=function(a){this.$2+3>this.$3.$4.byteLength&&(3>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[2];this.$3.$5[this.$2+1]=a[1];this.$3.$5[this.$2+2]=a[0];this.$1+=6;this.start=this.$2+3;this.prevLength-=6};c.appendUint32=function(a){this.$2+4>this.$3.$4.byteLength&&(4>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[3];this.$3.$5[this.$2+1]=a[2];this.$3.$5[this.$2+2]=a[1];this.$3.$5[this.$2+3]=a[0];this.$1+=8;this.start=this.$2+4;this.prevLength-=8};c.getBlock=function(a,b){b===void 0&&(b=!0);if(this.$1<=0)return[];this.$1<a&&(a=this.$1);var c;if(this.backward){var d=this.$3.$4.slice(this.$1-a,this.$1);d=new Uint8Array(d);c=new Array(a);for(var e=0;e<a;e++)c[a-1-e]=d[e]}else{e=this.$3.$4.slice(this.$2,this.$2+a);c=Array.from(new Uint8Array(e))}b&&(this.start+=this.backward?-1*a:a);return c};c.getUint16=function(a){a===void 0&&(a=!0);a=this.getBlock(2,a);if(a.length<2)return 0;var b=new Uint16Array(1),c=new Uint8Array(b.buffer);c[0]=a[1];c[1]=a[0];return b[0]};c.getInt16=function(a){a===void 0&&(a=!0);a=this.getBlock(2,a);if(a.length<2)return 0;var b=new Int16Array(1),c=new Uint8Array(b.buffer);c[0]=a[1];c[1]=a[0];return b[0]};c.getUint24=function(a){a===void 0&&(a=!0);a=this.getBlock(3,a);if(a.length<3)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=1;d--)c[3-d]=a[d-1];return b[0]};c.getUint32=function(a){a===void 0&&(a=!0);a=this.getBlock(4,a);if(a.length<4)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=0;d--)c[3-d]=a[d];return b[0]};c.getInt32=function(a){a===void 0&&(a=!0);a=this.getBlock(4,a);if(a.length<4)return 0;var b=new Int32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=0;d--)c[3-d]=a[d];return b[0]};babelHelpers.createClass(b,[{key:"stream",set:function(a){this.$3=a,this.prevLength=this.$1,this.$1=a.$4.byteLength,this.prevStart=this.$2,this.$2=0},get:function(){return this.$3}},{key:"length",set:function(a){this.prevLength=this.$1,this.$1=a},get:function(){return this.appendBlock?this.start:this.$1}},{key:"start",set:function(a){if(a>this.stream.buffer.byteLength)return;this.prevStart=this.$2;this.prevLength=this.$1;this.$1-=this.backward?this.$2-a:a-this.$2;this.$2=a},get:function(){return this.$2}},{key:"buffer",get:function(){return this.$3.$4.slice(0,this.$1)}}]);return b}();g.SeqStream=b;function b(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);d===null&&(d=0);if(d>a.buffer.byteLength-1)return!1;e===null&&(e=a.buffer.byteLength-d);e>a.buffer.byteLength-d&&(e=a.buffer.byteLength-d);var f;d==0&&e==a.buffer.byteLength?f=a.view:f=new Uint8Array(a.buffer,d,e);a=new Array(c);d=0;c=0;var g=b.length;while(c<e){var h=0;a[d]={};for(var i=0;i<g;i++){if(b[i].maxlength==0){"defaultValue"in b[i]&&(a[d][b[i].name]=b[i].defaultValue);continue}var j=new Array(b[i].maxlength);for(var k=0;k<b[i].maxlength;k++)j[k]=f[c++];k=b[i].func(j);if(k.status==-1)return a.length==1?[]:a.slice(0,a.length-1);b[i].type!="check"&&(a[d][b[i].name]=k.value);c-=b[i].maxlength-k.length;h+=k.length}a[d++].structureLength=h}return a}var c=["00000000","00000001","00000010","00000011","00000100","00000101","00000110","00000111","00001000","00001001","00001010","00001011","00001100","00001101","00001110","00001111","00010000","00010001","00010010","00010011","00010100","00010101","00010110","00010111","00011000","00011001","00011010","00011011","00011100","00011101","00011110","00011111","00100000","00100001","00100010","00100011","00100100","00100101","00100110","00100111","00101000","00101001","00101010","00101011","00101100","00101101","00101110","00101111","00110000","00110001","00110010","00110011","00110100","00110101","00110110","00110111","00111000","00111001","00111010","00111011","00111100","00111101","00111110","00111111","01000000","01000001","01000010","01000011","01000100","01000101","01000110","01000111","01001000","01001001","01001010","01001011","01001100","01001101","01001110","01001111","01010000","01010001","01010010","01010011","01010100","01010101","01010110","01010111","01011000","01011001","01011010","01011011","01011100","01011101","01011110","01011111","01100000","01100001","01100010","01100011","01100100","01100101","01100110","01100111","01101000","01101001","01101010","01101011","01101100","01101101","01101110","01101111","01110000","01110001","01110010","01110011","01110100","01110101","01110110","01110111","01111000","01111001","01111010","01111011","01111100","01111101","01111110","01111111","10000000","10000001","10000010","10000011","10000100","10000101","10000110","10000111","10001000","10001001","10001010","10001011","10001100","10001101","10001110","10001111","10010000","10010001","10010010","10010011","10010100","10010101","10010110","10010111","10011000","10011001","10011010","10011011","10011100","10011101","10011110","10011111","10100000","10100001","10100010","10100011","10100100","10100101","10100110","10100111","10101000","10101001","10101010","10101011","10101100","10101101","10101110","10101111","10110000","10110001","10110010","10110011","10110100","10110101","10110110","10110111","10111000","10111001","10111010","10111011","10111100","10111101","10111110","10111111","11000000","11000001","11000010","11000011","11000100","11000101","11000110","11000111","11001000","11001001","11001010","11001011","11001100","11001101","11001110","11001111","11010000","11010001","11010010","11010011","11010100","11010101","11010110","11010111","11011000","11011001","11011010","11011011","11011100","11011101","11011110","11011111","11100000","11100001","11100010","11100011","11100100","11100101","11100110","11100111","11101000","11101001","11101010","11101011","11101100","11101101","11101110","11101111","11110000","11110001","11110010","11110011","11110100","11110101","11110110","11110111","11111000","11111001","11111010","11111011","11111100","11111101","11111110","11111111"],d=function(){function b(a){a===void 0&&(a={});this.buffer=new ArrayBuffer(0);this.view=new Uint8Array(this.buffer);this.bitsCount=0;var b=!0,c=!1,d=void 0;try{for(var e=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),f;!(b=(f=e.next()).done);b=!0){f=f.value;switch(f){case"byteStream":this.fromByteStream(a.byteStream);break;case"view":this.fromUint8Array(a.view);break;case"buffer":this.fromArrayBuffer(a.buffer);break;case"string":this.fromString(a.string);break;case"uint32":this.fromUint32(a.uint32);break;case"bitsCount":this.bitsCount=a.bitsCount;break;default:}}}catch(a){c=!0,d=a}finally{try{!b&&e["return"]&&e["return"]()}finally{if(c)throw d}}}var d=b.prototype;d.clear=function(){this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0};d.fromByteStream=function(a){this.buffer=a.buffer.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3};d.fromArrayBuffer=function(a){this.buffer=a.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3};d.fromUint8Array=function(a){this.buffer=new ArrayBuffer(a.length),this.view=new Uint8Array(this.buffer),this.view.set(a),this.bitsCount=this.view.length<<3};d.fromString=function(a){var b=a.length;this.buffer=new ArrayBuffer((b>>3)+(b%8?1:0));this.view=new Uint8Array(this.buffer);this.bitsCount=(b>>3)+1<<3;var c=0;for(var d=0;d<b;d++)a[d]=="1"&&(this.view[c]|=1<<7-d%8),d&&(d+1)%8==0&&c++;b%8&&this.shiftRight(8-b%8);this.bitsCount=b};d.fromUint32=function(a){this.buffer=new ArrayBuffer(4);this.view=new Uint8Array(this.buffer);a=new Uint32Array([a]);a=new Uint8Array(a.buffer);for(var b=3;b>=0;b--)this.view[b]=a[3-b];this.bitsCount=32};d.toString=function(a,b){a===void 0&&(a=null);b===void 0&&(b=null);a==null&&(a=0);(a>=this.view.length||a<0)&&(a=0);b==null&&(b=this.view.length-a);(b>=this.view.length||b<0)&&(b=this.view.length-a);var d=[];for(var e=a;e<a+b;e++)d.push(c[this.view[e]]);return d.join("").slice((this.view.length<<3)-this.bitsCount)};d.shiftRight=function(a,b){b===void 0&&(b=!0);if(this.view.length==0)return;if(a<0||a>8)throw new Error('The "shift" parameter must be in range 0-8');if(a>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var c=255>>8-a;this.view[this.view.length-1]>>=a;for(var d=this.view.length-2;d>=0;d--)this.view[d+1]|=(this.view[d]&c)<<8-a,this.view[d]>>=a;this.bitsCount-=a;this.bitsCount==0&&this.clear();b&&this.shrink()};d.shiftLeft=function(a){if(this.view.length==0)return;if(a<0||a>8)throw new Error('The "shift" parameter must be in range 0-8');if(a>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var b=this.bitsCount&7;if(b>a)this.view[0]&=255>>b+a;else{var c=new ArrayBuffer(this.buffer.byteLength-1),d=new Uint8Array(c);d.set(new Uint8Array(this.buffer,1,this.buffer.byteLength-1));d[0]&=255>>a-b;this.buffer=c.slice(0);this.view=new Uint8Array(this.buffer)}this.bitsCount-=a;this.bitsCount==0&&this.clear()};d.slice=function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);var d=0;this.bitsCount%8&&(d=8-this.bitsCount%8);a+=d;c+=d;a==null&&(a=0);if(a<0||a>(this.view.length<<3)-1)return new b();c==null&&(c=(this.view.length<<3)-1);if(c<0||c>(this.view.length<<3)-1)return new b();if(c-a+1>this.bitsCount)return new b();d=a>>3;var e=a&7,f=c>>3,g=c&7;f=f-d==0?1:f-d+1;var h=new b();h.buffer=new ArrayBuffer(f);h.view=new Uint8Array(h.buffer);h.bitsCount=f<<3;h.view.set(new Uint8Array(this.buffer,d,f));h.view[0]&=255>>e;h.view[f]&=255<<7-g;7-g&&h.shiftRight(7-g,!1);h.bitsCount=c-a+1;h.shrink();return h};d.copy=function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);if(a<0||a>(this.view.length<<3)-1)return new b();c===null&&(c=(this.view.length<<3)-a-1);return c>this.bitsCount?new b():this.slice(a,a+c-1)};d.shrink=function(){var a=(this.bitsCount>>3)+(this.bitsCount%8?1:0);if(a<this.buffer.byteLength){var b=new ArrayBuffer(a),c=new Uint8Array(b);c.set(new Uint8Array(this.buffer,this.buffer.byteLength-a,a));this.buffer=b.slice(0);this.view=new Uint8Array(this.buffer)}};d.reverseBytes=function(){for(var a=0;a<this.view.length;a++)this.view[a]=(this.view[a]*2050&139536|this.view[a]*32800&558144)*65793>>16;if(this.bitsCount%8){a=(this.bitsCount>>3)+(this.bitsCount%8?1:0);this.view[this.view.length-a]>>=8-(this.bitsCount&7)}};d.reverseValue=function(){var a=this.toString(),b=a.length,c=new Array(b);for(var d=0;d<b;d++)c[b-1-d]=a[d];this.fromString(c.join(""))};d.getNumberValue=function(){var a=this.buffer.byteLength-1;if(a>3)return-1;if(a==-1)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=a;d>=0;d--)c[a-d]=this.view[d];return b[0]};d.findPattern=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()});b=new a({string:b.toString()});return f.findPattern(b,c,d,e)};d.findFirstIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstIn(g,c,d,e)};d.findAllIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllIn(f,c,d)};d.findAllPatternIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()});b=new a({string:b.toString()});return e.findAllPatternIn(b,c,d)};d.findFirstNotIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstNotIn(g,c,d,e)};d.findAllNotIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllNotIn(f,c,d)};d.findFirstSequence=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstSequence(g,c,d,e)};d.findAllSequences=function(b,c,d){var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllSequences(f,c,d)};d.findPairedPatterns=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()});b=new a({string:b.toString()});c=new a({string:c.toString()});return f.findPairedPatterns(b,c,d,e)};d.findPairedArrays=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});h=new Array(c.length);for(b=0;b<c.length;b++)h[b]=new a({string:c[b].toString()});return f.findPairedArrays(g,h,d,e)};d.replacePattern=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()});b=new a({string:b.toString()});c=new a({string:c.toString()});if(f.findPairedPatterns(b,c,d,e)){this.fromString(f.toString());return!0}return!1};d.skipPatterns=function(b,c,d,e){var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.skipPatterns(g,c,d,e)};d.skipNotPatterns=function(b,c,d,e){var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.skipNotPatterns(g,c,d,e)};d.append=function(a){this.fromString([this.toString(),a.toString()].join(""))};return b}();g.BitStream=d;b=function(){function a(a){a===void 0&&(a={});this.stream=new d();this.$1=0;this.$2=this.stream.bitsCount;this.backward=!1;this.appendBlock=0;var b=!0,c=!1,e=void 0;try{for(var f=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),g;!(b=(g=f.next()).done);b=!0){g=g.value;switch(g){case"stream":case"start":case"length":case"backward":case"appendBlock":this[g]=a[g];break;default:}}}catch(a){c=!0,e=a}finally{try{!b&&f["return"]&&f["return"]()}finally{if(c)throw e}}}var b=a.prototype;b.getBits=function(a){this.start+a>this.stream.bitsCount&&(a=this.stream.bitsCount-this.start);var b;this.backward?(b=this.stream.copy(this.start-a,a),this.start-=b.bitsCount):(b=this.stream.copy(this.start,a),this.start+=b.bitsCount);return b};b.getBitsString=function(a){this.start+a>this.stream.bitsCount&&(a=this.stream.bitsCount-this.start);var b=[],d;this.backward?d=this.start-a:d=this.start;a=this.start+a-1;var e=0;this.stream.bitsCount%8&&(e=8-this.stream.bitsCount%8);d+=e;a+=e;e=d>>3;d=d&7;var f=a>>3;a=a&7;f=e+(f-e==0?1:f-e+1);for(var g=e;g<f;g++){var h=c[this.stream.view[g]];g==e&&(h=h.slice(d));g==f-1&&(h=h.slice(0,a-7+h.length));b.push(h)}b=b.join("");this.backward?this.start-=b.length:this.start+=b.length;return b};b.getBitsReversedValue=function(a){var b=this.getBitsString(a),c=b.length,d=8-c%8,e=new Array(c),f=new Uint32Array(1),g=new Uint8Array(f.buffer,0,4),h;if(c>32)return-1;a==32?a=3:a=c-1>>3;for(h=0;h<c;h++)e[c-1-h]=b[h];for(h=d;h<d+c;h++)e[h-d]=="1"&&(g[a]|=1<<7-h%8),h&&(h+1)%8==0&&a--;return f[0]};b.toString=function(){var a=this.stream.copy(this.start,this.length);return a.toString()};babelHelpers.createClass(a,[{key:"start",set:function(a){if(a>this.stream.bitsCount)return;this.$2-=this.backward?this.$1-a:a-this.$1;this.$1=a;this.prevStart=this.$1;this.prevLength=this.$2},get:function(){return this.$1}},{key:"length",set:function(a){if(a>this.stream.bitsCount)return;this.prevLength=this.$2;this.$2=a},get:function(){return this.$2}},{key:"stream",set:function(a){this.$3=a,this.prevLength=this.$2,this.$2=a.bitsCount,this.prevStart=this.$1,this.$1=this.backward?this.length:0},get:function(){return this.$3}}]);return a}();g.SeqBitStream=b}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-mat3-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];a[0]=g*b-h*j;a[1]=e*j-d*b;a[2]=d*h-e*g;a[3]=h*i-f*b;a[4]=c*b-e*i;a[5]=e*f-c*h;a[6]=f*j-g*i;a[7]=d*i-c*j;a[8]=c*g-d*f;return a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){k.exports=a;function a(a){var b=new Float32Array(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b}}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function p(){o.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}}var q=!1;function r(){q||(q=!0,p());return o.exports}f={};var s={exports:f};function t(){s.exports=a;function a(){var a=new Float32Array(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}}var u=!1;function v(){u||(u=!0,t());return s.exports}b={};var w={exports:b};function x(){w.exports=a;function a(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7];a=a[8];return b*(a*f-g*i)+c*(g*h-a*e)+d*(i*e-f*h)}}var y=!1;function z(){y||(y=!0,x());return w.exports}c={};var A={exports:c};function aa(){A.exports=a;function a(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]+a[4]*a[4]+a[5]*a[5]+a[6]*a[6]+a[7]*a[7]+a[8]*a[8])}}var B=!1;function ba(){B||(B=!0,aa());return A.exports}d={};var C={exports:d};function ca(){C.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a}}var D=!1;function da(){D||(D=!0,ca());return C.exports}f={};var E={exports:f};function ea(){E.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a}}var F=!1;function fa(){F||(F=!0,ea());return E.exports}b={};var G={exports:b};function ga(){G.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[3]=i-b;a[6]=j+g;a[1]=i+b;a[4]=1-c-e;a[7]=k-f;a[2]=j-g;a[5]=k+f;a[8]=1-c-d;return a}}var H=!1;function ha(){H||(H=!0,ga());return G.exports}c={};var I={exports:c};function ia(){I.exports=a;function a(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}}var J=!1;function ja(){J||(J=!0,ia());return I.exports}d={};var K={exports:d};function ka(){K.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];var k=b*g-h*j,l=-b*f+h*i,m=j*f-g*i,n=c*k+d*l+e*m;if(!n)return null;n=1/n;a[0]=k*n;a[1]=(-b*d+e*j)*n;a[2]=(h*d-e*g)*n;a[3]=l*n;a[4]=(b*c-e*i)*n;a[5]=(-h*c+e*f)*n;a[6]=m*n;a[7]=(-j*c+d*i)*n;a[8]=(g*c-d*f)*n;return a}}var L=!1;function la(){L||(L=!0,ka());return K.exports}f={};var M={exports:f};function ma(){M.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7];c=c[8];a[0]=l*d+m*g+n*j;a[1]=l*e+m*h+n*k;a[2]=l*f+m*i+n*b;a[3]=o*d+p*g+q*j;a[4]=o*e+p*h+q*k;a[5]=o*f+p*i+q*b;a[6]=r*d+s*g+c*j;a[7]=r*e+s*h+c*k;a[8]=r*f+s*i+c*b;return a}}var N=!1;function na(){N||(N=!0,ma());return M.exports}b={};var O={exports:b};function oa(){O.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o;k=k*b-n*o;var z=l*q-m*p;l=l*b-n*p;m=m*b-n*q;n=r*m-s*l+t*z+u*k-v*y+w*x;if(!n)return null;n=1/n;a[0]=(h*m-i*l+j*z)*n;a[1]=(i*k-g*m-j*y)*n;a[2]=(g*l-h*k+j*x)*n;a[3]=(e*l-d*m-f*z)*n;a[4]=(c*m-e*k+f*y)*n;a[5]=(d*k-c*l-f*x)*n;a[6]=(p*w-q*v+b*u)*n;a[7]=(q*t-o*w-b*s)*n;a[8]=(o*v-p*t+b*r)*n;return a}}var P=!1;function pa(){P||(P=!0,oa());return O.exports}c={};var Q={exports:c};function qa(){Q.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=Math.sin(c);c=Math.cos(c);a[0]=c*d+l*g;a[1]=c*e+l*h;a[2]=c*f+l*i;a[3]=c*g-l*d;a[4]=c*h-l*e;a[5]=c*i-l*f;a[6]=j;a[7]=k;a[8]=b;return a}}var R=!1;function ra(){R||(R=!0,qa());return Q.exports}d={};var S={exports:d};function sa(){S.exports=a;function a(a,b,c){var d=c[0];c=c[1];a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}}var T=!1;function ta(){T||(T=!0,sa());return S.exports}f={};var U={exports:f};function ua(){U.exports=a;function a(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}}var V=!1;function va(){V||(V=!0,ua());return U.exports}b={};var W={exports:b};function wa(){W.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=i;a[6]=l*d+c*g+j;a[7]=l*e+c*h+k;a[8]=l*f+c*i+b;return a}}var X=!1;function xa(){X||(X=!0,wa());return W.exports}c={};var Y={exports:c};function ya(){Y.exports=a;function a(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}}var Z=!1;function za(){Z||(Z=!0,ya());return Y.exports}d={};var $={exports:d};function Aa(){$.exports={adjoint:j(),clone:n(),copy:r(),create:v(),determinant:z(),frob:ba(),fromMat2:da(),fromMat4:fa(),fromQuat:ha(),identity:ja(),invert:la(),multiply:na(),normalFromMat4:pa(),rotate:ra(),scale:ta(),str:va(),translate:xa(),transpose:za()}}var Ba=!1;function Ca(){Ba||(Ba=!0,Aa());return $.exports}function a(a){switch(a){case void 0:return Ca();case"/create":return v()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec3-1.1.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=1e-6}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function aa(){k.exports=a;function a(){var a=new Float32Array(3);a[0]=0;a[1]=0;a[2]=0;return a}}var l=!1;function m(){l||(l=!0,aa());return k.exports}d={};var n={exports:d};function ba(){n.exports=a;function a(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b}}var o=!1;function ca(){o||(o=!0,ba());return n.exports}f={};var p={exports:f};function da(){p.exports=a;function a(a,b,c){var d=new Float32Array(3);d[0]=a;d[1]=b;d[2]=c;return d}}var q=!1;function r(){q||(q=!0,da());return p.exports}b={};var s={exports:b};function ea(){s.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}}var t=!1;function u(){t||(t=!0,ea());return s.exports}c={};var v={exports:c};function fa(){v.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}}var w=!1;function x(){w||(w=!0,fa());return v.exports}d={};var y={exports:d};function ga(){y.exports=d;var a=r(),b=u(),c=x();function d(d,e){d=a(d[0],d[1],d[2]);e=a(e[0],e[1],e[2]);b(d,d);b(e,e);d=c(d,e);if(d>1)return 0;else return Math.acos(d)}}var z=!1;function A(){z||(z=!0,ga());return y.exports}f={};var B={exports:f};function ha(){B.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}}var C=!1;function ia(){C||(C=!0,ha());return B.exports}b={};var D={exports:b};function ja(){D.exports=a;function a(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a}}var E=!1;function ka(){E||(E=!0,ja());return D.exports}c={};var F={exports:c};function la(){F.exports=b;var a=j();function b(b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];return Math.abs(d-f)<=a*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(e-g)<=a*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(b-c)<=a*Math.max(1,Math.abs(b),Math.abs(c))}}var G=!1;function ma(){G||(G=!0,la());return F.exports}d={};var H={exports:d};function na(){H.exports=a;function a(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}}var I=!1;function oa(){I||(I=!0,na());return H.exports}f={};var J={exports:f};function pa(){J.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a}}var K=!1;function qa(){K||(K=!0,pa());return J.exports}b={};var L={exports:b};function ra(){L.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}}var M=!1;function N(){M||(M=!0,ra());return L.exports}c={};var O={exports:c};function sa(){O.exports=N()}var P=!1;function ta(){P||(P=!0,sa());return O.exports}d={};var Q={exports:d};function ua(){Q.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}}var R=!1;function S(){R||(R=!0,ua());return Q.exports}f={};var T={exports:f};function va(){T.exports=S()}var U=!1;function wa(){U||(U=!0,va());return T.exports}b={};var V={exports:b};function xa(){V.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}}var W=!1;function X(){W||(W=!0,xa());return V.exports}c={};var Y={exports:c};function ya(){Y.exports=X()}var Z=!1;function za(){Z||(Z=!0,ya());return Y.exports}d={};var Aa={exports:d};function Ba(){Aa.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}f={};var Ea={exports:f};function Fa(){Ea.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a}}var Ga=!1;function Ha(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ia={exports:b};function Ja(){Ia.exports=a;function a(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a}}var Ka=!1;function La(){Ka||(Ka=!0,Ja());return Ia.exports}c={};var Ma={exports:c};function Na(){Ma.exports=a;function a(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a}}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return Ma.exports}d={};var Qa={exports:d};function Ra(){Qa.exports=a;function a(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a}}var Sa=!1;function Ta(){Sa||(Sa=!0,Ra());return Qa.exports}f={};var Ua={exports:f};function Va(){Ua.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}}var Wa=!1;function Xa(){Wa||(Wa=!0,Va());return Ua.exports}b={};var Ya={exports:b};function Za(){Ya.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a}}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}c={};var bb={exports:c};function cb(){bb.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return Math.sqrt(c*c+d*d+b*b)}}var db=!1;function eb(){db||(db=!0,cb());return bb.exports}d={};var fb={exports:d};function gb(){fb.exports=eb()}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}f={};var jb={exports:f};function kb(){jb.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return c*c+d*d+b*b}}var lb=!1;function mb(){lb||(lb=!0,kb());return jb.exports}b={};var nb={exports:b};function ob(){nb.exports=mb()}var pb=!1;function qb(){pb||(pb=!0,ob());return nb.exports}c={};var rb={exports:c};function sb(){rb.exports=a;function a(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}}var tb=!1;function $(){tb||(tb=!0,sb());return rb.exports}d={};var ub={exports:d};function vb(){ub.exports=$()}var wb=!1;function xb(){wb||(wb=!0,vb());return ub.exports}f={};var yb={exports:f};function zb(){yb.exports=a;function a(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return yb.exports}b={};var Cb={exports:b};function Db(){Cb.exports=Bb()}var Eb=!1;function Fb(){Eb||(Eb=!0,Db());return Cb.exports}c={};var Gb={exports:c};function Hb(){Gb.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a}}var Ib=!1;function Jb(){Ib||(Ib=!0,Hb());return Gb.exports}d={};var Kb={exports:d};function Lb(){Kb.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a}}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return Kb.exports}f={};var Ob={exports:f};function Pb(){Ob.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a}}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}b={};var Sb={exports:b};function Tb(){Sb.exports=a;function a(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a}}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}c={};var Wb={exports:c};function Xb(){Wb.exports=a;function a(a,b){b=b||1;var c=Math.random()*2*Math.PI,d=Math.random()*2-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a}}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Wb.exports}d={};var $b={exports:d};function ac(){$b.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a}}var bc=!1;function cc(){bc||(bc=!0,ac());return $b.exports}f={};var dc={exports:f};function ec(){dc.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a}}var fc=!1;function gc(){fc||(fc=!0,ec());return dc.exports}b={};var hc={exports:b};function ic(){hc.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1],h=c[2];c=c[3];var i=c*d+g*b-h*e,j=c*e+h*d-f*b,k=c*b+f*e-g*d;d=-f*d-g*e-h*b;a[0]=i*c+d*-f+j*-h-k*-g;a[1]=j*c+d*-g+k*-f-i*-h;a[2]=k*c+d*-h+i*-g-j*-f;return a}}var jc=!1;function kc(){jc||(jc=!0,ic());return hc.exports}c={};var lc={exports:c};function mc(){lc.exports=a;function a(a,b,c,d){var e=c[1];c=c[2];var f=b[1]-e,g=b[2]-c,h=Math.sin(d);d=Math.cos(d);a[0]=b[0];a[1]=e+f*d-g*h;a[2]=c+f*h+g*d;return a}}var nc=!1;function oc(){nc||(nc=!0,mc());return lc.exports}d={};var pc={exports:d};function qc(){pc.exports=a;function a(a,b,c,d){var e=c[0];c=c[2];var f=b[0]-e,g=b[2]-c,h=Math.sin(d);d=Math.cos(d);a[0]=e+g*h+f*d;a[1]=b[1];a[2]=c+g*d-f*h;return a}}var rc=!1;function sc(){rc||(rc=!0,qc());return pc.exports}f={};var tc={exports:f};function uc(){tc.exports=a;function a(a,b,c,d){var e=c[0];c=c[1];var f=b[0]-e,g=b[1]-c,h=Math.sin(d);d=Math.cos(d);a[0]=e+f*d-g*h;a[1]=c+f*h+g*d;a[2]=b[2];return a}}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}b={};var xc={exports:b};function yc(){xc.exports=b;var a=m()();function b(b,c,d,e,f,g){c||(c=3);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}var zc=!1;function Ac(){zc||(zc=!0,yc());return xc.exports}c={};var Bc={exports:c};function Cc(){Bc.exports={EPSILON:j(),create:m(),clone:ca(),angle:A(),fromValues:r(),copy:ia(),set:ka(),equals:ma(),exactEquals:oa(),add:qa(),subtract:N(),sub:ta(),multiply:S(),mul:wa(),divide:X(),div:za(),min:Da(),max:Ha(),floor:La(),ceil:Pa(),round:Ta(),scale:Xa(),scaleAndAdd:ab(),distance:eb(),dist:ib(),squaredDistance:mb(),sqrDist:qb(),length:$(),len:xb(),squaredLength:Bb(),sqrLen:Fb(),negate:Jb(),inverse:Nb(),normalize:u(),dot:x(),cross:Rb(),lerp:Vb(),random:Zb(),transformMat4:cc(),transformMat3:gc(),transformQuat:kc(),rotateX:oc(),rotateY:sc(),rotateZ:wc(),forEach:Ac()}}var Dc=!1;function Ec(){Dc||(Dc=!0,Cc());return Bc.exports}function a(a){switch(a){case void 0:return Ec();case"/angle":return A();case"/cross":return Rb();case"/dot":return x();case"/length":return $();case"/normalize":return u();case"/rotateX":return oc();case"/rotateY":return sc();case"/rotateZ":return wc();case"/subtract":return N();case"/transformMat4":return cc()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec4-1.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=a;function a(){var a=new Float32Array(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){k.exports=a;function a(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function aa(){o.exports=a;function a(a,b,c,d){var e=new Float32Array(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}}var p=!1;function q(){p||(p=!0,aa());return o.exports}f={};var r={exports:f};function ba(){r.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}}var s=!1;function t(){s||(s=!0,ba());return r.exports}b={};var u={exports:b};function ca(){u.exports=a;function a(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}}var v=!1;function w(){v||(v=!0,ca());return u.exports}c={};var x={exports:c};function da(){x.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}}var y=!1;function z(){y||(y=!0,da());return x.exports}d={};var A={exports:d};function ea(){A.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}}var B=!1;function fa(){B||(B=!0,ea());return A.exports}f={};var C={exports:f};function ga(){C.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}}var D=!1;function E(){D||(D=!0,ga());return C.exports}b={};var F={exports:b};function ha(){F.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}}var G=!1;function ia(){G||(G=!0,ha());return F.exports}c={};var H={exports:c};function ja(){H.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a}}var I=!1;function ka(){I||(I=!0,ja());return H.exports}d={};var J={exports:d};function la(){J.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a}}var K=!1;function ma(){K||(K=!0,la());return J.exports}f={};var L={exports:f};function na(){L.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}}var M=!1;function N(){M||(M=!0,na());return L.exports}b={};var O={exports:b};function oa(){O.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;return a}}var P=!1;function pa(){P||(P=!0,oa());return O.exports}c={};var Q={exports:c};function qa(){Q.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+b*b)}}var R=!1;function ra(){R||(R=!0,qa());return Q.exports}d={};var S={exports:d};function sa(){S.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return c*c+d*d+e*e+b*b}}var T=!1;function ta(){T||(T=!0,sa());return S.exports}f={};var U={exports:f};function ua(){U.exports=a;function a(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}}var V=!1;function W(){V||(V=!0,ua());return U.exports}b={};var X={exports:b};function va(){X.exports=a;function a(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}}var Y=!1;function Z(){Y||(Y=!0,va());return X.exports}c={};var wa={exports:c};function xa(){wa.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a}}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}d={};var Aa={exports:d};function Ba(){Aa.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}f={};var Ea={exports:f};function Fa(){Ea.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f>0&&(f=1/Math.sqrt(f),a[0]=c*f,a[1]=d*f,a[2]=e*f,a[3]=b*f);return a}}var Ga=!1;function $(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ha={exports:b};function Ia(){Ha.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}c={};var La={exports:c};function Ma(){La.exports=a;function a(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a}}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}d={};var Pa={exports:d};function Qa(){var a=$(),b=N();Pa.exports=c;function c(c,d){d=d||1;c[0]=Math.random();c[1]=Math.random();c[2]=Math.random();c[3]=Math.random();a(c,c);b(c,c,d);return c}}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}f={};var Ta={exports:f};function Ua(){Ta.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b;a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b;a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b;a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b;return a}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];c=c[3];var j=c*d+h*f-i*e,k=c*e+i*d-g*f,l=c*f+g*e-h*d;d=-g*d-h*e-i*f;a[0]=j*c+d*-g+k*-i-l*-h;a[1]=k*c+d*-h+l*-g-j*-i;a[2]=l*c+d*-i+j*-h-k*-g;a[3]=b[3];return a}}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}c={};var ab={exports:c};function bb(){ab.exports={create:j(),clone:n(),fromValues:q(),copy:t(),set:w(),add:z(),subtract:fa(),multiply:E(),divide:ia(),min:ka(),max:ma(),scale:N(),scaleAndAdd:pa(),distance:ra(),squaredDistance:ta(),length:W(),squaredLength:Z(),negate:za(),inverse:Da(),normalize:$(),dot:Ka(),lerp:Oa(),random:Sa(),transformMat4:Wa(),transformQuat:$a()}}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}function a(a){switch(a){case void 0:return db();case"/add":return z();case"/clone":return n();case"/copy":return t();case"/dot":return Ka();case"/fromValues":return q();case"/length":return W();case"/lerp":return Oa();case"/multiply":return E();case"/normalize":return $();case"/scale":return N();case"/set":return w();case"/squaredLength":return Z();case"/transformMat4":return Wa()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-quat-1.0.0",["gl-vec4-1.0.1","gl-vec3-1.1.3","gl-mat3-1.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("gl-vec4-1.0.1")),h=a(b("gl-vec3-1.1.3")),i=a(b("gl-mat3-1.0.0"));d={};var j={exports:d};function k(){j.exports=g("/add")}var l=!1;function m(){l||(l=!0,k());return j.exports}f={};var n={exports:f};function aa(){n.exports=a;function a(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a}}var o=!1;function p(){o||(o=!0,aa());return n.exports}a={};var q={exports:a};function ba(){q.exports=g("/clone")}var r=!1;function ca(){r||(r=!0,ba());return q.exports}b={};var s={exports:b};function da(){s.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a}}var t=!1;function u(){t||(t=!0,da());return s.exports}d={};var v={exports:d};function ea(){v.exports=g("/copy")}var w=!1;function fa(){w||(w=!0,ea());return v.exports}f={};var x={exports:f};function ga(){x.exports=a;function a(){var a=new Float32Array(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}}var y=!1;function ha(){y||(y=!0,ga());return x.exports}a={};var z={exports:a};function ia(){z.exports=g("/dot")}var A=!1;function B(){A||(A=!0,ia());return z.exports}b={};var C={exports:b};function ja(){C.exports=a;function a(a,b){var c=b[0]+b[4]+b[8];if(c>0)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[d*3+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(b[d*3+d]-b[e*3+e]-b[f*3+f]+1);a[d]=.5*c;c=.5/c;a[3]=(b[e*3+f]-b[f*3+e])*c;a[e]=(b[e*3+d]+b[d*3+e])*c;a[f]=(b[f*3+d]+b[d*3+f])*c}return a}}var D=!1;function E(){D||(D=!0,ja());return C.exports}d={};var F={exports:d};function ka(){F.exports=g("/fromValues")}var G=!1;function la(){G||(G=!0,ka());return F.exports}f={};var H={exports:f};function ma(){H.exports=a;function a(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}}var I=!1;function J(){I||(I=!0,ma());return H.exports}a={};var K={exports:a};function na(){K.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f=f?1/f:0;a[0]=-c*f;a[1]=-d*f;a[2]=-e*f;a[3]=b*f;return a}}var L=!1;function M(){L||(L=!0,na());return K.exports}b={};var N={exports:b};function oa(){N.exports=g("/length")}var O=!1;function P(){O||(O=!0,oa());return N.exports}d={};var Q={exports:d};function pa(){Q.exports=g("/lerp")}var R=!1;function S(){R||(R=!0,pa());return Q.exports}f={};var T={exports:f};function qa(){T.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*c+b*g+e*i-f*h;a[1]=e*c+b*h+f*g-d*i;a[2]=f*c+b*i+d*h-e*g;a[3]=b*c-d*g-e*h-f*i;return a}}var U=!1;function V(){U||(U=!0,qa());return T.exports}a={};var W={exports:a};function ra(){W.exports=g("/normalize")}var X=!1;function Y(){X||(X=!0,ra());return W.exports}b={};var sa={exports:b};function ta(){sa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=e*c+f*g;a[2]=f*c-e*g;a[3]=b*c-d*g;return a}}var ua=!1;function va(){ua||(ua=!0,ta());return sa.exports}d={};var wa={exports:d};function xa(){wa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c-f*g;a[1]=e*c+b*g;a[2]=f*c+d*g;a[3]=b*c-e*g;return a}}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}f={};var Aa={exports:f};function Ba(){Aa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*g;a[1]=e*c-d*g;a[2]=f*c+b*g;a[3]=b*c-f*g;return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}a={};var Ea={exports:a};function Fa(){Ea.exports=a;function a(a,b,c){c=c*.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}}var Ga=!1;function Z(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ha={exports:b};function Ia(){var a=h("/dot"),b=h("/cross"),c=h("/length"),d=h("/normalize"),e=Y(),f=Z();Ha.exports=k;var g=[0,0,0],i=[1,0,0],j=[0,1,0];function k(h,k,l){var m=a(k,l);if(m<-.999999){b(g,i,k);c(g)<1e-6&&b(g,j,k);d(g,g);f(h,g,Math.PI);return h}else if(m>.999999){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h}else{b(g,k,l);h[0]=g[0];h[1]=g[1];h[2]=g[2];h[3]=1+m;return e(h,h)}}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}d={};var La={exports:d};function Ma(){La.exports=g("/scale")}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}f={};var Pa={exports:f};function Qa(){Pa.exports=g("/set")}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}a={};var Ta={exports:a};function Ua(){var a=i("/create"),b=E(),c=Y();Ta.exports=e;var d=a();function e(a,e,f,g){d[0]=f[0];d[3]=f[1];d[6]=f[2];d[1]=g[0];d[4]=g[1];d[7]=g[2];d[2]=-e[0];d[5]=-e[1];d[8]=-e[2];return c(a,b(a,d))}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];var h=c[0],i=c[1],j=c[2];c=c[3];var k,l,m;k=e*h+f*i+g*j+b*c;k<0&&(k=-k,h=-h,i=-i,j=-j,c=-c);1-k>1e-6?(k=Math.acos(k),l=Math.sin(k),m=Math.sin((1-d)*k)/l,k=Math.sin(d*k)/l):(m=1-d,k=d);a[0]=m*e+k*h;a[1]=m*f+k*i;a[2]=m*g+k*j;a[3]=m*b+k*c;return a}}var Za=!1;function $(){Za||(Za=!0,Ya());return Xa.exports}d={};var $a={exports:d};function ab(){var a=$();$a.exports=d;var b=[0,0,0,1],c=[0,0,0,1];function d(d,e,f,g,h,i){a(b,e,h,i);a(c,f,g,i);a(d,b,c,2*i*(1-i));return d}}var bb=!1;function cb(){bb||(bb=!0,ab());return $a.exports}f={};var db={exports:f};function eb(){db.exports=g("/squaredLength")}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}a={};var hb={exports:a};function ib(){hb.exports={add:m(),calculateW:p(),clone:ca(),conjugate:u(),copy:fa(),create:ha(),dot:B(),fromMat3:E(),fromValues:la(),identity:J(),invert:M(),length:P(),lerp:S(),multiply:V(),normalize:Y(),rotateX:va(),rotateY:za(),rotateZ:Da(),rotationTo:Ka(),scale:Oa(),set:Sa(),setAxes:Wa(),setAxisAngle:Z(),slerp:$(),sqlerp:cb(),squaredLength:gb()}}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}function c(a){switch(a){case void 0:return kb();case"/add":return m();case"/calculateW":return p();case"/conjugate":return u();case"/dot":return B();case"/fromMat3":return E();case"/identity":return J();case"/invert":return M();case"/length":return P();case"/lerp":return S();case"/multiply":return V();case"/normalize":return Y();case"/rotateX":return va();case"/rotateY":return za();case"/rotateZ":return Da();case"/rotationTo":return Ka();case"/scale":return Oa();case"/set":return Sa();case"/setAxisAngle":return Z();case"/slerp":return $();case"/squaredLength":return gb()}}e.exports=c}),null);
__d("gl-quat",["gl-quat-1.0.0"],(function(a,b,c,d,e,f){"use strict";e.exports=b("gl-quat-1.0.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec2-1.3.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function aa(){g.exports=1e-6}var h=!1;function i(){h||(h=!0,aa());return g.exports}c={};var j={exports:c};function ba(){j.exports=a;function a(){var a=new Float32Array(2);a[0]=0;a[1]=0;return a}}var k=!1;function l(){k||(k=!0,ba());return j.exports}d={};var m={exports:d};function ca(){m.exports=a;function a(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b}}var n=!1;function da(){n||(n=!0,ca());return m.exports}f={};var o={exports:f};function ea(){o.exports=a;function a(a,b){var c=new Float32Array(2);c[0]=a;c[1]=b;return c}}var p=!1;function fa(){p||(p=!0,ea());return o.exports}b={};var q={exports:b};function ga(){q.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];return a}}var r=!1;function ha(){r||(r=!0,ga());return q.exports}c={};var s={exports:c};function ia(){s.exports=a;function a(a,b,c){a[0]=b;a[1]=c;return a}}var t=!1;function ja(){t||(t=!0,ia());return s.exports}d={};var u={exports:d};function ka(){u.exports=b;var a=i();function b(b,c){var d=b[0];b=b[1];var e=c[0];c=c[1];return Math.abs(d-e)<=a*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(b-c)<=a*Math.max(1,Math.abs(b),Math.abs(c))}}var v=!1;function la(){v||(v=!0,ka());return u.exports}f={};var w={exports:f};function ma(){w.exports=a;function a(a,b){return a[0]===b[0]&&a[1]===b[1]}}var x=!1;function na(){x||(x=!0,ma());return w.exports}b={};var y={exports:b};function oa(){y.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}}var z=!1;function A(){z||(z=!0,oa());return y.exports}c={};var B={exports:c};function pa(){B.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}}var C=!1;function D(){C||(C=!0,pa());return B.exports}d={};var E={exports:d};function qa(){E.exports=D()}var F=!1;function ra(){F||(F=!0,qa());return E.exports}f={};var G={exports:f};function sa(){G.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}}var H=!1;function I(){H||(H=!0,sa());return G.exports}b={};var J={exports:b};function ta(){J.exports=I()}var K=!1;function ua(){K||(K=!0,ta());return J.exports}c={};var L={exports:c};function va(){L.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}}var M=!1;function N(){M||(M=!0,va());return L.exports}d={};var O={exports:d};function wa(){O.exports=N()}var P=!1;function xa(){P||(P=!0,wa());return O.exports}f={};var Q={exports:f};function ya(){Q.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];return a}}var R=!1;function za(){R||(R=!0,ya());return Q.exports}b={};var S={exports:b};function Aa(){S.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}}var T=!1;function Ba(){T||(T=!0,Aa());return S.exports}c={};var U={exports:c};function Ca(){U.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}}var V=!1;function Da(){V||(V=!0,Ca());return U.exports}d={};var W={exports:d};function Ea(){W.exports=a;function a(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=b[0];b=b[1];a[0]=e*d-b*c;a[1]=e*c+b*d;return a}}var X=!1;function Fa(){X||(X=!0,Ea());return W.exports}f={};var Y={exports:f};function Ga(){Y.exports=a;function a(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a}}var Z=!1;function Ha(){Z||(Z=!0,Ga());return Y.exports}b={};var $={exports:b};function Ia(){$.exports=a;function a(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return $.exports}c={};var La={exports:c};function Ma(){La.exports=a;function a(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a}}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}d={};var Pa={exports:d};function Qa(){Pa.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}f={};var Ta={exports:f};function Ua(){Ta.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b){var c=b[0]-a[0];b=b[1]-a[1];return Math.sqrt(c*c+b*b)}}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}c={};var ab={exports:c};function bb(){ab.exports=$a()}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}d={};var eb={exports:d};function fb(){eb.exports=a;function a(a,b){var c=b[0]-a[0];b=b[1]-a[1];return c*c+b*b}}var gb=!1;function hb(){gb||(gb=!0,fb());return eb.exports}f={};var ib={exports:f};function jb(){ib.exports=hb()}var kb=!1;function lb(){kb||(kb=!0,jb());return ib.exports}b={};var mb={exports:b};function nb(){mb.exports=a;function a(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}}var ob=!1;function pb(){ob||(ob=!0,nb());return mb.exports}c={};var qb={exports:c};function rb(){qb.exports=pb()}var sb=!1;function tb(){sb||(sb=!0,rb());return qb.exports}d={};var ub={exports:d};function vb(){ub.exports=a;function a(a){var b=a[0];a=a[1];return b*b+a*a}}var wb=!1;function xb(){wb||(wb=!0,vb());return ub.exports}f={};var yb={exports:f};function zb(){yb.exports=xb()}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return yb.exports}b={};var Cb={exports:b};function Db(){Cb.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];return a}}var Eb=!1;function Fb(){Eb||(Eb=!0,Db());return Cb.exports}c={};var Gb={exports:c};function Hb(){Gb.exports=a;function a(a,b){var c=b[0],d=b[1];c=c*c+d*d;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a}}var Ib=!1;function Jb(){Ib||(Ib=!0,Hb());return Gb.exports}d={};var Kb={exports:d};function Lb(){Kb.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]}}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return Kb.exports}f={};var Ob={exports:f};function Pb(){Ob.exports=a;function a(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a}}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}b={};var Sb={exports:b};function Tb(){Sb.exports=a;function a(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a}}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}c={};var Wb={exports:c};function Xb(){Wb.exports=a;function a(a,b){b=b||1;var c=Math.random()*2*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a}}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Wb.exports}d={};var $b={exports:d};function ac(){$b.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a}}var bc=!1;function cc(){bc||(bc=!0,ac());return $b.exports}f={};var dc={exports:f};function ec(){dc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}}var fc=!1;function gc(){fc||(fc=!0,ec());return dc.exports}b={};var hc={exports:b};function ic(){hc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a}}var jc=!1;function kc(){jc||(jc=!0,ic());return hc.exports}c={};var lc={exports:c};function mc(){lc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a}}var nc=!1;function oc(){nc||(nc=!0,mc());return lc.exports}d={};var pc={exports:d};function qc(){pc.exports=b;var a=l()();function b(b,c,d,e,f,g){c||(c=2);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],f(a,a,g),b[d]=a[0],b[d+1]=a[1];return b}}var rc=!1;function sc(){rc||(rc=!0,qc());return pc.exports}f={};var tc={exports:f};function uc(){tc.exports=a;function a(a,b,c){var d=b[0]*b[0]+b[1]*b[1];if(d>c*c){d=Math.sqrt(d);a[0]=b[0]/d*c;a[1]=b[1]/d*c}else a[0]=b[0],a[1]=b[1];return a}}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}b={};var xc={exports:b};function yc(){xc.exports={EPSILON:i(),create:l(),clone:da(),fromValues:fa(),copy:ha(),set:ja(),equals:la(),exactEquals:na(),add:A(),subtract:D(),sub:ra(),multiply:I(),mul:ua(),divide:N(),div:xa(),inverse:za(),min:Ba(),max:Da(),rotate:Fa(),floor:Ha(),ceil:Ka(),round:Oa(),scale:Sa(),scaleAndAdd:Wa(),distance:$a(),dist:db(),squaredDistance:hb(),sqrDist:lb(),length:pb(),len:tb(),squaredLength:xb(),sqrLen:Bb(),negate:Fb(),normalize:Jb(),dot:Nb(),cross:Rb(),lerp:Vb(),random:Zb(),transformMat2:cc(),transformMat2d:gc(),transformMat3:kc(),transformMat4:oc(),forEach:sc(),limit:wc()}}var zc=!1;function Ac(){zc||(zc=!0,yc());return xc.exports}function a(a){switch(a){case void 0:return Ac();case"/add":return A();case"/cross":return Rb();case"/lerp":return Vb();case"/negate":return Fb();case"/transformMat4":return oc()}}e.exports=a}),null);
__d("gl-vec2",["gl-vec2-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("gl-vec2-1.3.0")()}),null);
__d("gl-vec3",["gl-vec3-1.1.3"],(function(a,b,c,d,e,f){e.exports=b("gl-vec3-1.1.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("immer-5.3.6",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a,b=typeof Symbol!=="undefined",c=typeof Map!=="undefined",d=typeof Set!=="undefined",e=b?Symbol("immer-nothing"):(a={},a["immer-nothing"]=!0,a),f=b?Symbol("immer-draftable"):"__$immer_draftable",h=b?Symbol("immer-state"):"__$immer_state",i=b?Symbol.iterator:"@@iterator",j=function(a,b){j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return j(a,b)};function k(a,b){j(a,b);function c(){this.constructor=a}a.prototype=(c.prototype=b.prototype,new c())}var l;(function(a){a[a.Object=0]="Object",a[a.Array=1]="Array",a[a.Map=2]="Map",a[a.Set=3]="Set"})(l||(l={}));var m;(function(a){a[a.ProxyObject=0]="ProxyObject",a[a.ProxyArray=1]="ProxyArray",a[a.ES5Object=2]="ES5Object",a[a.ES5Array=3]="ES5Array",a[a.Map=4]="Map",a[a.Set=5]="Set"})(m||(m={}));function n(a){return!!a&&!!a[h]}function o(a){return!a?!1:aa(a)||Array.isArray(a)||!!a[f]||!!a.constructor[f]||v(a)||w(a)}function aa(a){if(!a||typeof a!=="object")return!1;a=Object.getPrototypeOf(a);return!a||a===Object.prototype}function ba(a){if(a&&a[h])return a[h].base}var p=typeof Reflect!=="undefined"&&Reflect.ownKeys?Reflect.ownKeys:typeof Object.getOwnPropertySymbols!=="undefined"?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames;function q(a,b){r(a)===l.Object?p(a).forEach(function(c){return b(c,a[c],a)}):a.forEach(function(c,d){return b(d,c,a)})}function ca(a,b){a=Object.getOwnPropertyDescriptor(a,b);return a&&a.enumerable?!0:!1}function r(a){a||B();if(a[h])switch(a[h].type){case m.ES5Object:case m.ProxyObject:return l.Object;case m.ES5Array:case m.ProxyArray:return l.Array;case m.Map:return l.Map;case m.Set:return l.Set}return Array.isArray(a)?l.Array:v(a)?l.Map:w(a)?l.Set:l.Object}function s(a,b){return r(a)===l.Map?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function t(a,b){return r(a)===l.Map?a.get(b):a[b]}function da(a,b,c){switch(r(a)){case l.Map:a.set(b,c);break;case l.Set:a["delete"](b);a.add(c);break;default:a[b]=c}}function u(a,b){if(a===b)return a!==0||1/a===1/b;else return a!==a&&b!==b}function v(a){return c&&a instanceof Map}function w(a){return d&&a instanceof Set}function x(a){return a.copy||a.base}function y(a,b){b===void 0&&(b=!1);if(Array.isArray(a))return a.slice();var c=Object.create(Object.getPrototypeOf(a));p(a).forEach(function(d){if(d===h)return;var e=Object.getOwnPropertyDescriptor(a,d),f=e.value;if(e.get){if(!b)throw new Error("Immer drafts cannot have computed properties");f=e.get.call(a)}e.enumerable?c[d]=f:Object.defineProperty(c,d,{value:f,writable:!0,configurable:!0})});return c}function z(a,b){if(!o(a)||n(a)||Object.isFrozen(a))return;var c=r(a);c===l.Set?a.add=a.clear=a["delete"]=A:c===l.Map&&(a.set=a.clear=a["delete"]=A);Object.freeze(a);b&&q(a,function(a,b){return z(b,!0)})}function A(){throw new Error("This object has been frozen and should not be mutated")}function ea(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!1,writable:!0})}function B(){throw new Error("Illegal state, please file a bug")}var C=function(){function a(a,b){this.drafts=[],this.parent=a,this.immer=b,this.canAutoFreeze=!0}a.prototype.usePatches=function(a){a&&(this.patches=[],this.inversePatches=[],this.patchListener=a)};a.prototype.revoke=function(){this.leave(),this.drafts.forEach(fa),this.drafts=null};a.prototype.leave=function(){this===a.current&&(a.current=this.parent)};a.enter=function(b){b=new a(a.current,b);a.current=b;return b};return a}();function fa(a){a=a[h];a.type===m.ProxyObject||a.type===m.ProxyArray?a.revoke():a.revoked=!0}function D(a,b,c){var d=c.drafts[0],f=b!==void 0&&b!==d;a.willFinalize(c,b,f);if(f){if(d[h].modified){c.revoke();throw new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.")}o(b)&&(b=E(a,b,c),c.parent||H(a,b));c.patches&&(c.patches.push({op:"replace",path:[],value:b}),c.inversePatches.push({op:"replace",path:[],value:d[h].base}))}else b=E(a,d,c,[]);c.revoke();c.patches&&c.patchListener(c.patches,c.inversePatches);return b!==e?b:void 0}function E(a,b,c,d){var e=b[h];if(!e)return Object.isFrozen(b)?b:F(a,b,c);if(e.scope!==c)return b;if(!e.modified){H(a,e.base,!0);return e.base}if(!e.finalized){e.finalized=!0;F(a,e.draft,c,d);if(a.onDelete&&e.type!==m.Set)if(a.useProxies){b=e.assigned;q(b,function(b,c){c||a.onDelete(e,b)})}else{b=e.base;var f=e.copy;q(b,function(b){s(f,b)||a.onDelete(e,b)})}a.onCopy&&a.onCopy(e);a.autoFreeze&&c.canAutoFreeze&&z(e.copy,!1);d&&c.patches&&ra(e,d,c.patches,c.inversePatches)}return e.copy}function F(a,b,c,d){var e=b[h];e&&((e.type===m.ES5Object||e.type===m.ES5Array)&&(e.copy=y(e.draft,!0)),b=e.copy);q(b,function(f,g){return G(a,c,b,e,b,f,g,d)});return b}function G(a,b,c,d,e,f,g,h){if(g===e)throw Error("Immer forbids circular references");var i=!!d&&e===c,j=w(e);if(n(g)){var k=h&&i&&!j&&!s(d.assigned,f)?h.concat(f):void 0;g=E(a,g,b,k);da(e,f,g);n(g)&&(b.canAutoFreeze=!1)}else if(i&&u(g,t(d.base,f)))return;else o(g)&&(q(g,function(e,f){return G(a,b,c,d,g,e,f,h)}),b.parent||H(a,g));i&&a.onAssign&&!j&&a.onAssign(d,f,g)}function H(a,b,c){c===void 0&&(c=!1),a.autoFreeze&&!n(b)&&z(b,c)}function ga(a,b){var c=Array.isArray(a);b={type:c?m.ProxyArray:m.ProxyObject,scope:b?b.scope:C.current,modified:!1,finalized:!1,assigned:{},parent:b,base:a,draft:null,drafts:{},copy:null,revoke:null,isManual:!1};a=b;var d=I;c&&(a=[b],d=J);c=Proxy.revocable(a,d);a=c.revoke;d=c.proxy;b.draft=d;b.revoke=a;return d}var I={get:function(a,b){if(b===h)return a;var c=a.drafts;if(!a.modified&&s(c,b))return c[b];var d=x(a)[b];if(a.finalized||!o(d))return d;if(a.modified){if(d!==K(a.base,b))return d;c=a.copy}return c[b]=a.scope.immer.createProxy(d,a)},has:function(a,b){return b in x(a)},ownKeys:function(a){return Reflect.ownKeys(x(a))},set:function(a,b,c){if(!a.modified){var d=K(a.base,b);d=c?u(d,c)||c===a.drafts[b]:u(d,c)&&b in a.base;if(d)return!0;M(a);L(a)}a.assigned[b]=!0;a.copy[b]=c;return!0},deleteProperty:function(a,b){K(a.base,b)!==void 0||b in a.base?(a.assigned[b]=!1,M(a),L(a)):a.assigned[b]&&delete a.assigned[b];a.copy&&delete a.copy[b];return!0},getOwnPropertyDescriptor:function(a,b){var c=x(a);c=Reflect.getOwnPropertyDescriptor(c,b);c&&(c.writable=!0,c.configurable=a.type!==m.ProxyArray||b!=="length");return c},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(a){return Object.getPrototypeOf(a.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},J={};q(I,function(a,b){J[a]=function(){arguments[0]=arguments[0][0];return b.apply(this,arguments)}});J.deleteProperty=function(a,b){if(isNaN(parseInt(b)))throw new Error("Immer only supports deleting array indices");return I.deleteProperty.call(this,a[0],b)};J.set=function(a,b,c){if(b!=="length"&&isNaN(parseInt(b)))throw new Error("Immer only supports setting array indices and the 'length' property");return I.set.call(this,a[0],b,c,a[0])};function K(a,b){var c=a[h];c=Reflect.getOwnPropertyDescriptor(c?x(c):a,b);return c&&c.value}function L(a){if(!a.modified){a.modified=!0;if(a.type===m.ProxyObject||a.type===m.ProxyArray){var b=a.copy=y(a.base);q(a.drafts,function(a,c){b[a]=c});a.drafts=void 0}a.parent&&L(a.parent)}}function M(a){a.copy||(a.copy=y(a.base))}function ha(a,b,c){a.drafts.forEach(function(a){a[h].finalizing=!0}),!c?(a.patches&&U(a.drafts[0]),T(a.drafts)):n(b)&&b[h].scope===a&&T(a.drafts)}function ia(a,b){var c=Array.isArray(a),d=Q(a);q(d,function(b){la(d,b,c||ca(a,b))});b={type:c?m.ES5Array:m.ES5Object,scope:b?b.scope:C.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:b,base:a,draft:d,copy:null,revoked:!1,isManual:!1};ea(d,h,b);return d}function N(a,b){var c=a[h];if(c&&!c.finalizing){c.finalizing=!0;var d=a[b];c.finalizing=!1;return d}return a[b]}function ja(a,b){S(a);var c=N(x(a),b);if(a.finalizing)return c;if(c===N(a.base,b)&&o(c)){P(a);return a.copy[b]=a.scope.immer.createProxy(c,a)}return c}function ka(a,b,c){S(a);a.assigned[b]=!0;if(!a.modified){if(u(c,N(x(a),b)))return;O(a);P(a)}a.copy[b]=c}function O(a){a.modified||(a.modified=!0,a.parent&&O(a.parent))}function P(a){a.copy||(a.copy=Q(a.base))}function Q(a){var b=a&&a[h];if(b){b.finalizing=!0;var c=y(b.draft,!0);b.finalizing=!1;return c}return y(a)}var R={};function la(a,b,c){var d=R[b];d?d.enumerable=c:R[b]=d={configurable:!0,enumerable:c,get:function(){return ja(this[h],b)},set:function(a){ka(this[h],b,a)}};Object.defineProperty(a,b,d)}function S(a){if(a.revoked===!0)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(x(a)))}function T(a){for(var b=a.length-1;b>=0;b--){var c=a[b][h];if(!c.modified)switch(c.type){case m.ES5Array:V(c)&&O(c);break;case m.ES5Object:ma(c)&&O(c);break}}}function U(a){if(!a||typeof a!=="object")return;var b=a[h];if(!b)return;var c=b.base,d=b.draft,e=b.assigned;a=b.type;if(a===m.ES5Object)q(d,function(a){if(a===h)return;c[a]===void 0&&!s(c,a)?(e[a]=!0,O(b)):e[a]||U(d[a])}),q(c,function(a){d[a]===void 0&&!s(d,a)&&(e[a]=!1,O(b))});else if(a===m.ES5Array){V(b)&&(O(b),e.length=!0);if(d.length<c.length)for(a=d.length;a<c.length;a++)e[a]=!1;else for(a=c.length;a<d.length;a++)e[a]=!0;var f=Math.min(d.length,c.length);for(a=0;a<f;a++)e[a]===void 0&&U(d[a])}}function ma(a){var b=a.base;a=a.draft;var c=Object.keys(a);for(var d=c.length-1;d>=0;d--){var e=c[d],f=b[e];if(f===void 0&&!s(b,e))return!0;else{e=a[e];var g=e&&e[h];if(g?g.base!==f:!u(e,f))return!0}}return c.length!==Object.keys(b).length}function V(a){var b=a.draft;if(b.length!==a.base.length)return!0;a=Object.getOwnPropertyDescriptor(b,b.length-1);return a&&!a.get?!0:!1}var na=function(b){if(!b)throw new Error("Map is not polyfilled");k(a,b);function a(a,b){this[h]={type:m.Map,parent:b,scope:b?b.scope:C.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:a,draft:this,isManual:!1,revoked:!1};return this}b=a.prototype;Object.defineProperty(b,"size",{get:function(){return x(this[h]).size},enumerable:!0,configurable:!0});b.has=function(a){return x(this[h]).has(a)};b.set=function(a,b){var c=this[h];S(c);x(c).get(a)!==b&&(W(c),c.scope.immer.markChanged(c),c.assigned.set(a,!0),c.copy.set(a,b),c.assigned.set(a,!0));return this};b["delete"]=function(a){if(!this.has(a))return!1;var b=this[h];S(b);W(b);b.scope.immer.markChanged(b);b.assigned.set(a,!1);b.copy["delete"](a);return!0};b.clear=function(){var a=this[h];S(a);W(a);a.scope.immer.markChanged(a);a.assigned=new Map();return a.copy.clear()};b.forEach=function(a,b){var c=this,d=this[h];x(d).forEach(function(d,e,f){a.call(b,c.get(e),e,c)})};b.get=function(a){var b=this[h];S(b);var c=x(b).get(a);if(b.finalized||!o(c))return c;if(c!==b.base.get(a))return c;c=b.scope.immer.createProxy(c,b);W(b);b.copy.set(a,c);return c};b.keys=function(){return x(this[h]).keys()};b.values=function(){var a,b=this,c=this.keys();return a={},a[i]=function(){return b.values()},a.next=function(){var a=c.next();if(a.done)return a;a=b.get(a.value);return{done:!1,value:a}},a};b.entries=function(){var a,b=this,c=this.keys();return a={},a[i]=function(){return b.entries()},a.next=function(){var a=c.next();if(a.done)return a;var d=b.get(a.value);return{done:!1,value:[a.value,d]}},a};b[i]=function(){return this.entries()};return a}(Map);function oa(a,b){return new na(a,b)}function W(a){a.copy||(a.assigned=new Map(),a.copy=new Map(a.base))}var pa=function(b){if(!b)throw new Error("Set is not polyfilled");k(a,b);function a(a,b){this[h]={type:m.Set,parent:b,scope:b?b.scope:C.current,modified:!1,finalized:!1,copy:void 0,base:a,draft:this,drafts:new Map(),revoked:!1,isManual:!1};return this}b=a.prototype;Object.defineProperty(b,"size",{get:function(){return x(this[h]).size},enumerable:!0,configurable:!0});b.has=function(a){var b=this[h];S(b);if(!b.copy)return b.base.has(a);if(b.copy.has(a))return!0;return b.drafts.has(a)&&b.copy.has(b.drafts.get(a))?!0:!1};b.add=function(a){var b=this[h];S(b);b.copy?b.copy.add(a):b.base.has(a)||(X(b),b.scope.immer.markChanged(b),b.copy.add(a));return this};b["delete"]=function(a){if(!this.has(a))return!1;var b=this[h];S(b);X(b);b.scope.immer.markChanged(b);return b.copy["delete"](a)||(b.drafts.has(a)?b.copy["delete"](b.drafts.get(a)):!1)};b.clear=function(){var a=this[h];S(a);X(a);a.scope.immer.markChanged(a);return a.copy.clear()};b.values=function(){var a=this[h];S(a);X(a);return a.copy.values()};b.entries=function(){var a=this[h];S(a);X(a);return a.copy.entries()};b.keys=function(){return this.values()};b[i]=function(){return this.values()};b.forEach=function(a,b){var c=this.values(),d=c.next();while(!d.done)a.call(b,d.value,d.value,this),d=c.next()};return a}(Set);function qa(a,b){return new pa(a,b)}function X(a){a.copy||(a.copy=new Set(),a.base.forEach(function(b){if(o(b)){var c=a.scope.immer.createProxy(b,a);a.drafts.set(b,c);a.copy.add(c)}else a.copy.add(b)}))}function ra(a,b,c,d){switch(a.type){case m.ProxyObject:case m.ES5Object:case m.Map:return ta(a,b,c,d);case m.ES5Array:case m.ProxyArray:return sa(a,b,c,d);case m.Set:return ua(a,b,c,d)}}function sa(b,c,d,e){var a,f=b.base,g=b.assigned;b=b.copy;b||B();b.length<f.length&&((a=[b,f],f=a[0],b=a[1]),(a=[e,d],d=a[0],e=a[1]));a=b.length-f.length;var h=0;while(f[h]===b[h]&&h<f.length)++h;var i=f.length;while(i>h&&f[i-1]===b[i+a-1])--i;for(h=h;h<i;++h)if(g[h]&&b[h]!==f[h]){var j=c.concat([h]);d.push({op:"replace",path:j,value:b[h]});e.push({op:"replace",path:j,value:f[h]})}g=d.length;for(h=i+a-1;h>=i;--h){var j=c.concat([h]);d[g+h-i]={op:"add",path:j,value:b[h]};e.push({op:"remove",path:j})}}function ta(a,b,c,d){var e=a.base,f=a.copy;q(a.assigned,function(a,g){var h=t(e,a),i=t(f,a);g=g?s(e,a)?"replace":"add":"remove";if(h===i&&g==="replace")return;a=b.concat(a);c.push(g==="remove"?{op:g,path:a}:{op:g,path:a,value:i});d.push(g==="add"?{op:"remove",path:a}:g==="remove"?{op:"add",path:a,value:h}:{op:"replace",path:a,value:h})})}function ua(a,b,c,d){var e=a.base,f=a.copy,g=0;e.forEach(function(a){if(!f.has(a)){var e=b.concat([g]);c.push({op:"remove",path:e,value:a});d.unshift({op:"add",path:e,value:a})}g++});g=0;f.forEach(function(a){if(!e.has(a)){var f=b.concat([g]);c.push({op:"add",path:f,value:a});d.unshift({op:"remove",path:f,value:a})}g++})}function Y(a,b){b.forEach(function(b){var c=b.path,d=b.op;c.length||B();var e=a;for(var f=0;f<c.length-1;f++){e=t(e,c[f]);if(!e||typeof e!=="object")throw new Error("Cannot apply patch, path doesn't resolve: "+c.join("/"))}f=r(e);var g=Z(b.value);c=c[c.length-1];switch(d){case"replace":switch(f){case l.Map:return e.set(c,g);case l.Set:throw new Error('Sets cannot have "replace" patches.');default:return e[c]=g}case"add":switch(f){case l.Array:return e.splice(c,0,g);case l.Map:return e.set(c,g);case l.Set:return e.add(g);default:return e[c]=g}case"remove":switch(f){case l.Array:return e.splice(c,1);case l.Map:return e["delete"](c);case l.Set:return e["delete"](b.value);default:return delete e[c]}default:throw new Error("Unsupported patch operation: "+d)}});return a}function Z(a){if(!a||typeof a!=="object")return a;if(Array.isArray(a))return a.map(Z);if(v(a))return new Map(Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return[b,Z(a)]}));if(w(a))return new Set(Array.from(a).map(Z));var b=Object.create(Object.getPrototypeOf(a));for(var c in a)b[c]=Z(a[c]);return b}function va(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function $(){}var wa={useProxies:typeof Proxy!=="undefined"&&typeof Proxy.revocable!=="undefined"&&typeof Reflect!=="undefined",autoFreeze:typeof process!=="undefined"?!1:$.name==="verifyMinified",onAssign:null,onDelete:null,onCopy:null};a=function(){function a(a){var b=this;this.useProxies=!1;this.autoFreeze=!1;q(wa,function(d,e){var c;b[d]=(c=(c=a)===null||c===void 0?void 0:c[d],c!==null&&c!==void 0?c:e)});this.setUseProxies(this.useProxies);this.produce=this.produce.bind(this);this.produceWithPatches=this.produceWithPatches.bind(this)}a.prototype.produce=function(a,b,c){var d=this;if(typeof a==="function"&&typeof b!=="function"){var f=b;b=a;var g=this;return function(a){var d=arguments,c=this;a===void 0&&(a=f);var e=[];for(var h=1;h<arguments.length;h++)e[h-1]=d[h];return g.produce(a,function(a){return b.call.apply(b,va([c,a],e))})}}if(typeof b!=="function")throw new Error("The first or second argument to `produce` must be a function");if(c!==void 0&&typeof c!=="function")throw new Error("The third argument to `produce` must be a function or undefined");var h;if(o(a)){var i=C.enter(this),j=this.createProxy(a,void 0),k=!0;try{h=b(j),k=!1}finally{k?i.revoke():i.leave()}if(typeof Promise!=="undefined"&&h instanceof Promise)return h.then(function(a){i.usePatches(c);return D(d,a,i)},function(a){i.revoke();throw a});i.usePatches(c);return D(this,h,i)}else{h=b(a);if(h===e)return void 0;h===void 0&&(h=a);H(this,h,!0);return h}};a.prototype.produceWithPatches=function(a,b,c){var d=this;if(typeof a==="function")return function(b){var c=arguments,e=[];for(var f=1;f<arguments.length;f++)e[f-1]=c[f];return d.produceWithPatches(b,function(b){return a.apply(void 0,va([b],e))})};c&&B();var e,f;c=this.produce(a,b,function(a,b){e=a,f=b});return[c,e,f]};a.prototype.createDraft=function(a){if(!o(a))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var b=C.enter(this);a=this.createProxy(a,void 0);a[h].isManual=!0;b.leave();return a};a.prototype.finishDraft=function(a,b){a=a&&a[h];if(!a||!a.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(a.finalized)throw new Error("The given draft is already finalized");a=a.scope;a.usePatches(b);return D(this,void 0,a)};a.prototype.setAutoFreeze=function(a){this.autoFreeze=a};a.prototype.setUseProxies=function(a){this.useProxies=a};a.prototype.applyPatches=function(a,b){var c;for(c=b.length-1;c>=0;c--){var d=b[c];if(d.path.length===0&&d.op==="replace"){a=d.value;break}}return n(a)?Y(a,b):this.produce(a,function(a){return Y(a,b.slice(c+1))})};a.prototype.createProxy=function(a,b){a=v(a)?oa(a,b):w(a)?qa(a,b):this.useProxies?ga(a,b):ia(a,b);b=b?b.scope:C.current;b.drafts.push(a);return a};a.prototype.willFinalize=function(a,b,c){this.useProxies||ha(a,b,c)};a.prototype.markChanged=function(a){this.useProxies?L(a):O(a)};return a}();b=new a();$=b.produce;var xa=b.produceWithPatches.bind(b),ya=b.setAutoFreeze.bind(b),za=b.setUseProxies.bind(b),Aa=b.applyPatches.bind(b),Ba=b.createDraft.bind(b);b=b.finishDraft.bind(b);function Ca(a){return a}function Da(a){return a}g.Immer=a;g.applyPatches=Aa;g.castDraft=Ca;g.castImmutable=Da;g.createDraft=Ba;g["default"]=$;g.finishDraft=b;g.immerable=f;g.isDraft=n;g.isDraftable=o;g.nothing=e;g.original=ba;g.produce=$;g.produceWithPatches=xa;g.setAutoFreeze=ya;g.setUseProxies=za}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-camera_utils-0.3.1640029074",[],(function(b,c,d,e,f,g){"use strict";d={};var h={exports:d};function i(){(function(){function c(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function e(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var f=e(this);function g(b,c){if(c)a:{var e=f;b=b.split(".");for(var g=0;g<b.length-1;g++){var h=b[g];if(!(h in e))break a;e=e[h]}b=b[b.length-1];g=e[b];c=c(g);c!=g&&null!=c&&d(e,b,{configurable:!0,writable:!0,value:c})}}g("Symbol",function(b){function c(b){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new e(f+(b||"")+"_"+g++,b)}function e(b,c){this.g=b,d(this,"description",{configurable:!0,writable:!0,value:c})}if(b)return b;e.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",g=0;return c});g("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<e.length;g++){var i=f[e[g]];"function"===typeof i&&"function"!=typeof i.prototype[b]&&d(i.prototype,b,{configurable:!0,writable:!0,value:function(){return h(c(this))}})}return b});function h(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}function i(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):{next:c(b)}}function j(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function k(b){if(b.i)throw new TypeError("Generator is already running");b.i=!0}j.prototype.l=function(b){this.o=b};function l(b,c){b.h={F:c,G:!0},b.j=b.m}j.prototype["return"]=function(b){this.h={"return":b},this.j=this.m};function m(b){this.g=new j,this.h=b}function n(b,c){k(b.g);var d=b.g.g;if(d)return o(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.g["return"]);b.g["return"](c);return p(b)}function o(b,c,d,e){try{c=c.call(b.g.g,d);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return b.g.i=!1,c;var f=c.value}catch(c){return b.g.g=null,l(b.g,c),p(b)}b.g.g=null;e.call(b.g,f);return p(b)}function p(b){for(;b.g.j;)try{var c=b.h(b.g);if(c)return b.g.i=!1,{value:c.value,done:!1}}catch(c){b.g.o=void 0,l(b.g,c)}b.g.i=!1;if(b.g.h){c=b.g.h;b.g.h=null;if(c.G)throw c.F;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}function q(b){this.next=function(c){k(b.g);b.g.g?c=o(b,b.g.g.next,c,b.g.l):(b.g.l(c),c=p(b));return c},this["throw"]=function(c){k(b.g);b.g.g?c=o(b,b.g.g["throw"],c,b.g.l):(l(b.g,c),c=p(b));return c},this["return"]=function(c){return n(b,c)},this[Symbol.iterator]=function(){return this}}function r(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}g("Promise",function(b){function c(b){this.h=0;this.i=void 0;this.g=[];this.o=!1;var c=this.j();try{b(c.resolve,c.reject)}catch(b){c.reject(b)}}function d(){this.g=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.h=function(b){if(null==this.g){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(b)};var g=f.setTimeout;d.prototype.i=function(b){g(b,0)};d.prototype.l=function(){for(;this.g&&this.g.length;){var b=this.g;this.g=[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(b){this.j(b)}}}this.g=null};d.prototype.j=function(b){this.i(function(){throw b})};c.prototype.j=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.A),reject:b(this.l)}};c.prototype.A=function(d){if(d===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof c)this.C(d);else{a:switch(typeof d){case"object":var e=null!=d;break a;case"function":e=!0;break a;default:e=!1}e?this.v(d):this.m(d)}};c.prototype.v=function(b){var c=void 0;try{c=b.then}catch(b){this.l(b);return}"function"==typeof c?this.D(c,b):this.m(b)};c.prototype.l=function(b){this.u(2,b)};c.prototype.m=function(b){this.u(1,b)};c.prototype.u=function(b,c){if(0!=this.h)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.h);this.h=b;this.i=c;2===this.h&&this.B();this.H()};c.prototype.B=function(){var b=this;g(function(){if(b.I()){var c=f.console;"undefined"!==typeof c&&c.error(b.i)}},1)};c.prototype.I=function(){if(this.o)return!1;var b=f.CustomEvent,c=f.Event,d=f.dispatchEvent;if("undefined"===typeof d)return!0;"function"===typeof b?b=new b("unhandledrejection",{cancelable:!0}):"function"===typeof c?b=new c("unhandledrejection",{cancelable:!0}):(b=f.document.createEvent("CustomEvent"),b.initCustomEvent("unhandledrejection",!1,!0,b));b.promise=this;b.reason=this.i;return d(b)};c.prototype.H=function(){if(null!=this.g){for(var b=0;b<this.g.length;++b)h.h(this.g[b]);this.g=null}};var h=new d;c.prototype.C=function(b){var c=this.j();b.s(c.resolve,c.reject)};c.prototype.D=function(b,c){var d=this.j();try{b.call(c,d.resolve,d.reject)}catch(b){d.reject(b)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(b){g(b)}}:c}var f,g,h=new c(function(b,c){f=b,g=c});this.s(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.s=function(b,c){function d(){switch(e.h){case 1:b(e.i);break;case 2:c(e.i);break;default:throw Error("Unexpected state: "+e.h)}}var e=this;null==this.g?h.h(d):this.g.push(d);this.o=!0};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=i(b),g=f.next();!g.done;g=f.next())e(g.value).s(c,d)})};c.all=function(b){var d=i(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d,i--,0==i&&b(h)}}var h=[],i=0;do h.push(void 0),i++,e(f.value).s(g(h.length-1),c),f=d.next();while(!f.done)})};return c});var s="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};g("Object.assign",function(b){return b||s});e=this||self;var t={facingMode:"user",width:640,height:480};function u(b,c){this.video=b,this.i=0,this.h=Object.assign(Object.assign({},t),c)}u.prototype.stop=function(){var b=this,c,d,e,f;return r(new q(new m(function(g){if(b.g){c=b.g.getTracks();d=i(c);for(e=d.next();!e.done;e=d.next())f=e.value,f.stop();b.g=void 0}g.j=0})))};u.prototype.start=function(){var b=this,c;return r(new q(new m(function(d){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists.");c=b.h;return d["return"](navigator.mediaDevices.getUserMedia({video:{facingMode:c.facingMode,width:c.width,height:c.height}}).then(function(c){w(b,c)})["catch"](function(b){var c="Failed to acquire camera feed: "+b;alert(c);throw b}))})))};function v(b){window.requestAnimationFrame(function(){x(b)})}function w(b,c){b.g=c,b.video.srcObject=c,b.video.onloadedmetadata=function(){b.video.play(),v(b)}}function x(b){var c=null;b.video.paused||b.video.currentTime===b.i||(b.i=b.video.currentTime,c=b.h.onFrame());c?c.then(function(){v(b)}):v(b)}g=["Camera"];e=e;g[0]in e||"undefined"==typeof e.execScript||e.execScript("var "+g[0]);for(var y;g.length&&(y=g.shift());)g.length||void 0===u?e[y]&&e[y]!==Object.prototype[y]?e=e[y]:e=e[y]={}:e[y]=u}).call(h.exports)}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(b){switch(b){case void 0:return k()}}f.exports=c}),null);
__d("mediapipe-camera_utils",["mediapipe-camera_utils-0.3.1640029074"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-camera_utils-0.3.1640029074")()}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-drawing_utils-0.3.1620248257",[],(function(b,c,d,e,f,g){"use strict";d={};var h={exports:d};function i(){(function(){function c(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function e(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var f=e(this);function g(b,c){if(c)a:{var e=f;b=b.split(".");for(var g=0;g<b.length-1;g++){var h=b[g];if(!(h in e))break a;e=e[h]}b=b[b.length-1];g=e[b];c=c(g);c!=g&&null!=c&&d(e,b,{configurable:!0,writable:!0,value:c})}}function h(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):{next:c(b)}}var i="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};g("Object.assign",function(b){return b||i});g("Array.prototype.fill",function(b){return b?b:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));(null==d||d>e)&&(d=e);d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function j(b){return b?b:Array.prototype.fill}g("Int8Array.prototype.fill",j);g("Uint8Array.prototype.fill",j);g("Uint8ClampedArray.prototype.fill",j);g("Int16Array.prototype.fill",j);g("Uint16Array.prototype.fill",j);g("Int32Array.prototype.fill",j);g("Uint32Array.prototype.fill",j);g("Float32Array.prototype.fill",j);g("Float64Array.prototype.fill",j);var k=this||self;function l(b,c){b=b.split(".");var d=k;b[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=c}var m={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function n(b){b=b||{};return Object.assign(Object.assign(Object.assign({},m),{fillColor:b.color}),b)}function o(b,c){return b instanceof Function?b(c):b}function p(b,c,d){return Math.max(Math.min(c,d),Math.min(Math.max(c,d),b))}l("clamp",p);l("drawLandmarks",function(b,c,d){if(c){d=n(d);b.save();var e=b.canvas,f=0;c=h(c);for(var g=c.next();!g.done;g=c.next())if(g=g.value,void 0!==g&&(void 0===g.visibility||g.visibility>d.visibilityMin)){b.fillStyle=o(d.fillColor,{index:f,from:g});b.strokeStyle=o(d.color,{index:f,from:g});b.lineWidth=o(d.lineWidth,{index:f,from:g});var i=new Path2D;i.arc(g.x*e.width,g.y*e.height,o(d.radius,{index:f,from:g}),0,2*Math.PI);b.fill(i);b.stroke(i);++f}b.restore()}});l("drawConnectors",function(b,c,d,e){if(c&&d){e=n(e);b.save();var f=b.canvas,g=0;d=h(d);for(var i=d.next();!i.done;i=d.next()){var j=i.value;b.beginPath();i=c[j[0]];j=c[j[1]];i&&j&&(void 0===i.visibility||i.visibility>e.visibilityMin)&&(void 0===j.visibility||j.visibility>e.visibilityMin)&&(b.strokeStyle=o(e.color,{index:g,from:i,to:j}),b.lineWidth=o(e.lineWidth,{index:g,from:i,to:j}),b.moveTo(i.x*f.width,i.y*f.height),b.lineTo(j.x*f.width,j.y*f.height));++g;b.stroke()}b.restore()}});l("drawRectangle",function(b,c,d){d=n(d);b.save();var e=b.canvas;b.beginPath();b.lineWidth=o(d.lineWidth,{});b.strokeStyle=o(d.color,{});b.fillStyle=o(d.fillColor,{});b.translate(c.xCenter*e.width,c.yCenter*e.height);b.rotate(c.rotation*Math.PI/180);b.rect(-c.width/2*e.width,-c.height/2*e.height,c.width*e.width,c.height*e.height);b.translate(-c.xCenter*e.width,-c.yCenter*e.height);b.stroke();b.fill();b.restore()});l("lerp",function(b,c,d,e,f){return p(e*(1-(b-c)/(d-c))+f*(1-(d-b)/(d-c)),e,f)})}).call(h.exports)}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(b){switch(b){case void 0:return k()}}f.exports=c}),null);
__d("mediapipe-drawing_utils",["mediapipe-drawing_utils-0.3.1620248257"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-drawing_utils-0.3.1620248257")()}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-holistic-0.5.1635989137",["TrustedTypesFacebookURIScriptURLPolicy"],(function(b,c,d,e,f,g){"use strict";e={};var h={exports:e},i=c("TrustedTypesFacebookURIScriptURLPolicy");function j(){(function(){var c;function d(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var e="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function f(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var g=f(this);function h(b,c){if(c)a:{var d=g;b=b.split(".");for(var f=0;f<b.length-1;f++){var h=b[f];if(!(h in d))break a;d=d[h]}b=b[b.length-1];f=d[b];c=c(f);c!=f&&null!=c&&e(d,b,{configurable:!0,writable:!0,value:c})}}h("Symbol",function(b){function c(b){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new d(f+(b||"")+"_"+g++,b)}function d(b,c){this.g=b,e(this,"description",{configurable:!0,writable:!0,value:c})}if(b)return b;d.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",g=0;return c});h("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<c.length;f++){var h=g[c[f]];"function"===typeof h&&"function"!=typeof h.prototype[b]&&e(h.prototype,b,{configurable:!0,writable:!0,value:function(){return j(d(this))}})}return b});function j(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}function k(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):{next:d(b)}}function l(b){if(!(b instanceof Array)){b=k(b);for(var c,d=[];!(c=b.next()).done;)d.push(c.value);b=d}return b}var m="function"==typeof Object.create?Object.create:function(b){function c(){}c.prototype=b;return new c};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{a:{var n={a:!0},o={};try{o.__proto__=n;o.a;break a}catch(b){}n=!1}f=n?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null}var p=f;function q(b,c){b.prototype=m(c.prototype);b.prototype.constructor=b;if(p)p(b,c);else for(var d in c)if("prototype"!=d)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,d);e&&Object.defineProperty(b,d,e)}else b[d]=c[d];b.da=c.prototype}function r(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function s(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}r.prototype.o=function(b){this.h=b};function t(b,c){b.j={U:c,V:!0},b.g=b.m||b.s}r.prototype["return"]=function(b){this.j={"return":b},this.g=this.s};function u(b,c,d){b.g=d;return{value:c}}function v(b){this.g=new r,this.h=b}function w(b,c){s(b.g);var d=b.g.i;if(d)return x(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.g["return"]);b.g["return"](c);return y(b)}function x(b,c,d,e){try{c=c.call(b.g.i,d);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return b.g.l=!1,c;var f=c.value}catch(c){return b.g.i=null,t(b.g,c),y(b)}b.g.i=null;e.call(b.g,f);return y(b)}function y(b){for(;b.g.g;)try{var c=b.h(b.g);if(c)return b.g.l=!1,{value:c.value,done:!1}}catch(c){b.g.h=void 0,t(b.g,c)}b.g.l=!1;if(b.g.j){c=b.g.j;b.g.j=null;if(c.V)throw c.U;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}function z(b){this.next=function(c){s(b.g);b.g.i?c=x(b,b.g.i.next,c,b.g.o):(b.g.o(c),c=y(b));return c},this["throw"]=function(c){s(b.g);b.g.i?c=x(b,b.g.i["throw"],c,b.g.o):(t(b.g,c),c=y(b));return c},this["return"]=function(c){return w(b,c)},this[Symbol.iterator]=function(){return this}}function A(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}function B(b){return A(new z(new v(b)))}h("Promise",function(b){function c(b){this.h=0;this.i=void 0;this.g=[];this.o=!1;var c=this.j();try{b(c.resolve,c.reject)}catch(b){c.reject(b)}}function d(){this.g=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.h=function(b){if(null==this.g){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(b)};var f=g.setTimeout;d.prototype.i=function(b){f(b,0)};d.prototype.l=function(){for(;this.g&&this.g.length;){var b=this.g;this.g=[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(b){this.j(b)}}}this.g=null};d.prototype.j=function(b){this.i(function(){throw b})};c.prototype.j=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.C),reject:b(this.l)}};c.prototype.C=function(d){if(d===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof c)this.F(d);else{a:switch(typeof d){case"object":var e=null!=d;break a;case"function":e=!0;break a;default:e=!1}e?this.v(d):this.m(d)}};c.prototype.v=function(b){var c=void 0;try{c=b.then}catch(b){this.l(b);return}"function"==typeof c?this.G(c,b):this.m(b)};c.prototype.l=function(b){this.s(2,b)};c.prototype.m=function(b){this.s(1,b)};c.prototype.s=function(b,c){if(0!=this.h)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.h);this.h=b;this.i=c;2===this.h&&this.D();this.A()};c.prototype.D=function(){var b=this;f(function(){if(b.B()){var c=g.console;"undefined"!==typeof c&&c.error(b.i)}},1)};c.prototype.B=function(){if(this.o)return!1;var b=g.CustomEvent,c=g.Event,d=g.dispatchEvent;if("undefined"===typeof d)return!0;"function"===typeof b?b=new b("unhandledrejection",{cancelable:!0}):"function"===typeof c?b=new c("unhandledrejection",{cancelable:!0}):(b=g.document.createEvent("CustomEvent"),b.initCustomEvent("unhandledrejection",!1,!0,b));b.promise=this;b.reason=this.i;return d(b)};c.prototype.A=function(){if(null!=this.g){for(var b=0;b<this.g.length;++b)h.h(this.g[b]);this.g=null}};var h=new d;c.prototype.F=function(b){var c=this.j();b.J(c.resolve,c.reject)};c.prototype.G=function(b,c){var d=this.j();try{b.call(c,d.resolve,d.reject)}catch(b){d.reject(b)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(b){g(b)}}:c}var f,g,h=new c(function(b,c){f=b,g=c});this.J(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.J=function(b,c){function d(){switch(e.h){case 1:b(e.i);break;case 2:c(e.i);break;default:throw Error("Unexpected state: "+e.h)}}var e=this;null==this.g?h.h(d):this.g.push(d);this.o=!0};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=k(b),g=f.next();!g.done;g=f.next())e(g.value).J(c,d)})};c.all=function(b){var d=k(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d,i--,0==i&&b(h)}}var h=[],i=0;do h.push(void 0),i++,e(f.value).J(g(h.length-1),c),f=d.next();while(!f.done)})};return c});function ba(b,c){b instanceof String&&(b+="");var d=0,e=!1,f={next:function(){if(!e&&d<b.length){var f=d++;return{value:c(f,b[f]),done:!1}}e=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f}var ca="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};h("Object.assign",function(b){return b||ca});h("Object.is",function(b){return b?b:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});h("Array.prototype.includes",function(b){return b?b:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});h("String.prototype.includes",function(b){return b?b:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,c||0)}});h("Array.prototype.keys",function(b){return b?b:function(){return ba(this,function(b){return b})}});var da=this||self;function C(b,c){b=b.split(".");var d=da;b[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=c}function ea(b){da.setTimeout(function(){throw b},0)}function D(b){ea(b);return;throw Error("invalid error level: 1")}function fa(b,c){D(Error("Invalid wire type: "+b+" (at position "+c+")"))}function ga(){D(Error("Failed to read varint, encoding is invalid."))}function ha(b,c){c=String.fromCharCode.apply(null,c);return null==b?c:b+c}var ia,ja="undefined"!==typeof TextDecoder,ka,la="undefined"!==typeof TextEncoder;function ma(b){if(la)b=(ka||(ka=new TextEncoder)).encode(b);else{var c=void 0;c=void 0===c?!1:c;for(var d=0,e=new Uint8Array(3*b.length),f=0;f<b.length;f++){var g=b.charCodeAt(f);if(128>g)e[d++]=g;else{if(2048>g)e[d++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&f<b.length){var h=b.charCodeAt(++f);if(56320<=h&&57343>=h){g=1024*(g-55296)+h-56320+65536;e[d++]=g>>18|240;e[d++]=g>>12&63|128;e[d++]=g>>6&63|128;e[d++]=g&63|128;continue}else f--}if(c)throw Error("Found an unpaired surrogate");g=65533}e[d++]=g>>12|224;e[d++]=g>>6&63|128}e[d++]=g&63|128}}b=e.subarray(0,d)}return b}var na={},E=null;function oa(b){var c;void 0===c&&(c=0);ra();c=na[c];for(var d=Array(Math.floor(b.length/3)),e=c[64]||"",f=0,g=0;f<b.length-2;f+=3){var h=b[f],i=b[f+1],j=b[f+2],k=c[h>>2];h=c[(h&3)<<4|i>>4];i=c[(i&15)<<2|j>>6];j=c[j&63];d[g++]=k+h+i+j}k=0;j=e;switch(b.length-f){case 2:k=b[f+1],j=c[(k&15)<<2]||e;case 1:b=b[f],d[g]=c[b>>2]+c[(b&3)<<4|k>>4]+j+e}return d.join("")}function pa(b){var c=b.length,d=3*c/4;d%3?d=Math.floor(d):-1!="=.".indexOf(b[c-1])&&(d=-1!="=.".indexOf(b[c-2])?d-2:d-1);var e=new Uint8Array(d),f=0;qa(b,function(b){e[f++]=b});return e.subarray(0,f)}function qa(b,c){function d(c){for(;e<b.length;){var d=b.charAt(e++),f=E[d];if(null!=f)return f;if(!/^[\s\xa0]*$/.test(d))throw Error("Unknown base64 encoding at char: "+d)}return c}ra();for(var e=0;;){var f=d(-1),g=d(0),h=d(64),i=d(64);if(64===i&&-1===f)break;c(f<<2|g>>4);64!=h&&(c(g<<4&240|h>>2),64!=i&&c(h<<6&192|i))}}function ra(){if(!E){E={};for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++){var e=b.concat(c[d].split(""));na[d]=e;for(var f=0;f<e.length;f++){var g=e[f];void 0===E[g]&&(E[g]=f)}}}}var sa="function"===typeof Uint8Array,F;function ta(b){this.g=b;if(null!==b&&0===b.length)throw Error("ByteString should be constructed with non-empty values")}ta.prototype.toJSON=function(){if(null==this.g)var b="";else b=this.g,b=this.g=null==b||"string"===typeof b?b:sa&&b instanceof Uint8Array?oa(b):null;return b};var ua="function"===typeof Uint8Array.prototype.slice;function va(b,c,d){return c===d?F||(F=new Uint8Array(0)):ua?b.slice(c,d):new Uint8Array(b.subarray(c,d))}var G,wa;function xa(b){if(b.constructor===Uint8Array)return b;if(b.constructor===ArrayBuffer)return new Uint8Array(b);if(b.constructor===Array)return new Uint8Array(b);if(b.constructor===String)return pa(b);if(b.constructor===ta){if(null==b.g)var c=F||(F=new Uint8Array(0));else{c=Uint8Array;var d=b.g;d=null==d||sa&&null!=d&&d instanceof Uint8Array?d:"string"===typeof d?pa(d):null;b=b.g=d;c=new c(b)}return c}if(b instanceof Uint8Array)return new Uint8Array(b.buffer,b.byteOffset,b.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function H(b,c){c=void 0===c?{}:c,c=void 0===c.u?!1:c.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=c,b&&ya(this,b)}function ya(b,c){b.h=xa(c),b.m=0,b.i=b.h.length,b.g=b.m}H.prototype.reset=function(){this.g=this.m};function za(b){for(var c=128,d=0,e=0,f=0;4>f&&128<=c;f++)c=b.h[b.g++],d|=(c&127)<<7*f;128<=c&&(c=b.h[b.g++],d|=(c&127)<<28,e|=(c&127)>>4);if(128<=c)for(f=0;5>f&&128<=c;f++)c=b.h[b.g++],e|=(c&127)<<7*f+3;if(128>c){b=d>>>0;c=e>>>0;(e=c&2147483648)&&(b=~b+1>>>0,c=~c>>>0,0==b&&(c=c+1>>>0));b=4294967296*c+(b>>>0);return e?-b:b}b.l=!0;ga()}function I(b){b.g>b.i&&(b.l=!0,D(Error("Tried to read past the end of the data "+b.g+" > "+b.i)))}H.prototype.j=function(){var b=this.h,c=b[this.g],d=c&127;if(128>c)return this.g+=1,I(this),d;c=b[this.g+1];d|=(c&127)<<7;if(128>c)return this.g+=2,I(this),d;c=b[this.g+2];d|=(c&127)<<14;if(128>c)return this.g+=3,I(this),d;c=b[this.g+3];d|=(c&127)<<21;if(128>c)return this.g+=4,I(this),d;c=b[this.g+4];d|=(c&15)<<28;if(128>c)return this.g+=5,I(this),d>>>0;this.g+=5;if(128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++])return this.l=!0,ga(),d;I(this);return d};H.prototype.o=function(){var b=this.h[this.g],c=this.h[this.g+1],d=this.h[this.g+2],e=this.h[this.g+3];this.g+=4;I(this);d=(b<<0|c<<8|d<<16|e<<24)>>>0;b=2*(d>>31)+1;c=d>>>23&255;d&=8388607;return 255==c?d?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*d:b*Math.pow(2,c-150)*(d+Math.pow(2,23))};var Aa=[];function Ba(){this.g=new Uint8Array(64),this.h=0}function J(b,c){if(!(b.h+1<b.g.length)){var d=b.g;b.g=new Uint8Array(Math.ceil(1+2*b.g.length));b.g.set(d)}b.g[b.h++]=c}Ba.prototype.length=function(){return this.h};Ba.prototype.end=function(){var b=this.g,c=this.h;this.h=0;return va(b,0,c)};function K(b,c){for(;127<c;)J(b,c&127|128),c>>>=7;J(b,c)}function Ca(b){var c={},d=void 0===c.N?!1:c.N;this.m={u:void 0===c.u?!1:c.u};this.N=d;c=this.m;Aa.length?(d=Aa.pop(),c&&(d.u=c.u),b&&ya(d,b),b=d):b=new H(b,c);this.g=b;this.l=this.g.g;this.h=this.i=-1;this.j=!1}Ca.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Da(b){var c=b.g;(c=c.g==c.i)||(c=b.j)||(c=b.g,c=c.l||0>c.g||c.g>c.i);if(c)return!1;b.l=b.g.g;var d=b.g.j();c=d>>>3;d&=7;if(!(0<=d&&5>=d))return b.j=!0,fa(d,b.l),!1;b.i=c;b.h=d;return!0}function L(b){switch(b.h){case 0:if(0!=b.h)L(b);else a:{b=b.g;for(var c=b.g,d=0;10>d;d++){if(0===(b.h[c]&128)){b.g=c+1;I(b);break a}c++}b.l=!0;ga()}break;case 1:b=b.g;b.g+=8;I(b);break;case 2:2!=b.h?L(b):(c=b.g.j(),b=b.g,b.g+=c,I(b));break;case 5:b=b.g;b.g+=4;I(b);break;case 3:c=b.i;do{if(!Da(b)){b.j=!0;D(Error("Unmatched start-group tag: stream EOF"));break}if(4==b.h){b.i!=c&&(b.j=!0,D(Error("Unmatched end-group tag")));break}L(b)}while(1);break;default:b.j=!0,fa(b.h,b.l)}}function Ea(b,c,d){b.N||(b=va(b.g.h,d,b.g.g),(d=c.o)?d.push(b):c.o=[b])}function Fa(b,c,d){var e=b.g.i,f=b.g.j(),g=b.g.g+f;b.g.i=g;d(c,b);d=g-b.g.g;if(0!==d)throw Error("Message parsing ended unexpectedly. Expected to read "+(f+" bytes, instead read "+(f-d)+" bytes, either the data ended unexpectedly or the message misreported its own length"));b.g.g=g;b.g.i=e;return c}function Ga(b,c,d){var e=b.g.j();for(e=b.g.g+e;b.g.g<e;)d.push(c.call(b.g))}var M=[];function Ha(){this.h=[],this.i=0,this.g=new Ba}function Ia(b,c){0!==c.length&&(b.h.push(c),b.i+=c.length)}function Ja(b,c,d){K(b.g,8*c+2),K(b.g,d.length),Ia(b,b.g.end()),Ia(b,d)}var Ka="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function La(b,c){Object.isFrozen(b)||(Ka?b[Ka]|=c:void 0!==b.g?b.g|=c:Object.defineProperties(b,{g:{value:c,configurable:!0,writable:!0,enumerable:!1}}))}function Ma(b){if(!b)return 0;var c;Ka?c=b[Ka]:c=b.g;return null==c?0:c}function N(b){if(!Array.isArray(b))return b;La(b,1);return b}function Na(b){if(!Array.isArray(b))throw Error("cannot mark non-array as immutable");La(b,2)}function Oa(b){return null!==b&&"object"===typeof b&&b.constructor===Object}function Pa(b){switch(typeof b){case"number":return isFinite(b)?b:String(b);case"object":return sa&&null!=b&&b instanceof Uint8Array?oa(b):b;default:return b}}function Qa(b,c){if(null!=b)return Array.isArray(b)||Oa(b)?Ra(b,c):c(b)}function Ra(b,c){if(Array.isArray(b)){for(var d=Array(b.length),e=0;e<b.length;e++)d[e]=Qa(b[e],c);Ma(b)&1&&N(d);return d}d={};for(e in b)d[e]=Qa(b[e],c);return d}var Sa;function O(b,c,d){var e=Sa;Sa=null;b||(b=e);e=this.constructor.ba;b||(b=e?[e]:[]);this.j=(e?0:-1)-(this.constructor.$||0);this.m=this.g=null;this.h=b;a:{e=this.h.length;b=e-1;if(e&&(e=this.h[b],Oa(e))){this.l=b-this.j;this.i=e;break a}void 0!==c&&-1<c?(this.l=Math.max(c,b+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(d)for(c=0;c<d.length;c++)b=d[c],b<this.l?(b+=this.j,(e=this.h[b])?N(e):this.h[b]=Ta):(Ua(this),(e=this.i[b])?N(e):this.i[b]=Ta)}var Ta=Object.freeze(N([]));function Ua(b){var c=b.l+b.j;b.h[c]||(b.i=b.h[c]={})}function P(b,c,d){return-1===c?null:(void 0===d?0:d)||c>=b.l?b.i?b.i[c]:void 0:b.h[c+b.j]}function Q(b,c,d){d=void 0===d?!0:d;var e=void 0===e?!1:e,f=P(b,c,e);null==f&&(f=Ta);f===Ta?(f=N([]),T(b,c,f,e)):d&&Array.isArray(f)&&Ma(f)&2&&(f=f.slice(),T(b,c,f,e));return f}function Va(b){var c=Q(b,3,!1);b.m||(b.m={});if(!b.m[3]){for(var d=0;d<c.length;d++)c[d]=+c[d];b.m[3]=!0}return c}function R(b,c,d){b=P(b,c);return null==b?d:b}function S(b,c,d){b=P(b,c);b=null==b?b:+b;return null==b?void 0===d?0:d:b}function T(b,c,d,e){(void 0===e?0:e)||c>=b.l?(Ua(b),b.i[c]=d):b.h[c+b.j]=d}function Wa(b,c,d){if(-1===d)return null;b.g||(b.g={});var e=b.g[d];if(e)return e;var f=P(b,d,!1);if(null==f)return e;c=new c(f);return b.g[d]=c}function Xa(b,c,d){b.g||(b.g={});var e=b.g[d];if(!e){var f=Q(b,d,!1);e=[];for(var g=Array.isArray(f)?!!(Ma(f)&2):!1,h=0;h<f.length;h++)e[h]=new c(f[h]),g&&Na(e[h].h);g&&(Na(e),Object.freeze(e));b.g[d]=e}return e}function Ya(b,c,d,e,f){var g=Xa(b,e,c);d=d?d:new e;b=Q(b,c);void 0!=f?(g.splice(f,0,d),b.splice(f,0,U(d))):(g.push(d),b.push(U(d)))}O.prototype.toJSON=function(){var b=U(this);return Ra(b,Pa)};function U(b){if(b.g)for(var c in b.g){var d=b.g[c];if(Array.isArray(d))for(var e=0;e<d.length;e++)d[e]&&U(d[e]);else d&&U(d)}return b.h}O.prototype.toString=function(){return U(this).toString()};function Za(b,c){if(b=b.o){Ia(c,c.g.end());for(var d=0;d<b.length;d++)Ia(c,b[d])}}function $a(b){var c=b[0];switch(b.length){case 2:var d=b[1];return function(b,e,f){return c(b,e,f,d)};case 3:var e=b[1],f=b[2];return function(b,d,g){return c(b,d,g,e,f)};case 4:var g=b[1],h=b[2],i=b[3];return function(b,d,e){return c(b,d,e,g,h,i)};default:throw Error("unsupported number of parameters, expected [2-4], got "+b.length)}}function V(b,c,d){for(;Da(c)&&4!=c.h;){var e=c.i,f=d[e];if(f){if(Array.isArray(f)&&(f=d[e]=$a(f)),!f(c,b,e)){e=c;f=b;var g=e.l;L(e);Ea(e,f,g)}}else e=c,f=b,g=e.l,L(e),Ea(e,f,g)}return b}function ab(b,c){var d=new Ha;c(b,d);b=d.i+d.g.length();if(0===b)d=new Uint8Array(0);else{b=new Uint8Array(b);for(var e=d.h,f=e.length,g=c=0;g<f;g++){var h=e[g];0!==h.length&&(b.set(h,c),c+=h.length)}e=d.g;f=e.h;0!==f&&(b.set(e.g.subarray(0,f),c),e.h=0);d.h=[b];d=b}return d}function bb(b,c,d){if(M.length){var e=M.pop();b&&(ya(e.g,b),e.i=-1,e.h=-1);b=e}else b=new Ca(b);try{return d(new c,b)}finally{c=b.g,c.h=null,c.m=0,c.i=0,c.g=0,c.l=!1,c.u=!1,b.i=-1,b.h=-1,b.j=!1,100>M.length&&M.push(b)}}function W(b,c,d){c=P(c,d);if(null!=c){K(b.g,8*d+5);b=b.g;var e=c;e=(d=0>e?1:0)?-e:e;0===e?0<1/e?G=0:G=2147483648:isNaN(e)?G=2147483647:34028234663852886e22<e?G=(d<<31|2139095040)>>>0:11754943508222875e-54>e?(e=Math.round(e/Math.pow(2,-149)),G=(d<<31|e)>>>0):(c=Math.floor(Math.log(e)/Math.LN2),e*=Math.pow(2,-c),e=Math.round(8388608*e),16777216<=e&&++c,G=(d<<31|c+127<<23|e&8388607)>>>0);d=G;J(b,d>>>0&255);J(b,d>>>8&255);J(b,d>>>16&255);J(b,d>>>24&255)}}function X(b,c,d){if(5!==b.h)return!1;T(c,d,b.g.o());return!0}function cb(b,c,d){if(5!==b.h&&2!==b.h)return!1;c=Q(c,d);2==b.h?Ga(b,H.prototype.o,c):c.push(b.g.o());return!0}function db(b,c,d){if(0!==b.h)return!1;T(c,d,za(b.g));return!0}function eb(b,c,d){if(0!==b.h)return!1;T(c,d,b.g.j());return!0}function fb(b,c,d){if(2!==b.h)return!1;var e=b.g.j();b=b.g;var f=b.g;b.g+=e;I(b);b=b.h;var g;if(ja)(g=ia)||(g=ia=new TextDecoder("utf-8",{fatal:!1})),g=g.decode(b.subarray(f,f+e));else{e=f+e;for(var h=[],i=null,j,k,l;f<e;)j=b[f++],128>j?h.push(j):224>j?f>=e?h.push(65533):(k=b[f++],194>j||128!==(k&192)?(f--,h.push(65533)):h.push((j&31)<<6|k&63)):240>j?f>=e-1?h.push(65533):(k=b[f++],128!==(k&192)||224===j&&160>k||237===j&&160<=k||128!==((g=b[f++])&192)?(f--,h.push(65533)):h.push((j&15)<<12|(k&63)<<6|g&63)):244>=j?f>=e-2?h.push(65533):(k=b[f++],128!==(k&192)||0!==(j<<28)+(k-144)>>30||128!==((g=b[f++])&192)||128!==((l=b[f++])&192)?(f--,h.push(65533)):(j=(j&7)<<18|(k&63)<<12|(g&63)<<6|l&63,j-=65536,h.push((j>>10&1023)+55296,(j&1023)+56320))):h.push(65533),8192<=h.length&&(i=ha(i,h),h.length=0);g=ha(i,h)}T(c,d,g);return!0}function gb(b,c,d,e,f){if(2!==b.h)return!1;b=Fa(b,new e,f);var g=void 0===g?!1:g;c.g||(c.g={});e=b?U(b):b;c.g[d]=b;T(c,d,e,g);return!0}function hb(b,c,d,e,f){if(2!==b.h)return!1;b=Fa(b,new e,f);Ya(c,d,b,e,void 0);return!0}function ib(b,c,d){if(0!==b.h&&2!==b.h)return!1;c=Q(c,d);2==b.h?Ga(b,H.prototype.j,c):c.push(b.g.j());return!0}function jb(b,c,d){if(0!==b.h)return!1;T(c,d,za(b.g));return!0}function Y(b){O.call(this,b,-1,mb)}var kb;q(Y,O);Y.prototype.getRows=function(){return P(this,1)};Y.prototype.getCols=function(){return P(this,2)};Y.prototype.getPackedDataList=function(){return Va(this)};Y.prototype.getLayout=function(){return R(this,4,0)};function lb(b,c){return V(b,c,kb||(kb={1:eb,2:eb,3:cb,4:jb}))}var mb=[3];function Z(b){O.call(this,b)}var nb;q(Z,O);function ob(b,c){var d=P(b,1);if(null!=d&&null!=d){K(c.g,8);var e=c.g;if(0<=d)K(e,d);else{for(var f=0;9>f;f++)J(e,d&127|128),d>>=7;J(e,1)}}W(c,b,2);e=P(b,3);null!=e&&Ja(c,3,ma(e));e=P(b,4);null!=e&&Ja(c,4,ma(e));Za(b,c)}function pb(b,c){return V(b,c,nb||(nb={1:eb,2:X,3:fb,4:fb}))}function qb(b){O.call(this,b,-1,tb)}var rb;q(qb,O);qb.prototype.addClassification=function(b,c){Ya(this,1,b,Z,c);return this};function sb(b,c){return V(b,c,rb||(rb={1:[hb,Z,pb]}))}var tb=[1];function ub(b){O.call(this,b)}var vb;q(ub,O);function wb(b,c){W(c,b,1),W(c,b,2),W(c,b,3),W(c,b,4),W(c,b,5),Za(b,c)}function xb(b,c){return V(b,c,vb||(vb={1:X,2:X,3:X,4:X,5:X}))}function yb(b){O.call(this,b,-1,Bb)}var zb;q(yb,O);function Ab(b,c){return V(b,c,zb||(zb={1:[hb,ub,xb]}))}var Bb=[1];function Cb(b){O.call(this,b)}var Db;q(Cb,O);function Eb(b,c){W(c,b,1);W(c,b,2);W(c,b,3);W(c,b,4);W(c,b,5);var d=P(b,6);if(null!=d&&null!=d){K(c.g,48);var e=c.g,f=d;d=0>f;f=Math.abs(f);var g=f>>>0;f=Math.floor((f-g)/4294967296);f>>>=0;d&&(f=~f>>>0,g=(~g>>>0)+1,4294967295<g&&(g=0,f++,4294967295<f&&(f=0)));G=g;wa=f;d=G;for(g=wa;0<g||127<d;)J(e,d&127|128),d=(d>>>7|g<<25)>>>0,g>>>=7;J(e,d)}Za(b,c)}function Fb(b,c){return V(b,c,Db||(Db={1:X,2:X,3:X,4:X,5:X,6:db}))}function $(b){O.call(this,b,-1,Ib)}var Gb;q($,O);$.prototype.getVertexType=function(){return R(this,1,0)};$.prototype.getPrimitiveType=function(){return R(this,2,0)};$.prototype.getVertexBufferList=function(){return Va(this)};$.prototype.getIndexBufferList=function(){return Q(this,4)};function Hb(b,c){return V(b,c,Gb||(Gb={1:jb,2:jb,3:cb,4:ib}))}var Ib=[3,4];function Jb(b){O.call(this,b)}var Kb;q(Jb,O);Jb.prototype.getMesh=function(){return Wa(this,$,1)};Jb.prototype.getPoseTransformMatrix=function(){return Wa(this,Y,2)};function Lb(b,c){return V(b,c,Kb||(Kb={1:[gb,$,Hb],2:[gb,Y,lb]}))}o=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]];n=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]];f=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]];h=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]];q=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]];var Mb=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Nb=[].concat(l(o),l(n),l(f),l(h),l(q),l(Mb));function Ob(b,c,d){d=b.createShader(0===d?b.VERTEX_SHADER:b.FRAGMENT_SHADER);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+b.getShaderInfoLog(d));return d}function Pb(b){return Xa(b,Z,1).map(function(b){return{index:R(b,1,0),score:S(b,2),label:null!=P(b,3)?R(b,3,""):void 0,displayName:null!=P(b,4)?R(b,4,""):void 0}})}function Qb(b){return{x:S(b,1),y:S(b,2),z:S(b,3),visibility:null!=P(b,4)?S(b,4):void 0}}function aa(b){return Xa(bb(b,yb,Ab),ub,1).map(Qb)}function Rb(b,c){this.h=b,this.g=c,this.l=0}function Sb(b,c,d){Tb(b,c);if("function"===typeof b.g.canvas.transferToImageBitmap)return Promise.resolve(b.g.canvas.transferToImageBitmap());if(d)return Promise.resolve(b.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(b.g.canvas);void 0===b.i&&(b.i=document.createElement("canvas"));return new Promise(function(c){b.i.height=b.g.canvas.height,b.i.width=b.g.canvas.width,b.i.getContext("2d",{}).drawImage(b.g.canvas,0,0,b.g.canvas.width,b.g.canvas.height),c(b.i)})}function Tb(b,c){var d=b.g;if(void 0===b.m){var e=Ob(d,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),f=Ob(d,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),g=d.createProgram();d.attachShader(g,e);d.attachShader(g,f);d.linkProgram(g);if(!d.getProgramParameter(g,d.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+d.getProgramInfoLog(g));e=b.m=g;d.useProgram(e);f=d.getUniformLocation(e,"sampler0");b.j={I:d.getAttribLocation(e,"aVertex"),H:d.getAttribLocation(e,"aTex"),ca:f};b.s=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,b.s);d.enableVertexAttribArray(b.j.I);d.vertexAttribPointer(b.j.I,2,d.FLOAT,!1,0,0);d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),d.STATIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,null);b.o=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,b.o);d.enableVertexAttribArray(b.j.H);d.vertexAttribPointer(b.j.H,2,d.FLOAT,!1,0,0);d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),d.STATIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,null);d.uniform1i(f,0)}e=b.j;d.useProgram(b.m);d.canvas.width=c.width;d.canvas.height=c.height;d.viewport(0,0,c.width,c.height);d.activeTexture(d.TEXTURE0);b.h.bindTexture2d(c.glName);d.enableVertexAttribArray(e.I);d.bindBuffer(d.ARRAY_BUFFER,b.s);d.vertexAttribPointer(e.I,2,d.FLOAT,!1,0,0);d.enableVertexAttribArray(e.H);d.bindBuffer(d.ARRAY_BUFFER,b.o);d.vertexAttribPointer(e.H,2,d.FLOAT,!1,0,0);d.bindFramebuffer(d.DRAW_FRAMEBUFFER?d.DRAW_FRAMEBUFFER:d.FRAMEBUFFER,null);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.colorMask(!0,!0,!0,!0);d.drawArrays(d.TRIANGLE_FAN,0,4);d.disableVertexAttribArray(e.I);d.disableVertexAttribArray(e.H);d.bindBuffer(d.ARRAY_BUFFER,null);b.h.bindTexture2d(0)}function Ub(b){this.g=b}var Vb=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Wb(b,c){return c+b}function Xb(b,c){window[b]=c}function Yb(b){var c=document.createElement("script");c.setAttribute("src",i.createScriptURL(b));c.setAttribute("crossorigin","anonymous");return new Promise(function(b){c.addEventListener("load",function(){b()},!1),c.addEventListener("error",function(){b()},!1),document.body.appendChild(c)})}function Zb(){return B(function(b){switch(b.g){case 1:return b.m=2,u(b,WebAssembly.instantiate(Vb),4);case 4:b.g=3;b.m=0;break;case 2:return b.m=0,b.j=null,b["return"](!1);case 3:return b["return"](!0)}})}function $b(b){this.g=b;this.listeners={};this.j={};this.F={};this.m={};this.s={};this.G=this.o=this.R=!0;this.C=Promise.resolve();this.P="";this.B={};this.locateFile=b&&b.locateFile||Wb;if("object"===typeof window)var c=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)c=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");this.S=c;if(b.options){c=k(Object.keys(b.options));for(var d=c.next();!d.done;d=c.next()){d=d.value;var e=b.options[d]["default"];void 0!==e&&(this.j[d]="function"===typeof e?e():e)}}}c=$b.prototype;c.close=function(){this.i&&this.i["delete"]();return Promise.resolve()};function ac(b){var c,d,e,f,g,h,i,j,k,m,n;return B(function(o){switch(o.g){case 1:if(!b.R)return o["return"]();c=void 0===b.g.files?[]:"function"===typeof b.g.files?b.g.files(b.j):b.g.files;return u(o,Zb(),2);case 2:d=o.h;if("object"===typeof window)return Xb("createMediapipeSolutionsWasm",{locateFile:b.locateFile}),Xb("createMediapipeSolutionsPackedAssets",{locateFile:b.locateFile}),h=c.filter(function(b){return void 0!==b.data}),i=c.filter(function(b){return void 0===b.data}),j=Promise.all(h.map(function(c){var d=dc(b,c.url);if(void 0!==c.path){var e=c.path;d=d.then(function(c){b.overrideFile(e,c);return Promise.resolve(c)})}return d})),k=Promise.all(i.map(function(c){return void 0===c.simd||c.simd&&d||!c.simd&&!d?Yb(b.locateFile(c.url,b.S)):Promise.resolve()})).then(function(){var c,d,e;return B(function(f){if(1==f.g)return c=window.createMediapipeSolutionsWasm,d=window.createMediapipeSolutionsPackedAssets,e=b,u(f,c(d),2);e.h=f.h;f.g=0})}),m=function(){return B(function(c){b.g.graph&&b.g.graph.url?c=u(c,dc(b,b.g.graph.url),0):(c.g=0,c=void 0);return c})}(),u(o,Promise.all([k,j,m]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");e=c.filter(function(b){return void 0===b.simd||b.simd&&d||!b.simd&&!d}).map(function(c){return b.locateFile(c.url,b.S)});importScripts.apply(null,l(e));f=b;return u(o,createMediapipeSolutionsWasm(Module),6);case 6:f.h=o.h;b.l=new OffscreenCanvas(1,1);b.h.canvas=b.l;g=b.h.GL.createContext(b.l,{antialias:!1,alpha:!1,aa:"undefined"!==typeof WebGL2RenderingContext?2:1});b.h.GL.makeContextCurrent(g);o.g=4;break;case 7:b.l=document.createElement("canvas");n=b.l.getContext("webgl2",{});if(!n&&(n=b.l.getContext("webgl",{}),!n))return alert("Failed to create WebGL canvas context when passing video frame."),o["return"]();b.D=n;b.h.canvas=b.l;b.h.createContext(b.l,!0,!0,{});case 4:b.i=new b.h.SolutionWasm,b.R=!1,o.g=0}})}function bc(b){var c,d,e,f,g,h,i,j;return B(function(l){if(1==l.g){if(b.g.graph&&b.g.graph.url&&b.P===b.g.graph.url)return l["return"]();b.o=!0;if(!b.g.graph||!b.g.graph.url){l.g=2;return}b.P=b.g.graph.url;return u(l,dc(b,b.g.graph.url),3)}2!=l.g&&(c=l.h,b.i.loadGraph(c));d=k(Object.keys(b.B));for(e=d.next();!e.done;e=d.next())f=e.value,b.i.overrideFile(f,b.B[f]);b.B={};if(b.g.listeners)for(g=k(b.g.listeners),h=g.next();!h.done;h=g.next())i=h.value,gc(b,i);j=b.j;b.j={};b.setOptions(j);l.g=0})}c.reset=function(){var b=this;return B(function(c){b.i&&(b.i.reset(),b.m={},b.s={}),c.g=0})};c.setOptions=function(b,c){var d=this;if(c=c||this.g.options){for(var e=[],f=[],g={},h=k(Object.keys(b)),i=h.next();!i.done;g={K:g.K,L:g.L},i=h.next()){var j=i.value;j in this.j&&this.j[j]===b[j]||(this.j[j]=b[j],i=c[j],void 0!==i&&(i.onChange&&(g.K=i.onChange,g.L=b[j],e.push(function(b){return function(){var c;return B(function(e){if(1==e.g)return u(e,b.K(b.L),2);c=e.h;!0===c&&(d.o=!0);e.g=0})}}(g))),i.graphOptionXref&&(j={valueNumber:1===i.type?b[j]:0,valueBoolean:0===i.type?b[j]:!1,valueString:2===i.type?b[j]:""},i=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),i.graphOptionXref),j),f.push(i))))}(0!==e.length||0!==f.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(f),this.v=(void 0===this.v?[]:this.v).concat(e))}};function cc(b){var c,d,e,f,g,h,i;return B(function(j){switch(j.g){case 1:if(!b.o)return j["return"]();if(!b.v){j.g=2;break}c=k(b.v);d=c.next();case 3:if(d.done){j.g=5;break}e=d.value;return u(j,e(),4);case 4:d=c.next();j.g=3;break;case 5:b.v=void 0;case 2:if(b.A){f=new b.h.GraphOptionChangeRequestList;g=k(b.A);for(h=g.next();!h.done;h=g.next())i=h.value,f.push_back(i);b.i.changeOptions(f);f["delete"]();b.A=void 0}b.o=!1;j.g=0}})}c.initialize=function(){var b=this;return B(function(c){return 1==c.g?u(c,ac(b),2):3!=c.g?u(c,bc(b),3):u(c,cc(b),0)})};function dc(b,c){var d,e;return B(function(f){if(c in b.F)return f["return"](b.F[c]);d=b.locateFile(c,"");e=fetch(d).then(function(b){return b.arrayBuffer()});b.F[c]=e;return f["return"](e)})}c.overrideFile=function(b,c){this.i?this.i.overrideFile(b,c):this.B[b]=c};c.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()};c.send=function(b,c){var d=this,e,f,g,h,i,j,l,m,n;return B(function(o){switch(o.g){case 1:if(!d.g.inputs)return o["return"]();e=1e3*(void 0===c||null===c?performance.now():c);return u(o,d.C,2);case 2:return u(o,d.initialize(),3);case 3:f=new d.h.PacketDataList;g=k(Object.keys(b));for(h=g.next();!h.done;h=g.next())if(i=h.value,j=d.g.inputs[i]){a:{var p=b[i];switch(j.type){case"video":var q=d.m[j.stream];q||(q=new Rb(d.h,d.D),d.m[j.stream]=q);0===q.l&&(q.l=q.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&p instanceof HTMLVideoElement)var r=p.videoWidth,s=p.videoHeight;else"undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement?(r=p.naturalWidth,s=p.naturalHeight):(r=p.width,s=p.height);s={glName:q.l,width:r,height:s};r=q.g;r.canvas.width=s.width;r.canvas.height=s.height;r.activeTexture(r.TEXTURE0);q.h.bindTexture2d(q.l);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,p);q.h.bindTexture2d(0);q=s;break a;case"detections":q=d.m[j.stream];q||(q=new Ub(d.h),d.m[j.stream]=q);q.data||(q.data=new q.g.DetectionListData);q.data.reset(p.length);for(s=0;s<p.length;++s){r=p[s];var t=q.data,v=t.setBoundingBox,w=s,x=r.T,y=new Cb;T(y,1,x.X);T(y,2,x.Y);T(y,3,x.height);T(y,4,x.width);T(y,5,x.rotation);T(y,6,x.W);x=ab(y,Eb);v.call(t,w,x);if(r.O)for(t=0;t<r.O.length;++t){y=r.O[t];var z=y.visibility?!0:!1;v=q.data;w=v.addNormalizedLandmark;x=s;y=Object.assign(Object.assign({},y),{visibility:z?y.visibility:0});z=new ub;T(z,1,y.x);T(z,2,y.y);T(z,3,y.z);y.visibility&&T(z,4,y.visibility);y=ab(z,wb);w.call(v,x,y)}if(r.M)for(t=0;t<r.M.length;++t)v=q.data,w=v.addClassification,x=s,y=r.M[t],z=new Z,T(z,2,y.score),y.index&&T(z,1,y.index),y.label&&T(z,3,y.label),y.displayName&&T(z,4,y.displayName),y=ab(z,ob),w.call(v,x,y)}q=q.data;break a;default:q={}}}l=q;m=j.stream;switch(j.type){case"video":f.pushTexture2d(Object.assign(Object.assign({},l),{stream:m,timestamp:e}));break;case"detections":n=l;n.stream=m;n.timestamp=e;f.pushDetectionList(n);break;default:throw Error("Unknown input config type: '"+j.type+"'")}}d.i.send(f);return u(o,d.C,4);case 4:f["delete"](),o.g=0}})};function ec(b,c,d){var e,f,g,h,i,j,l,m,n,o,p,q,r,s;return B(function(t){switch(t.g){case 1:if(!d)return t["return"](c);e={};f=0;g=k(Object.keys(d));for(h=g.next();!h.done;h=g.next())i=h.value,j=d[i],"string"!==typeof j&&"texture"===j.type&&void 0!==c[j.stream]&&++f;1<f&&(b.G=!1);l=k(Object.keys(d));h=l.next();case 2:if(h.done){t.g=4;break}m=h.value;n=d[m];if("string"===typeof n)return r=e,s=m,u(t,fc(b,m,c[n]),14);o=c[n.stream];if("detection_list"===n.type){if(o){var v=o.getRectList();for(var w=o.getLandmarksList(),x=o.getClassificationsList(),y=[],z=0;z<v.size();++z){var A=bb(v.get(z),Cb,Fb);A={T:{X:S(A,1),Y:S(A,2),height:S(A,3),width:S(A,4),rotation:S(A,5,0),W:R(A,6,0)},O:aa(w.get(z)),M:Pb(bb(x.get(z),qb,sb))};y.push(A)}v=y}else v=[];e[m]=v;t.g=7;break}if("proto_list"===n.type){if(o){v=Array(o.size());for(w=0;w<o.size();w++)v[w]=o.get(w);o["delete"]()}else v=[];e[m]=v;t.g=7;break}if(void 0===o){t.g=3;break}if("float_list"===n.type){e[m]=o;t.g=7;break}if("proto"===n.type){e[m]=o;t.g=7;break}if("texture"!==n.type)throw Error("Unknown output config type: '"+n.type+"'");p=b.s[m];p||(p=new Rb(b.h,b.D),b.s[m]=p);return u(t,Sb(p,o,b.G),13);case 13:q=t.h,e[m]=q;case 7:n.transform&&e[m]&&(e[m]=n.transform(e[m]));t.g=3;break;case 14:r[s]=t.h;case 3:h=l.next();t.g=2;break;case 4:return t["return"](e)}})}function fc(b,c,d){var e;return B(function(f){return"number"===typeof d||d instanceof Uint8Array||d instanceof b.h.Uint8BlobList?f["return"](d):d instanceof b.h.Texture2dDataOut?(e=b.s[c],e||(e=new Rb(b.h,b.D),b.s[c]=e),f["return"](Sb(e,d,b.G))):f["return"](void 0)})}function gc(b,c){for(var d=c.name||"$",e=[].concat(l(c.wants)),f=new b.h.StringList,g=k(c.wants),h=g.next();!h.done;h=g.next())f.push_back(h.value);g=b.h.PacketListener.implement({onResults:function(f){for(var g={},h=0;h<c.wants.length;++h)g[e[h]]=f.get(h);var i=b.listeners[d];i&&(b.C=ec(b,g,c.outs).then(function(d){d=i(d);for(var f=0;f<c.wants.length;++f){var h=g[e[f]];"object"===typeof h&&h.hasOwnProperty&&h.hasOwnProperty("delete")&&h["delete"]()}d&&(b.C=d)}))}});b.i.attachMultiListener(f,g);f["delete"]()}c.onResults=function(b,c){this.listeners[c||"$"]=b};C("Solution",$b);C("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function hc(b){return b.map(ic)}function ic(b){b=bb(b,Jb,Lb);var c=b.getMesh();if(!c)return b;var d=new Float32Array(c.getVertexBufferList());c.getVertexBufferList=function(){return d};var e=new Uint32Array(c.getIndexBufferList());c.getIndexBufferList=function(){return e};return b}function jc(b){var c=this;b=b||{};this.g=new $b({locateFile:b.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:aa},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:aa},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:aa},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:aa},ea:{type:"proto",stream:"world_landmarks",transform:aa},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:hc}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},"default":"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,"default":1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(b){var d,e,f,g;return B(function(h){if(1==h.g){d="";switch(b){case 1:d="pose_landmark_full.tflite";break;case 2:d="pose_landmark_heavy.tflite";break;default:d="pose_landmark_lite.tflite"}e="third_party/mediapipe/modules/pose_landmark/"+d;f=c.g.locateFile(d,"");return u(h,fetch(f),3)}if(2!=h.g)return u(h,h.h.arrayBuffer(),2);g=h.h;c.g.overrideFile(e,g);return u(h,c.g.reset(),0)})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}c=jc.prototype;c.close=function(){this.g.close();return Promise.resolve()};c.onResults=function(b){this.g.onResults(b)};c.initialize=function(){var b=this;return B(function(c){return u(c,b.g.initialize(),0)})};c.reset=function(){this.g.reset()};c.send=function(b){var c=this;return B(function(d){return u(d,c.g.send(b),0)})};c.setOptions=function(b){this.g.setOptions(b)};C("Holistic",jc);C("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}});C("FACEMESH_LIPS",o);C("FACEMESH_LEFT_EYE",n);C("FACEMESH_LEFT_EYEBROW",f);C("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]);C("FACEMESH_RIGHT_EYE",h);C("FACEMESH_RIGHT_EYEBROW",q);C("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]);C("FACEMESH_FACE_OVAL",Mb);C("FACEMESH_CONTOURS",Nb);C("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]);C("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);C("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]);C("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32});C("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31});C("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32});C("POSE_LANDMARKS_NEUTRAL",{NOSE:0});C("matrixDataToMatrix",function(b){for(var c=b.getCols(),d=b.getRows(),e=b.getPackedDataList(),f=[],g=0;g<d;g++)f.push(Array(c));for(g=0;g<d;g++)for(var h=0;h<c;h++){var i=1===b.getLayout()?g*c+h:h*d+g;f[g][h]=e[i]}return f});C("VERSION","0.5.1635989137")}).call(h.exports)}var k=!1;function l(){k||(k=!0,j());return h.exports}function d(b){switch(b){case void 0:return l()}}f.exports=d}),null);
__d("mediapipe-holistic",["mediapipe-holistic-0.5.1635989137"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-holistic-0.5.1635989137")()}),null);
/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("pkijs-2.2.1",["Promise","asn1js-2.1.1","bytestreamjs-1.0.29","pvutils-1.0.17","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("asn1js-2.1.1")),h=c(b("pvutils-1.0.17")),i=c(b("bytestreamjs-1.0.29")),j={},k={exports:j};function l(){Object.defineProperty(j,"__esModule",{value:!0});j["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.algorithmId=b.getParametersValue(a,"algorithmId",c.defaultValues("algorithmId")),"algorithmParams"in a&&(this.algorithmParams=b.getParametersValue(a,"algorithmParams",c.defaultValues("algorithmParams"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"algorithmId":return"";case"algorithmParams":return new a.Any();default:throw new Error("Invalid member name for AlgorithmIdentifier class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"algorithmId":return c==="";case"algorithmParams":return c instanceof a.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",optional:c.optional||!1,value:[new a.ObjectIdentifier({name:c.algorithmIdentifier||""}),new a.Any({name:c.algorithmParams||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["algorithm","params"]);d=a.compareSchema(d,d,c.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=d.result.algorithm.valueBlock.toString();"params"in d.result&&(this.algorithmParams=d.result.params)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.algorithmId}));"algorithmParams"in this&&this.algorithmParams instanceof a.Any===!1&&b.push(this.algorithmParams);return new a.Sequence({value:b})};d.toJSON=function(){var b={algorithmId:this.algorithmId};"algorithmParams"in this&&this.algorithmParams instanceof a.Any===!1&&(b.algorithmParams=this.algorithmParams.toJSON());return b};d.isEqual=function(a){if(a instanceof c===!1)return!1;if(this.algorithmId!==a.algorithmId)return!1;if("algorithmParams"in this)return"algorithmParams"in a?JSON.stringify(this.algorithmParams)===JSON.stringify(a.algorithmParams):!1;return"algorithmParams"in a?!1:!0};return c}();j["default"]=d}var m=!1;function n(){m||(m=!0,l());return k.exports}var o={},p={exports:o};function q(){Object.defineProperty(o,"__esModule",{value:!0});o["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.x=b.getParametersValue(a,"x",c.defaultValues("x")),this.y=b.getParametersValue(a,"y",c.defaultValues("y")),this.namedCurve=b.getParametersValue(a,"namedCurve",c.defaultValues("namedCurve")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(a){switch(a){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error("Invalid member name for ECCPublicKey class: "+a)}};c.compareWithDefault=function(a,d){switch(a){case"x":case"y":return b.isEqualBuffer(d,c.defaultValues(a));case"namedCurve":return d==="";default:throw new Error("Invalid member name for ECCPublicKey class: "+a)}};c.schema=function(b){b===void 0&&({});return new a.RawData()};var d=c.prototype;d.fromSchema=function(a){if(a instanceof ArrayBuffer===!1)throw new Error("Object's schema was not verified against input data for ECPublicKey");var b=new Uint8Array(a);if(b[0]!==4)throw new Error("Object's schema was not verified against input data for ECPublicKey");var c;switch(this.namedCurve){case"1.2.840.10045.3.1.7":c=32;break;case"1.3.132.0.34":c=48;break;case"1.3.132.0.35":c=66;break;default:throw new Error("Incorrect curve OID: "+this.namedCurve)}if(a.byteLength!==c*2+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=a.slice(1,c+1);this.y=a.slice(1+c,c*2+1)};d.toSchema=function(){return new a.RawData({data:b.utilConcatBuf(new Uint8Array([4]).buffer,this.x,this.y)})};d.toJSON=function(){var a="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":a="P-256";break;case"1.3.132.0.34":a="P-384";break;case"1.3.132.0.35":a="P-521";break;default:}return{crv:a,x:b.toBase64(b.arrayBufferToString(this.x),!0,!0,!1),y:b.toBase64(b.arrayBufferToString(this.y),!0,!0,!1)}};d.fromJSON=function(a){var c=0;if("crv"in a)switch(a.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7";c=32;break;case"P-384":this.namedCurve="1.3.132.0.34";c=48;break;case"P-521":this.namedCurve="1.3.132.0.35";c=66;break;default:}else throw new Error('Absent mandatory parameter "crv"');if("x"in a){var d=b.stringToArrayBuffer(b.fromBase64(a.x,!0));if(d.byteLength<c){this.x=new ArrayBuffer(c);var e=new Uint8Array(this.x),f=new Uint8Array(d);e.set(f,1)}else this.x=d.slice(0,c)}else throw new Error('Absent mandatory parameter "x"');if("y"in a){e=b.stringToArrayBuffer(b.fromBase64(a.y,!0));if(e.byteLength<c){this.y=new ArrayBuffer(c);f=new Uint8Array(this.y);d=new Uint8Array(e);f.set(d,1)}else this.y=e.slice(0,c)}else throw new Error('Absent mandatory parameter "y"')};return c}();o["default"]=d}var r=!1;function s(){r||(r=!0,q());return p.exports}var t={},u={exports:t};function v(){Object.defineProperty(t,"__esModule",{value:!0});t["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.modulus=b.getParametersValue(a,"modulus",c.defaultValues("modulus")),this.publicExponent=b.getParametersValue(a,"publicExponent",c.defaultValues("publicExponent")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(b){switch(b){case"modulus":return new a.Integer();case"publicExponent":return new a.Integer();default:throw new Error("Invalid member name for RSAPublicKey class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.modulus||""}),new a.Integer({name:c.publicExponent||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["modulus","publicExponent"]);d=a.compareSchema(d,d,c.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=d.result.modulus.convertFromDER(256);this.publicExponent=d.result.publicExponent};d.toSchema=function(){return new a.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})};d.toJSON=function(){return{n:b.toBase64(b.arrayBufferToString(this.modulus.valueBlock.valueHex),!0,!0,!0),e:b.toBase64(b.arrayBufferToString(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}};d.fromJSON=function(c){if("n"in c){var d=b.stringToArrayBuffer(b.fromBase64(c.n,!0));this.modulus=new a.Integer({valueHex:d.slice(0,Math.pow(2,b.nearestPowerOf2(d.byteLength)))})}else throw new Error('Absent mandatory parameter "n"');if("e"in c)this.publicExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.e,!0)).slice(0,3)});else throw new Error('Absent mandatory parameter "e"')};return c}();t["default"]=d}var w=!1;function x(){w||(w=!0,v());return u.exports}var y={},z={exports:y};function A(){Object.defineProperty(y,"__esModule",{value:!0});y["default"]=void 0;var a=l(g()),c=h(),d=W(),e=j(n()),f=j(s()),i=j(x());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function g(a){a===void 0&&(a={}),this.algorithm=c.getParametersValue(a,"algorithm",g.defaultValues("algorithm")),this.subjectPublicKey=c.getParametersValue(a,"subjectPublicKey",g.defaultValues("subjectPublicKey")),"parsedKey"in a&&(this.parsedKey=c.getParametersValue(a,"parsedKey",g.defaultValues("parsedKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}g.defaultValues=function(b){switch(b){case"algorithm":return new e["default"]();case"subjectPublicKey":return new a.BitString();default:throw new Error("Invalid member name for PublicKeyInfo class: "+b)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[e["default"].schema(b.algorithm||{}),new a.BitString({name:b.subjectPublicKey||""})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["algorithm","subjectPublicKey"]);b=a.compareSchema(b,b,g.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");this.algorithm=new e["default"]({schema:b.result.algorithm});this.subjectPublicKey=b.result.subjectPublicKey;switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===a.ObjectIdentifier.blockName())try{this.parsedKey=new f["default"]({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(a){}break;case"1.2.840.113549.1.1.1":b=a.fromBER(this.subjectPublicKey.valueBlock.valueHex);if(b.offset!==-1)try{this.parsedKey=new i["default"]({schema:b.result})}catch(a){}break;default:}};h.toSchema=function(){return new a.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})};h.toJSON=function(){if("parsedKey"in this===!1)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};var a={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":a.kty="EC";break;case"1.2.840.113549.1.1.1":a.kty="RSA";break;default:}var b=this.parsedKey.toJSON();for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];a[e]=b[e]}return a};h.fromJSON=function(b){if("kty"in b){switch(b.kty.toUpperCase()){case"EC":this.parsedKey=new f["default"]({json:b});this.algorithm=new e["default"]({algorithmId:"1.2.840.10045.2.1",algorithmParams:new a.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new i["default"]({json:b});this.algorithm=new e["default"]({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new a.Null()});break;default:throw new Error('Invalid value for "kty" parameter: '+b.kty)}this.subjectPublicKey=new a.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};h.importKey=function(c){var e=b("Promise").resolve(),f=this;if(typeof c==="undefined")return b("Promise").reject("Need to provide publicKey input parameter");var g=d.getCrypto();if(typeof g==="undefined")return b("Promise").reject("Unable to create WebCrypto object");e=e.then(function(){return g.exportKey("spki",c)});e=e.then(function(c){c=a.fromBER(c);try{f.fromSchema(c.result)}catch(a){return b("Promise").reject("Error during initializing object from schema")}return void 0},function(a){return b("Promise").reject("Error during exporting public key: "+a)});return e};return g}();y["default"]=l}var B=!1;function C(){B||(B=!0,A());return z.exports}var D={},E={exports:D};function F(){Object.defineProperty(D,"__esModule",{value:!0});D["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",c.defaultValues("type")),this.values=b.getParametersValue(a,"values",c.defaultValues("values")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"type":return"";case"values":return[];default:throw new Error("Invalid member name for Attribute class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"type":return b==="";case"values":return b.length===0;default:throw new Error("Invalid member name for Attribute class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.type||""}),new a.Set({name:c.setName||"",value:[new a.Repeated({name:c.values||"",value:new a.Any()})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["type","values"]);d=a.compareSchema(d,d,c.schema({names:{type:"type",values:"values"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Attribute");this.type=d.result.type.valueBlock.toString();this.values=d.result.values};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.type}),new a.Set({value:this.values})]})};d.toJSON=function(){return{type:this.type,values:Array.from(this.values,function(a){return a.toJSON()})}};return c}();D["default"]=d}var G=!1;function H(){G||(G=!0,F());return E.exports}var I={},aa={exports:I};function J(){Object.defineProperty(I,"__esModule",{value:!0});I["default"]=void 0;var a=f(g()),b=h(),c=d(s());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),this.privateKey=b.getParametersValue(a,"privateKey",d.defaultValues("privateKey")),"namedCurve"in a&&(this.namedCurve=b.getParametersValue(a,"namedCurve",d.defaultValues("namedCurve"))),"publicKey"in a&&(this.publicKey=b.getParametersValue(a,"publicKey",d.defaultValues("publicKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}d.defaultValues=function(b){switch(b){case"version":return 1;case"privateKey":return new a.OctetString();case"namedCurve":return"";case"publicKey":return new c["default"]();default:throw new Error("Invalid member name for ECCPrivateKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"version":return b===d.defaultValues(a);case"privateKey":return b.isEqual(d.defaultValues(a));case"namedCurve":return b==="";case"publicKey":return c["default"].compareWithDefault("namedCurve",b.namedCurve)&&c["default"].compareWithDefault("x",b.x)&&c["default"].compareWithDefault("y",b.y);default:throw new Error("Invalid member name for ECCPrivateKey class: "+a)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.version||""}),new a.OctetString({name:c.privateKey||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.ObjectIdentifier({name:c.namedCurve||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.BitString({name:c.publicKey||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","privateKey","namedCurve","publicKey"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ECPrivateKey");this.version=e.result.version.valueBlock.valueDec;this.privateKey=e.result.privateKey;"namedCurve"in e.result&&(this.namedCurve=e.result.namedCurve.valueBlock.toString());if("publicKey"in e.result){e={schema:e.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(e.namedCurve=this.namedCurve);this.publicKey=new c["default"](e)}};e.toSchema=function(){var b=[new a.Integer({value:this.version}),this.privateKey];"namedCurve"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.ObjectIdentifier({value:this.namedCurve})]}));"publicKey"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]}));return new a.Sequence({value:b})};e.toJSON=function(){if("namedCurve"in this===!1||d.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');var a="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":a="P-256";break;case"1.3.132.0.34":a="P-384";break;case"1.3.132.0.35":a="P-521";break;default:}a={crv:a,d:b.toBase64(b.arrayBufferToString(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){var c=this.publicKey.toJSON();a.x=c.x;a.y=c.y}return a};e.fromJSON=function(d){var e=0;if("crv"in d)switch(d.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7";e=32;break;case"P-384":this.namedCurve="1.3.132.0.34";e=48;break;case"P-521":this.namedCurve="1.3.132.0.35";e=66;break;default:}else throw new Error('Absent mandatory parameter "crv"');if("d"in d){var f=b.stringToArrayBuffer(b.fromBase64(d.d,!0));if(f.byteLength<e){var g=new ArrayBuffer(e),h=new Uint8Array(g),i=new Uint8Array(f);h.set(i,1);this.privateKey=new a.OctetString({valueHex:g})}else this.privateKey=new a.OctetString({valueHex:f.slice(0,e)})}else throw new Error('Absent mandatory parameter "d"');"x"in d&&"y"in d&&(this.publicKey=new c["default"]({json:d}))};return d}();I["default"]=f}var K=!1;function ba(){K||(K=!0,J());return aa.exports}var ca={},da={exports:ca};function ea(){Object.defineProperty(ca,"__esModule",{value:!0});ca["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.prime=b.getParametersValue(a,"prime",c.defaultValues("prime")),this.exponent=b.getParametersValue(a,"exponent",c.defaultValues("exponent")),this.coefficient=b.getParametersValue(a,"coefficient",c.defaultValues("coefficient")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(b){switch(b){case"prime":return new a.Integer();case"exponent":return new a.Integer();case"coefficient":return new a.Integer();default:throw new Error("Invalid member name for OtherPrimeInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.prime||""}),new a.Integer({name:c.exponent||""}),new a.Integer({name:c.coefficient||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["prime","exponent","coefficient"]);d=a.compareSchema(d,d,c.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=d.result.prime.convertFromDER();this.exponent=d.result.exponent.convertFromDER();this.coefficient=d.result.coefficient.convertFromDER()};d.toSchema=function(){return new a.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})};d.toJSON=function(){return{r:b.toBase64(b.arrayBufferToString(this.prime.valueBlock.valueHex),!0,!0),d:b.toBase64(b.arrayBufferToString(this.exponent.valueBlock.valueHex),!0,!0),t:b.toBase64(b.arrayBufferToString(this.coefficient.valueBlock.valueHex),!0,!0)}};d.fromJSON=function(c){if("r"in c)this.prime=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.r,!0))});else throw new Error('Absent mandatory parameter "r"');if("d"in c)this.exponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.d,!0))});else throw new Error('Absent mandatory parameter "d"');if("t"in c)this.coefficient=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.t,!0))});else throw new Error('Absent mandatory parameter "t"')};return c}();ca["default"]=d}var fa=!1;function ga(){fa||(fa=!0,ea());return da.exports}var ha={},L={exports:ha};function ia(){Object.defineProperty(ha,"__esModule",{value:!0});ha["default"]=void 0;var a=f(g()),b=h(),c=d(ga());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),this.modulus=b.getParametersValue(a,"modulus",d.defaultValues("modulus")),this.publicExponent=b.getParametersValue(a,"publicExponent",d.defaultValues("publicExponent")),this.privateExponent=b.getParametersValue(a,"privateExponent",d.defaultValues("privateExponent")),this.prime1=b.getParametersValue(a,"prime1",d.defaultValues("prime1")),this.prime2=b.getParametersValue(a,"prime2",d.defaultValues("prime2")),this.exponent1=b.getParametersValue(a,"exponent1",d.defaultValues("exponent1")),this.exponent2=b.getParametersValue(a,"exponent2",d.defaultValues("exponent2")),this.coefficient=b.getParametersValue(a,"coefficient",d.defaultValues("coefficient")),"otherPrimeInfos"in a&&(this.otherPrimeInfos=b.getParametersValue(a,"otherPrimeInfos",d.defaultValues("otherPrimeInfos"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}d.defaultValues=function(b){switch(b){case"version":return 0;case"modulus":return new a.Integer();case"publicExponent":return new a.Integer();case"privateExponent":return new a.Integer();case"prime1":return new a.Integer();case"prime2":return new a.Integer();case"exponent1":return new a.Integer();case"exponent2":return new a.Integer();case"coefficient":return new a.Integer();case"otherPrimeInfos":return[];default:throw new Error("Invalid member name for RSAPrivateKey class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),new a.Integer({name:d.modulus||""}),new a.Integer({name:d.publicExponent||""}),new a.Integer({name:d.privateExponent||""}),new a.Integer({name:d.prime1||""}),new a.Integer({name:d.prime2||""}),new a.Integer({name:d.exponent1||""}),new a.Integer({name:d.exponent2||""}),new a.Integer({name:d.coefficient||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:d.otherPrimeInfosName||"",value:c["default"].schema(d.otherPrimeInfo||{})})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=e.result.version.valueBlock.valueDec;this.modulus=e.result.modulus.convertFromDER(256);this.publicExponent=e.result.publicExponent;this.privateExponent=e.result.privateExponent.convertFromDER(256);this.prime1=e.result.prime1.convertFromDER(128);this.prime2=e.result.prime2.convertFromDER(128);this.exponent1=e.result.exponent1.convertFromDER(128);this.exponent2=e.result.exponent2.convertFromDER(128);this.coefficient=e.result.coefficient.convertFromDER(128);"otherPrimeInfos"in e.result&&(this.otherPrimeInfos=Array.from(e.result.otherPrimeInfos,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.modulus.convertToDER());b.push(this.publicExponent);b.push(this.privateExponent.convertToDER());b.push(this.prime1.convertToDER());b.push(this.prime2.convertToDER());b.push(this.exponent1.convertToDER());b.push(this.exponent2.convertToDER());b.push(this.coefficient.convertToDER());"otherPrimeInfos"in this&&b.push(new a.Sequence({value:Array.from(this.otherPrimeInfos,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={n:b.toBase64(b.arrayBufferToString(this.modulus.valueBlock.valueHex),!0,!0,!0),e:b.toBase64(b.arrayBufferToString(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:b.toBase64(b.arrayBufferToString(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:b.toBase64(b.arrayBufferToString(this.prime1.valueBlock.valueHex),!0,!0,!0),q:b.toBase64(b.arrayBufferToString(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:b.toBase64(b.arrayBufferToString(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:b.toBase64(b.arrayBufferToString(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:b.toBase64(b.arrayBufferToString(this.coefficient.valueBlock.valueHex),!0,!0,!0)};"otherPrimeInfos"in this&&(a.oth=Array.from(this.otherPrimeInfos,function(a){return a.toJSON()}));return a};e.fromJSON=function(d){if("n"in d)this.modulus=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.n,!0,!0))});else throw new Error('Absent mandatory parameter "n"');if("e"in d)this.publicExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.e,!0,!0))});else throw new Error('Absent mandatory parameter "e"');if("d"in d)this.privateExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.d,!0,!0))});else throw new Error('Absent mandatory parameter "d"');if("p"in d)this.prime1=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.p,!0,!0))});else throw new Error('Absent mandatory parameter "p"');if("q"in d)this.prime2=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.q,!0,!0))});else throw new Error('Absent mandatory parameter "q"');if("dp"in d)this.exponent1=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.dp,!0,!0))});else throw new Error('Absent mandatory parameter "dp"');if("dq"in d)this.exponent2=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.dq,!0,!0))});else throw new Error('Absent mandatory parameter "dq"');if("qi"in d)this.coefficient=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.qi,!0,!0))});else throw new Error('Absent mandatory parameter "qi"');"oth"in d&&(this.otherPrimeInfos=Array.from(d.oth,function(a){return new c["default"]({json:a})}))};return d}();ha["default"]=f}var ja=!1;function ka(){ja||(ja=!0,ia());return L.exports}var M={},la={exports:M};function ma(){Object.defineProperty(M,"__esModule",{value:!0});M["default"]=void 0;var a=k(g()),b=h(),c=i(n()),d=i(H()),e=i(ba()),f=i(ka());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.privateKeyAlgorithm=b.getParametersValue(a,"privateKeyAlgorithm",g.defaultValues("privateKeyAlgorithm")),this.privateKey=b.getParametersValue(a,"privateKey",g.defaultValues("privateKey")),"attributes"in a&&(this.attributes=b.getParametersValue(a,"attributes",g.defaultValues("attributes"))),"parsedKey"in a&&(this.parsedKey=b.getParametersValue(a,"parsedKey",g.defaultValues("parsedKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}g.defaultValues=function(b){switch(b){case"version":return 0;case"privateKeyAlgorithm":return new c["default"]();case"privateKey":return new a.OctetString();case"attributes":return[];case"parsedKey":return{};default:throw new Error("Invalid member name for PrivateKeyInfo class: "+b)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.version||""}),c["default"].schema(e.privateKeyAlgorithm||{}),new a.OctetString({name:e.privateKey||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.attributes||"",value:d["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["version","privateKeyAlgorithm","privateKey","attributes"]);h=a.compareSchema(h,h,g.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");this.version=h.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new c["default"]({schema:h.result.privateKeyAlgorithm});this.privateKey=h.result.privateKey;"attributes"in h.result&&(this.attributes=Array.from(h.result.attributes,function(a){return new d["default"]({schema:a})}));switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":h=a.fromBER(this.privateKey.valueBlock.valueHex);h.offset!==-1&&(this.parsedKey=new f["default"]({schema:h.result}));break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof a.ObjectIdentifier){h=a.fromBER(this.privateKey.valueBlock.valueHex);h.offset!==-1&&(this.parsedKey=new e["default"]({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:h.result}))}break;default:}};h.toSchema=function(){var b=[new a.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];"attributes"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){if("parsedKey"in this===!1){var a={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};"attributes"in this&&(a.attributes=Array.from(this.attributes,function(a){return a.toJSON()}));return a}a={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":a.kty="EC";break;case"1.2.840.113549.1.1.1":a.kty="RSA";break;default:}var b=this.parsedKey.toJSON();for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];a[e]=b[e]}return a};h.fromJSON=function(b){if("kty"in b){switch(b.kty.toUpperCase()){case"EC":this.parsedKey=new e["default"]({json:b});this.privateKeyAlgorithm=new c["default"]({algorithmId:"1.2.840.10045.2.1",algorithmParams:new a.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new f["default"]({json:b});this.privateKeyAlgorithm=new c["default"]({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new a.Null()});break;default:throw new Error('Invalid value for "kty" parameter: '+b.kty)}this.privateKey=new a.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};return g}();M["default"]=k}var na=!1;function oa(){na||(na=!0,ma());return la.exports}var N={},pa={exports:N};function qa(){Object.defineProperty(N,"__esModule",{value:!0});N["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(c){c===void 0&&(c={});this.contentType=b.getParametersValue(c,"contentType",d.defaultValues("contentType"));this.contentEncryptionAlgorithm=b.getParametersValue(c,"contentEncryptionAlgorithm",d.defaultValues("contentEncryptionAlgorithm"));if("encryptedContent"in c){this.encryptedContent=c.encryptedContent;if(this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4&&this.encryptedContent.idBlock.isConstructed===!1){var e=new a.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),f=0,g=this.encryptedContent.valueBlock.valueHex.byteLength;while(g>0){var h=new Uint8Array(this.encryptedContent.valueBlock.valueHex,f,f+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-f:1024),i=new ArrayBuffer(h.length),j=new Uint8Array(i);for(var k=0;k<j.length;k++)j[k]=h[k];e.valueBlock.value.push(new a.OctetString({valueHex:i}));g-=h.length;f+=h.length}this.encryptedContent=e}}"schema"in c&&this.fromSchema(c.schema)}d.defaultValues=function(b){switch(b){case"contentType":return"";case"contentEncryptionAlgorithm":return new c["default"]();case"encryptedContent":return new a.OctetString();default:throw new Error("Invalid member name for EncryptedContentInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"contentType":return b==="";case"contentEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedContent":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for EncryptedContentInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.contentType||""}),c["default"].schema(d.contentEncryptionAlgorithm||{}),new a.Choice({value:[new a.Constructed({name:d.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({value:new a.OctetString()})]}),new a.Primitive({name:d.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["contentType","contentEncryptionAlgorithm","encryptedContent"]);e=a.compareSchema(e,e,d.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=e.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=new c["default"]({schema:e.result.contentEncryptionAlgorithm});"encryptedContent"in e.result&&(this.encryptedContent=e.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)};e.toSchema=function(){var b={isIndefiniteForm:!1},c=[];c.push(new a.ObjectIdentifier({value:this.contentType}));c.push(this.contentEncryptionAlgorithm.toSchema());if("encryptedContent"in this){b.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var d=this.encryptedContent;d.idBlock.tagClass=3;d.idBlock.tagNumber=0;d.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;c.push(d)}return new a.Sequence({lenBlock:b,value:c})};e.toJSON=function(){var a={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};"encryptedContent"in this&&(a.encryptedContent=this.encryptedContent.toJSON());return a};return d}();N["default"]=f}var ra=!1;function sa(){ra||(ra=!0,qa());return pa.exports}var ta={},ua={exports:ta};function va(){Object.defineProperty(ta,"__esModule",{value:!0});ta["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=b.getParametersValue(a,"maskGenAlgorithm",d.defaultValues("maskGenAlgorithm")),this.saltLength=b.getParametersValue(a,"saltLength",d.defaultValues("saltLength")),this.trailerField=b.getParametersValue(a,"trailerField",d.defaultValues("trailerField")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});case"maskGenAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error("Invalid member name for RSASSAPSSParams class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[c["default"].schema(d.hashAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[c["default"].schema(d.maskGenAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new a.Integer({name:d.saltLength||""})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new a.Integer({name:d.trailerField||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in e.result&&(this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm}));"maskGenAlgorithm"in e.result&&(this.maskGenAlgorithm=new c["default"]({schema:e.result.maskGenAlgorithm}));"saltLength"in e.result&&(this.saltLength=e.result.saltLength.valueBlock.valueDec);"trailerField"in e.result&&(this.trailerField=e.result.trailerField.valueBlock.valueDec)};e.toSchema=function(){var b=[];this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.saltLength!==d.defaultValues("saltLength")&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new a.Integer({value:this.saltLength})]}));this.trailerField!==d.defaultValues("trailerField")&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new a.Integer({value:this.trailerField})]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||(a.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||(a.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.saltLength!==d.defaultValues("saltLength")&&(a.saltLength=this.saltLength);this.trailerField!==d.defaultValues("trailerField")&&(a.trailerField=this.trailerField);return a};return d}();ta["default"]=f}var wa=!1;function O(){wa||(wa=!0,va());return ua.exports}var P={},Q={exports:P};function xa(){Object.defineProperty(P,"__esModule",{value:!0});P["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.salt=b.getParametersValue(a,"salt",d.defaultValues("salt")),this.iterationCount=b.getParametersValue(a,"iterationCount",d.defaultValues("iterationCount")),"keyLength"in a&&(this.keyLength=b.getParametersValue(a,"keyLength",d.defaultValues("keyLength"))),"prf"in a&&(this.prf=b.getParametersValue(a,"prf",d.defaultValues("prf"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});default:throw new Error("Invalid member name for PBKDF2Params class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Choice({value:[new a.OctetString({name:d.saltPrimitive||""}),c["default"].schema(d.saltConstructed||{})]}),new a.Integer({name:d.iterationCount||""}),new a.Integer({name:d.keyLength||"",optional:!0}),c["default"].schema(d.prf||{names:{optional:!0}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["salt","iterationCount","keyLength","prf"]);e=a.compareSchema(e,e,d.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=e.result.salt;this.iterationCount=e.result.iterationCount.valueBlock.valueDec;"keyLength"in e.result&&(this.keyLength=e.result.keyLength.valueBlock.valueDec);"prf"in e.result&&(this.prf=new c["default"]({schema:e.result.prf}))};e.toSchema=function(){var b=[];b.push(this.salt);b.push(new a.Integer({value:this.iterationCount}));"keyLength"in this&&(d.defaultValues("keyLength")!==this.keyLength&&b.push(new a.Integer({value:this.keyLength})));"prf"in this&&(d.defaultValues("prf").isEqual(this.prf)===!1&&b.push(this.prf.toSchema()));return new a.Sequence({value:b})};e.toJSON=function(){var a={salt:this.salt.toJSON(),iterationCount:this.iterationCount};"keyLength"in this&&(d.defaultValues("keyLength")!==this.keyLength&&(a.keyLength=this.keyLength));"prf"in this&&(d.defaultValues("prf").isEqual(this.prf)===!1&&(a.prf=this.prf.toJSON()));return a};return d}();P["default"]=f}var ya=!1;function R(){ya||(ya=!0,xa());return Q.exports}var za={},Aa={exports:za};function Ba(){Object.defineProperty(za,"__esModule",{value:!0});za["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyDerivationFunc=b.getParametersValue(a,"keyDerivationFunc",d.defaultValues("keyDerivationFunc")),this.encryptionScheme=b.getParametersValue(a,"encryptionScheme",d.defaultValues("encryptionScheme")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"keyDerivationFunc":return new c["default"]();case"encryptionScheme":return new c["default"]();default:throw new Error("Invalid member name for PBES2Params class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.keyDerivationFunc||{}),c["default"].schema(d.encryptionScheme||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyDerivationFunc","encryptionScheme"]);e=a.compareSchema(e,e,d.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new c["default"]({schema:e.result.keyDerivationFunc});this.encryptionScheme=new c["default"]({schema:e.result.encryptionScheme})};e.toSchema=function(){return new a.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})};e.toJSON=function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}};return d}();za["default"]=f}var S=!1;function Ca(){S||(S=!0,Ba());return Aa.exports}var Da={},T={exports:Da};function Ea(){Object.defineProperty(Da,"__esModule",{value:!0});Da["default"]=void 0;var a=q(g()),c=h(),d=W(),e=o(C()),f=o(oa()),i=o(n()),j=o(sa()),k=o(O()),l=o(R()),m=o(Ca());function o(a){return a&&a.__esModule?a:{"default":a}}function p(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(p=function(a){return a?c:b})(a)}function q(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=p(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function r(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=s(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function s(a,b){if(!a)return;if(typeof a==="string")return t(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t(a,b)}function t(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function u(a,c,d,e,f,g){var h,i,j=[];switch(c.toUpperCase()){case"SHA-1":h=20;i=64;break;case"SHA-256":h=32;i=64;break;case"SHA-384":h=48;i=128;break;case"SHA-512":h=64;i=128;break;default:throw new Error("Unsupported hashing algorithm")}var k=new Uint8Array(e),l=new ArrayBuffer(e.byteLength*2+2),m=new Uint8Array(l);for(var n=0;n<k.length;n++)m[n*2]=0,m[n*2+1]=k[n];m[m.length-2]=0;m[m.length-1]=0;e=l.slice(0);var o=new ArrayBuffer(i),p=new Uint8Array(o);for(n=0;n<o.byteLength;n++)p[n]=3;var q=f.byteLength;k=i*Math.ceil(q/i);m=new ArrayBuffer(k);l=new Uint8Array(m);n=new Uint8Array(f);for(f=0;f<k;f++)l[f]=n[f%q];var r=e.byteLength;f=i*Math.ceil(r/i);k=new ArrayBuffer(f);n=new Uint8Array(k);e=new Uint8Array(e);for(var s=0;s<f;s++)n[s]=e[s%r];s=m.byteLength+k.byteLength;var t=new ArrayBuffer(s),u=new Uint8Array(t);u.set(l);u.set(n,l.length);f=Math.ceil((d>>3)/h);e=b("Promise").resolve(t);for(m=0;m<=f;m++){e=e.then(function(a){a=new ArrayBuffer(o.byteLength+a.byteLength);var b=new Uint8Array(a);b.set(p);b.set(u,p.length);return a});for(k=0;k<g;k++)e=e.then(function(b){return a.digest({name:c},new Uint8Array(b))});e=e.then(function(a){var b=new ArrayBuffer(i),c=new Uint8Array(b);for(var d=0;d<b.byteLength;d++)c[d]=a[d%a.length];d=Math.ceil(q/i)+Math.ceil(r/i);var e=[],f=0,g=i;for(var h=0;h<d;h++){var k=Array.from(new Uint8Array(t.slice(f,f+g)));f+=i;f+i>t.byteLength&&(g=t.byteLength-f);var l=511;for(var m=b.byteLength-1;m>=0;m--)l>>=8,l+=c[m]+k[m],k[m]=l&255;e.push.apply(e,k)}t=new ArrayBuffer(e.length);u=new Uint8Array(t);u.set(e);j.push.apply(j,new Uint8Array(a));return t})}e=e.then(function(){var a=new ArrayBuffer(d>>3),b=new Uint8Array(a);b.set(new Uint8Array(j).slice(0,d>>3));return a});return e}q=function(){function g(a){a===void 0&&(a={}),this.crypto=c.getParametersValue(a,"crypto",{}),this.subtle=c.getParametersValue(a,"subtle",{}),this.name=c.getParametersValue(a,"name","")}var h=g.prototype;h.importKey=function(d,g,h,i,j){var k=this,l={};g instanceof Uint8Array&&(g=g.buffer);switch(d.toLowerCase()){case"raw":return this.subtle.importKey("raw",g,h,i,j);case"spki":var m=a.fromBER(g);if(m.offset===-1)return b("Promise").reject("Incorrect keyData");var n=new e["default"]();try{n.fromSchema(m.result)}catch(a){return b("Promise").reject("Incorrect keyData")}switch(h.name.toUpperCase()){case"RSA-PSS":switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="PS1";break;case"SHA-256":l.alg="PS256";break;case"SHA-384":l.alg="PS384";break;case"SHA-512":l.alg="PS512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}case"RSASSA-PKCS1-V1_5":j=["verify"];l.kty="RSA";l.ext=i;l.key_ops=j;if(n.algorithm.algorithmId!=="1.2.840.113549.1.1.1")return b("Promise").reject("Incorrect public key algorithm: "+n.algorithm.algorithmId);if("alg"in l===!1)switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RS1";break;case"SHA-256":l.alg="RS256";break;case"SHA-384":l.alg="RS384";break;case"SHA-512":l.alg="RS512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}m=n.toJSON();for(var o=0,p=Object.keys(m);o<p.length;o++){var q=p[o];l[q]=m[q]}break;case"ECDSA":j=["verify"];case"ECDH":l={kty:"EC",ext:i,key_ops:j};if(n.algorithm.algorithmId!=="1.2.840.10045.2.1")return b("Promise").reject("Incorrect public key algorithm: "+n.algorithm.algorithmId);q=n.toJSON();for(p=0,o=Object.keys(q);p<o.length;p++){m=o[p];l[m]=q[m]}break;case"RSA-OAEP":l.kty="RSA";l.ext=i;l.key_ops=j;if(this.name.toLowerCase()==="safari")l.alg="RSA-OAEP";else switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RSA-OAEP";break;case"SHA-256":l.alg="RSA-OAEP-256";break;case"SHA-384":l.alg="RSA-OAEP-384";break;case"SHA-512":l.alg="RSA-OAEP-512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}m=n.toJSON();for(o=0,p=Object.keys(m);o<p.length;o++){q=p[o];l[q]=m[q]}break;case"RSAES-PKCS1-V1_5":l.kty="RSA";l.ext=i;l.key_ops=j;l.alg="PS1";q=n.toJSON();for(p=0,o=Object.keys(q);p<o.length;p++){m=o[p];l[m]=q[m]}break;default:return b("Promise").reject("Incorrect algorithm name: "+h.name.toUpperCase())}break;case"pkcs8":n=new f["default"]();m=a.fromBER(g);if(m.offset===-1)return b("Promise").reject("Incorrect keyData");try{n.fromSchema(m.result)}catch(a){return b("Promise").reject("Incorrect keyData")}if("parsedKey"in n===!1)return b("Promise").reject("Incorrect keyData");switch(h.name.toUpperCase()){case"RSA-PSS":switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="PS1";break;case"SHA-256":l.alg="PS256";break;case"SHA-384":l.alg="PS384";break;case"SHA-512":l.alg="PS512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}case"RSASSA-PKCS1-V1_5":j=["sign"];l.kty="RSA";l.ext=i;l.key_ops=j;if(n.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")return b("Promise").reject("Incorrect private key algorithm: "+n.privateKeyAlgorithm.algorithmId);if("alg"in l===!1)switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RS1";break;case"SHA-256":l.alg="RS256";break;case"SHA-384":l.alg="RS384";break;case"SHA-512":l.alg="RS512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}o=n.toJSON();for(p=0,q=Object.keys(o);p<q.length;p++){m=q[p];l[m]=o[m]}break;case"ECDSA":j=["sign"];case"ECDH":l={kty:"EC",ext:i,key_ops:j};if(n.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")return b("Promise").reject("Incorrect algorithm: "+n.privateKeyAlgorithm.algorithmId);m=n.toJSON();for(q=0,p=Object.keys(m);q<p.length;q++){o=p[q];l[o]=m[o]}break;case"RSA-OAEP":l.kty="RSA";l.ext=i;l.key_ops=j;if(this.name.toLowerCase()==="safari")l.alg="RSA-OAEP";else switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RSA-OAEP";break;case"SHA-256":l.alg="RSA-OAEP-256";break;case"SHA-384":l.alg="RSA-OAEP-384";break;case"SHA-512":l.alg="RSA-OAEP-512";break;default:return b("Promise").reject("Incorrect hash algorithm: "+h.hash.name.toUpperCase())}o=n.toJSON();for(p=0,q=Object.keys(o);p<q.length;p++){m=q[p];l[m]=o[m]}break;case"RSAES-PKCS1-V1_5":j=["decrypt"];l.kty="RSA";l.ext=i;l.key_ops=j;l.alg="PS1";m=n.toJSON();for(q=0,p=Object.keys(m);q<p.length;q++){o=p[q];l[o]=m[o]}break;default:return b("Promise").reject("Incorrect algorithm name: "+h.name.toUpperCase())}break;case"jwk":l=g;break;default:return b("Promise").reject("Incorrect format: "+d)}return this.name.toLowerCase()==="safari"?b("Promise").resolve().then(function(){return k.subtle.importKey("jwk",c.stringToArrayBuffer(JSON.stringify(l)),h,i,j)}).then(function(a){return a},function(){return k.subtle.importKey("jwk",l,h,i,j)}):this.subtle.importKey("jwk",l,h,i,j)};h.exportKey=function(a,d){var g=this.subtle.exportKey("jwk",d);this.name.toLowerCase()==="safari"&&(g=g.then(function(a){return a instanceof ArrayBuffer?JSON.parse(c.arrayBufferToString(a)):a}));switch(a.toLowerCase()){case"raw":return this.subtle.exportKey("raw",d);case"spki":g=g.then(function(a){var c=new e["default"]();try{c.fromJSON(a)}catch(a){return b("Promise").reject("Incorrect key data")}return c.toSchema().toBER(!1)});break;case"pkcs8":g=g.then(function(a){var c=new f["default"]();try{c.fromJSON(a)}catch(a){return b("Promise").reject("Incorrect key data")}return c.toSchema().toBER(!1)});break;case"jwk":break;default:return b("Promise").reject("Incorrect format: "+a)}return g};h.convert=function(a,c,d,e,f,g){var h=this;switch(a.toLowerCase()){case"raw":switch(c.toLowerCase()){case"raw":return b("Promise").resolve(d);case"spki":return b("Promise").resolve().then(function(){return h.importKey("raw",d,e,f,g)}).then(function(a){return h.exportKey("spki",a)});case"pkcs8":return b("Promise").resolve().then(function(){return h.importKey("raw",d,e,f,g)}).then(function(a){return h.exportKey("pkcs8",a)});case"jwk":return b("Promise").resolve().then(function(){return h.importKey("raw",d,e,f,g)}).then(function(a){return h.exportKey("jwk",a)});default:return b("Promise").reject("Incorrect outputFormat: "+c)}case"spki":switch(c.toLowerCase()){case"raw":return b("Promise").resolve().then(function(){return h.importKey("spki",d,e,f,g)}).then(function(a){return h.exportKey("raw",a)});case"spki":return b("Promise").resolve(d);case"pkcs8":return b("Promise").reject("Impossible to convert between SPKI/PKCS8");case"jwk":return b("Promise").resolve().then(function(){return h.importKey("spki",d,e,f,g)}).then(function(a){return h.exportKey("jwk",a)});default:return b("Promise").reject("Incorrect outputFormat: "+c)}case"pkcs8":switch(c.toLowerCase()){case"raw":return b("Promise").resolve().then(function(){return h.importKey("pkcs8",d,e,f,g)}).then(function(a){return h.exportKey("raw",a)});case"spki":return b("Promise").reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return b("Promise").resolve(d);case"jwk":return b("Promise").resolve().then(function(){return h.importKey("pkcs8",d,e,f,g)}).then(function(a){return h.exportKey("jwk",a)});default:return b("Promise").reject("Incorrect outputFormat: "+c)}case"jwk":switch(c.toLowerCase()){case"raw":return b("Promise").resolve().then(function(){return h.importKey("jwk",d,e,f,g)}).then(function(a){return h.exportKey("raw",a)});case"spki":return b("Promise").resolve().then(function(){return h.importKey("jwk",d,e,f,g)}).then(function(a){return h.exportKey("spki",a)});case"pkcs8":return b("Promise").resolve().then(function(){return h.importKey("jwk",d,e,f,g)}).then(function(a){return h.exportKey("pkcs8",a)});case"jwk":return b("Promise").resolve(d);default:return b("Promise").reject("Incorrect outputFormat: "+c)}default:return b("Promise").reject("Incorrect inputFormat: "+a)}};h.encrypt=function(){var a;return(a=this.subtle).encrypt.apply(a,arguments)};h.decrypt=function(){var a;return(a=this.subtle).decrypt.apply(a,arguments)};h.sign=function(){var a;return(a=this.subtle).sign.apply(a,arguments)};h.verify=function(){var a;return(a=this.subtle).verify.apply(a,arguments)};h.digest=function(){var a;return(a=this.subtle).digest.apply(a,arguments)};h.generateKey=function(){var a;return(a=this.subtle).generateKey.apply(a,arguments)};h.deriveKey=function(){var a;return(a=this.subtle).deriveKey.apply(a,arguments)};h.deriveBits=function(){var a;return(a=this.subtle).deriveBits.apply(a,arguments)};h.wrapKey=function(){var a;return(a=this.subtle).wrapKey.apply(a,arguments)};h.unwrapKey=function(){var a;return(a=this.subtle).unwrapKey.apply(a,arguments)};h.getRandomValues=function(a){if("getRandomValues"in this.crypto===!1)throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(a)};h.getAlgorithmByOID=function(a){switch(a){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"};default:}return{}};h.getOIDByAlgorithm=function(a){var b="";switch(a.name.toUpperCase()){case"RSAES-PKCS1-V1_5":b="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.1.1.5";break;case"SHA-256":b="1.2.840.113549.1.1.11";break;case"SHA-384":b="1.2.840.113549.1.1.12";break;case"SHA-512":b="1.2.840.113549.1.1.13";break;default:}break;case"RSA-PSS":b="1.2.840.113549.1.1.10";break;case"RSA-OAEP":b="1.2.840.113549.1.1.7";break;case"ECDSA":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.10045.4.1";break;case"SHA-256":b="1.2.840.10045.4.3.2";break;case"SHA-384":b="1.2.840.10045.4.3.3";break;case"SHA-512":b="1.2.840.10045.4.3.4";break;default:}break;case"ECDH":switch(a.kdf.toUpperCase()){case"SHA-1":b="1.3.133.16.840.63.0.2";break;case"SHA-256":b="1.3.132.1.11.1";break;case"SHA-384":b="1.3.132.1.11.2";break;case"SHA-512":b="1.3.132.1.11.3";break;default:}break;case"AES-CTR":break;case"AES-CBC":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.2";break;case 192:b="2.16.840.1.101.3.4.1.22";break;case 256:b="2.16.840.1.101.3.4.1.42";break;default:}break;case"AES-CMAC":break;case"AES-GCM":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.6";break;case 192:b="2.16.840.1.101.3.4.1.26";break;case 256:b="2.16.840.1.101.3.4.1.46";break;default:}break;case"AES-CFB":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.4";break;case 192:b="2.16.840.1.101.3.4.1.24";break;case 256:b="2.16.840.1.101.3.4.1.44";break;default:}break;case"AES-KW":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.5";break;case 192:b="2.16.840.1.101.3.4.1.25";break;case 256:b="2.16.840.1.101.3.4.1.45";break;default:}break;case"HMAC":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.2.7";break;case"SHA-256":b="1.2.840.113549.2.9";break;case"SHA-384":b="1.2.840.113549.2.10";break;case"SHA-512":b="1.2.840.113549.2.11";break;default:}break;case"DH":b="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":b="1.3.14.3.2.26";break;case"SHA-256":b="2.16.840.1.101.3.4.2.1";break;case"SHA-384":b="2.16.840.1.101.3.4.2.2";break;case"SHA-512":b="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":b="1.2.840.113549.1.5.12";break;case"P-256":b="1.2.840.10045.3.1.7";break;case"P-384":b="1.3.132.0.34";break;case"P-521":b="1.3.132.0.35";break;default:}return b};h.getAlgorithmParameters=function(a,b){var c={algorithm:{},usages:[]};switch(a.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(b.toLowerCase()){case"generatekey":c={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":c={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(b.toLowerCase()){case"sign":case"verify":c={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":c={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":c={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(b.toLowerCase()){case"encrypt":case"decrypt":c={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":c={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":c={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(b.toLowerCase()){case"generatekey":c={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":c={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":c={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(b.toLowerCase()){case"exportkey":case"importkey":case"generatekey":c={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":c={algorithm:{name:"ECDH",namedCurve:"P-256","public":[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":c={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(b.toLowerCase()){case"sign":case"verify":c={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(b.toLowerCase()){case"derivekey":c={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(b.toLowerCase()){case"derivekey":c={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break;default:}return c};h.getHashAlgorithm=function(a){var b="";switch(a.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":b="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":b="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":b="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":b="SHA-512";break;case"1.2.840.113549.1.1.10":try{a=new k["default"]({schema:a.algorithmParams});if("hashAlgorithm"in a){a=this.getAlgorithmByOID(a.hashAlgorithm.algorithmId);if("name"in a===!1)return"";b=a.name}else b="SHA-1"}catch(a){}break;default:}return b};h.encryptEncryptedContentInfo=function(c){var d=this;if(c instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');if("password"in c===!1)return b("Promise").reject('Absent mandatory parameter "password"');if("contentEncryptionAlgorithm"in c===!1)return b("Promise").reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if("hmacHashAlgorithm"in c===!1)return b("Promise").reject('Absent mandatory parameter "hmacHashAlgorithm"');if("iterationCount"in c===!1)return b("Promise").reject('Absent mandatory parameter "iterationCount"');if("contentToEncrypt"in c===!1)return b("Promise").reject('Absent mandatory parameter "contentToEncrypt"');if("contentType"in c===!1)return b("Promise").reject('Absent mandatory parameter "contentType"');var e=this.getOIDByAlgorithm(c.contentEncryptionAlgorithm);if(e==="")return b("Promise").reject('Wrong "contentEncryptionAlgorithm" value');var f=this.getOIDByAlgorithm({name:"PBKDF2"});if(f==="")return b("Promise").reject("Can not find OID for PBKDF2");var g=this.getOIDByAlgorithm({name:"HMAC",hash:{name:c.hmacHashAlgorithm}});if(g==="")return b("Promise").reject('Incorrect value for "hmacHashAlgorithm": '+c.hmacHashAlgorithm);var h=b("Promise").resolve(),k=new ArrayBuffer(16),n=new Uint8Array(k);this.getRandomValues(n);var o=new ArrayBuffer(64),p=new Uint8Array(o);this.getRandomValues(p);var q=new Uint8Array(c.contentToEncrypt),r=new l["default"]({salt:new a.OctetString({valueHex:o}),iterationCount:c.iterationCount,prf:new i["default"]({algorithmId:g,algorithmParams:new a.Null()})});h=h.then(function(){var a=new Uint8Array(c.password);return d.importKey("raw",a,"PBKDF2",!1,["deriveKey"])},function(a){return b("Promise").reject(a)});h=h.then(function(a){return d.deriveKey({name:"PBKDF2",hash:{name:c.hmacHashAlgorithm},salt:p,iterations:c.iterationCount},a,c.contentEncryptionAlgorithm,!1,["encrypt"])},function(a){return b("Promise").reject(a)});h=h.then(function(a){return d.encrypt({name:c.contentEncryptionAlgorithm.name,iv:n},a,q)},function(a){return b("Promise").reject(a)});h=h.then(function(b){var d=new m["default"]({keyDerivationFunc:new i["default"]({algorithmId:f,algorithmParams:r.toSchema()}),encryptionScheme:new i["default"]({algorithmId:e,algorithmParams:new a.OctetString({valueHex:k})})});return new j["default"]({contentType:c.contentType,contentEncryptionAlgorithm:new i["default"]({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:d.toSchema()}),encryptedContent:new a.OctetString({valueHex:b})})},function(a){return b("Promise").reject(a)});return h};h.decryptEncryptedContentInfo=function(a){var d=this;if(a instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');if("password"in a===!1)return b("Promise").reject('Absent mandatory parameter "password"');if("encryptedContentInfo"in a===!1)return b("Promise").reject('Absent mandatory parameter "encryptedContentInfo"');if(a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")return b("Promise").reject('Unknown "contentEncryptionAlgorithm": '+a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var e=b("Promise").resolve(),f;try{f=new m["default"]({schema:a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(a){return b("Promise").reject('Incorrectly encoded "pbes2Parameters"')}var g;try{g=new l["default"]({schema:f.keyDerivationFunc.algorithmParams})}catch(a){return b("Promise").reject('Incorrectly encoded "pbkdf2Params"')}var h=this.getAlgorithmByOID(f.encryptionScheme.algorithmId);if("name"in h===!1)return b("Promise").reject('Incorrect OID for "contentEncryptionAlgorithm": '+f.encryptionScheme.algorithmId);var i=f.encryptionScheme.algorithmParams.valueBlock.valueHex,j=new Uint8Array(i);i=g.salt.valueBlock.valueHex;var k=new Uint8Array(i),n=g.iterationCount,o="SHA-1";if("prf"in g){i=this.getAlgorithmByOID(g.prf.algorithmId);if("name"in i===!1)return b("Promise").reject("Incorrect OID for HMAC hash algorithm");o=i.hash.name}e=e.then(function(){return d.importKey("raw",a.password,"PBKDF2",!1,["deriveKey"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){return d.deriveKey({name:"PBKDF2",hash:{name:o},salt:k,iterations:n},a,h,!1,["decrypt"])},function(a){return b("Promise").reject(a)});e=e.then(function(b){var e=new ArrayBuffer(0);if(a.encryptedContentInfo.encryptedContent.idBlock.isConstructed===!1)e=a.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var f=r(a.encryptedContentInfo.encryptedContent.valueBlock.value),g;try{for(f.s();!(g=f.n()).done;){g=g.value;e=c.utilConcatBuf(e,g.valueBlock.valueHex)}}catch(a){f.e(a)}finally{f.f()}}return d.decrypt({name:h.name,iv:j},b,e)},function(a){return b("Promise").reject(a)});return e};h.stampDataWithPassword=function(a){var c=this;if(a instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');if("password"in a===!1)return b("Promise").reject('Absent mandatory parameter "password"');if("hashAlgorithm"in a===!1)return b("Promise").reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in a===!1)return b("Promise").reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in a===!1)return b("Promise").reject('Absent mandatory parameter "salt"');if("contentToStamp"in a===!1)return b("Promise").reject('Absent mandatory parameter "contentToStamp"');var d;switch(a.hashAlgorithm.toLowerCase()){case"sha-1":d=160;break;case"sha-256":d=256;break;case"sha-384":d=384;break;case"sha-512":d=512;break;default:return b("Promise").reject('Incorrect "parameters.hashAlgorithm" parameter: '+a.hashAlgorithm)}var e=b("Promise").resolve(),f={name:"HMAC",length:d,hash:{name:a.hashAlgorithm}};e=e.then(function(){return u(c,a.hashAlgorithm,d,a.password,a.salt,a.iterationCount)});e=e.then(function(a){return c.importKey("raw",new Uint8Array(a),f,!1,["sign"])});e=e.then(function(b){return c.sign(f,b,new Uint8Array(a.contentToStamp))},function(a){return b("Promise").reject(a)});return e};h.verifyDataStampedWithPassword=function(a){var c=this;if(a instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');if("password"in a===!1)return b("Promise").reject('Absent mandatory parameter "password"');if("hashAlgorithm"in a===!1)return b("Promise").reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in a===!1)return b("Promise").reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in a===!1)return b("Promise").reject('Absent mandatory parameter "salt"');if("contentToVerify"in a===!1)return b("Promise").reject('Absent mandatory parameter "contentToVerify"');if("signatureToVerify"in a===!1)return b("Promise").reject('Absent mandatory parameter "signatureToVerify"');var d;switch(a.hashAlgorithm.toLowerCase()){case"sha-1":d=160;break;case"sha-256":d=256;break;case"sha-384":d=384;break;case"sha-512":d=512;break;default:return b("Promise").reject('Incorrect "parameters.hashAlgorithm" parameter: '+a.hashAlgorithm)}var e=b("Promise").resolve(),f={name:"HMAC",length:d,hash:{name:a.hashAlgorithm}};e=e.then(function(){return u(c,a.hashAlgorithm,d,a.password,a.salt,a.iterationCount)});e=e.then(function(a){return c.importKey("raw",new Uint8Array(a),f,!1,["verify"])});e=e.then(function(b){return c.verify(f,b,new Uint8Array(a.signatureToVerify),new Uint8Array(a.contentToVerify))},function(a){return b("Promise").reject(a)});return e};h.getSignatureParameters=function(c,d){d===void 0&&(d="SHA-1");var e=this.getOIDByAlgorithm({name:d});if(e==="")return b("Promise").reject("Unsupported hash algorithm: "+d);var f=new i["default"](),g=this.getAlgorithmParameters(c.algorithm.name,"sign");g.algorithm.hash.name=d;switch(c.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":f.algorithmId=this.getOIDByAlgorithm(g.algorithm);break;case"RSA-PSS":switch(d.toUpperCase()){case"SHA-256":g.algorithm.saltLength=32;break;case"SHA-384":g.algorithm.saltLength=48;break;case"SHA-512":g.algorithm.saltLength=64;break;default:}e={};if(d.toUpperCase()!=="SHA-1"){var h=this.getOIDByAlgorithm({name:d});if(h==="")return b("Promise").reject("Unsupported hash algorithm: "+d);e.hashAlgorithm=new i["default"]({algorithmId:h,algorithmParams:new a.Null()});e.maskGenAlgorithm=new i["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:e.hashAlgorithm.toSchema()})}g.algorithm.saltLength!==20&&(e.saltLength=g.algorithm.saltLength);d=new k["default"](e);f.algorithmId="1.2.840.113549.1.1.10";f.algorithmParams=d.toSchema();break;default:return b("Promise").reject("Unsupported signature algorithm: "+c.algorithm.name)}return b("Promise").resolve().then(function(){return{signatureAlgorithm:f,parameters:g}})};h.signWithPrivateKey=function(a,c,e){return this.sign(e.algorithm,c,new Uint8Array(a)).then(function(a){e.algorithm.name==="ECDSA"&&(a=d.createCMSECDSASignature(a));return a},function(a){return b("Promise").reject("Signing error: "+a)})};h.fillPublicKeyParameters=function(a,c){var d={},e=this.getHashAlgorithm(c);if(e==="")return b("Promise").reject("Unsupported signature algorithm: "+c.algorithmId);var f;c.algorithmId==="1.2.840.113549.1.1.10"?f=c.algorithmId:f=a.algorithm.algorithmId;f=this.getAlgorithmByOID(f);if("name"in f==="")return b("Promise").reject("Unsupported public key algorithm: "+c.algorithmId);d.algorithm=this.getAlgorithmParameters(f.name,"importkey");"hash"in d.algorithm.algorithm&&(d.algorithm.algorithm.hash.name=e);if(f.name==="ECDSA"){c=!1;"algorithmParams"in a.algorithm===!0&&("idBlock"in a.algorithm.algorithmParams&&(a.algorithm.algorithmParams.idBlock.tagClass===1&&a.algorithm.algorithmParams.idBlock.tagNumber===6&&(c=!0)));if(c===!1)return b("Promise").reject("Incorrect type for ECDSA public key parameters");e=this.getAlgorithmByOID(a.algorithm.algorithmParams.valueBlock.toString());if("name"in e===!1)return b("Promise").reject("Unsupported named curve algorithm: "+a.algorithm.algorithmParams.valueBlock.toString());d.algorithm.algorithm.namedCurve=e.name}return d};h.getPublicKey=function(a,b,c){c===void 0&&(c=null);c===null&&(c=this.fillPublicKeyParameters(a,b));b=a.toSchema();a=b.toBER(!1);b=new Uint8Array(a);return this.importKey("spki",b,c.algorithm.algorithm,!0,c.algorithm.usages)};h.verifyWithPublicKey=function(c,e,f,g,h){var i=this;h===void 0&&(h=null);var j=b("Promise").resolve();if(h===null){h=this.getHashAlgorithm(g);if(h==="")return b("Promise").reject("Unsupported signature algorithm: "+g.algorithmId);j=j.then(function(){return i.getPublicKey(f,g)})}else{var l={},m;g.algorithmId==="1.2.840.113549.1.1.10"?m=g.algorithmId:m=f.algorithm.algorithmId;m=this.getAlgorithmByOID(m);if("name"in m==="")return b("Promise").reject("Unsupported public key algorithm: "+g.algorithmId);l.algorithm=this.getAlgorithmParameters(m.name,"importkey");"hash"in l.algorithm.algorithm&&(l.algorithm.algorithm.hash.name=h);if(m.name==="ECDSA"){m=!1;"algorithmParams"in f.algorithm===!0&&("idBlock"in f.algorithm.algorithmParams&&(f.algorithm.algorithmParams.idBlock.tagClass===1&&f.algorithm.algorithmParams.idBlock.tagNumber===6&&(m=!0)));if(m===!1)return b("Promise").reject("Incorrect type for ECDSA public key parameters");m=this.getAlgorithmByOID(f.algorithm.algorithmParams.valueBlock.toString());if("name"in m===!1)return b("Promise").reject("Unsupported named curve algorithm: "+f.algorithm.algorithmParams.valueBlock.toString());l.algorithm.algorithm.namedCurve=m.name}j=j.then(function(){return i.getPublicKey(f,null,l)})}j=j.then(function(f){var j=i.getAlgorithmParameters(f.algorithm.name,"verify");"hash"in j.algorithm&&(j.algorithm.hash.name=h);var l=e.valueBlock.valueHex;if(f.algorithm.name==="ECDSA"){var m=a.fromBER(l);l=d.createECDSASignatureFromCMS(m.result)}if(f.algorithm.name==="RSA-PSS"){var n;try{n=new k["default"]({schema:g.algorithmParams})}catch(a){return b("Promise").reject(a)}"saltLength"in n?j.algorithm.saltLength=n.saltLength:j.algorithm.saltLength=20;m="SHA-1";if("hashAlgorithm"in n){var o=i.getAlgorithmByOID(n.hashAlgorithm.algorithmId);if("name"in o===!1)return b("Promise").reject("Unrecognized hash algorithm: "+n.hashAlgorithm.algorithmId);m=o.name}j.algorithm.hash.name=m}return i.verify(j.algorithm,f,new Uint8Array(l),new Uint8Array(c))});return j};return g}();Da["default"]=q}var U=!1;function Fa(){U||(U=!0,Ea());return T.exports}var V={},Ga={exports:V};function Ha(){Object.defineProperty(V,"__esModule",{value:!0});V.createCMSECDSASignature=u;V.createECDSASignatureFromCMS=w;V.getAlgorithmByOID=x;V.getAlgorithmParameters=t;V.getCrypto=q;V.getEngine=p;V.getHashAlgorithm=y;V.getOIDByAlgorithm=s;V.getRandomValues=r;V.kdf=A;V.kdfWithCounter=z;V.setEngine=o;V.stringPrep=v;var c=j(g()),d=h(),e=f(Fa());function f(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(i=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=i(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function k(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=l(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function l(a,b){if(!a)return;if(typeof a==="string")return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return m(a,b)}function m(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var n={name:"none",crypto:null,subtle:null};function o(b,c,d){if(typeof process!=="undefined"&&"pid"in process&&typeof a!=="undefined"&&typeof window==="undefined"){if(typeof a[process.pid]==="undefined")a[process.pid]={};else if(typeof a[process.pid]!=="object")throw new Error("Name global."+process.pid+" already exists and it is not an object");if(typeof a[process.pid].pkijs==="undefined")a[process.pid].pkijs={};else if(typeof a[process.pid].pkijs!=="object")throw new Error("Name global."+process.pid+".pkijs already exists and it is not an object");a[process.pid].pkijs.engine={name:b,crypto:c,subtle:d}}else n.name!==b&&(n={name:b,crypto:c,subtle:d})}function p(){if(typeof process!=="undefined"&&"pid"in process&&typeof a!=="undefined"&&typeof window==="undefined"){var b;try{b=a[process.pid].pkijs.engine}catch(a){throw new Error('Please call "setEngine" before call to "getEngine"')}return b}return n}(function(){if(typeof self!=="undefined"&&"crypto"in self){var a="webcrypto",b=self.crypto,c;if("webkitSubtle"in self.crypto){try{c=self.crypto.webkitSubtle}catch(a){c=self.crypto.subtle}a="safari"}"subtle"in self.crypto&&(c=self.crypto.subtle);typeof c==="undefined"?n={name:a,crypto:b,subtle:null}:n={name:a,crypto:b,subtle:new e["default"]({name:a,crypto:self.crypto,subtle:c})}}o(n.name,n.crypto,n.subtle)})();function q(){var a=p();return a.subtle!==null?a.subtle:void 0}function r(a){return p().subtle.getRandomValues(a)}function s(a){return p().subtle.getOIDByAlgorithm(a)}function t(a,b){return p().subtle.getAlgorithmParameters(a,b)}function u(a){if(a.byteLength%2!==0)return new ArrayBuffer(0);var b=a.byteLength/2,d=new ArrayBuffer(b),e=new Uint8Array(d);e.set(new Uint8Array(a,0,b));e=new c.Integer({valueHex:d});d=new ArrayBuffer(b);var f=new Uint8Array(d);f.set(new Uint8Array(a,b,b));f=new c.Integer({valueHex:d});return new c.Sequence({value:[e.convertToDER(),f.convertToDER()]}).toBER(!1)}function v(a){var b=!1,c="";a=a.trim();for(var d=0;d<a.length;d++)a.charCodeAt(d)===32?b===!1&&(b=!0):(b&&(c+=" ",b=!1),c+=a[d]);return c.toLowerCase()}function w(a){if(a instanceof c.Sequence===!1)return new ArrayBuffer(0);if(a.valueBlock.value.length!==2)return new ArrayBuffer(0);if(a.valueBlock.value[0]instanceof c.Integer===!1)return new ArrayBuffer(0);if(a.valueBlock.value[1]instanceof c.Integer===!1)return new ArrayBuffer(0);var b=a.valueBlock.value[0].convertFromDER();a=a.valueBlock.value[1].convertFromDER();switch(!0){case b.valueBlock.valueHex.byteLength<a.valueBlock.valueHex.byteLength:if(a.valueBlock.valueHex.byteLength-b.valueBlock.valueHex.byteLength!==1)throw new Error("Incorrect DER integer decoding");var e=a.valueBlock.valueHex.byteLength,f=new Uint8Array(b.valueBlock.valueHex);e=new ArrayBuffer(e);var g=new Uint8Array(e);g.set(f,1);g[0]=0;return d.utilConcatBuf(e,a.valueBlock.valueHex);case b.valueBlock.valueHex.byteLength>a.valueBlock.valueHex.byteLength:if(b.valueBlock.valueHex.byteLength-a.valueBlock.valueHex.byteLength!==1)throw new Error("Incorrect DER integer decoding");f=b.valueBlock.valueHex.byteLength;g=new Uint8Array(a.valueBlock.valueHex);e=new ArrayBuffer(f);f=new Uint8Array(e);f.set(g,1);f[0]=0;return d.utilConcatBuf(b.valueBlock.valueHex,e);default:if(b.valueBlock.valueHex.byteLength%2){g=b.valueBlock.valueHex.byteLength+1;f=new Uint8Array(b.valueBlock.valueHex);e=new ArrayBuffer(g);var h=new Uint8Array(e);h.set(f,1);h[0]=0;f=new Uint8Array(a.valueBlock.valueHex);h=new ArrayBuffer(g);g=new Uint8Array(h);g.set(f,1);g[0]=0;return d.utilConcatBuf(e,h)}}return d.utilConcatBuf(b.valueBlock.valueHex,a.valueBlock.valueHex)}function x(a){return p().subtle.getAlgorithmByOID(a)}function y(a){return p().subtle.getHashAlgorithm(a)}function z(a,c,e,f){switch(a.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:return b("Promise").reject("Unknown hash function: "+a)}if(c instanceof ArrayBuffer===!1)return b("Promise").reject('Please set "Zbuffer" as "ArrayBuffer"');if(c.byteLength===0)return b("Promise").reject('"Zbuffer" has zero length, error');if(f instanceof ArrayBuffer===!1)return b("Promise").reject('Please set "SharedInfo" as "ArrayBuffer"');if(e>255)return b("Promise").reject('Please set "Counter" variable to value less or equal to 255');var g=new ArrayBuffer(4),h=new Uint8Array(g);h[0]=0;h[1]=0;h[2]=0;h[3]=e;h=new ArrayBuffer(0);var i=q();if(typeof i==="undefined")return b("Promise").reject("Unable to create WebCrypto object");h=d.utilConcatBuf(h,c);h=d.utilConcatBuf(h,g);h=d.utilConcatBuf(h,f);return i.digest({name:a},h).then(function(a){return{counter:e,result:a}})}function A(a,c,e,f){var g=0,h=1,i=[];switch(a.toUpperCase()){case"SHA-1":g=160;break;case"SHA-256":g=256;break;case"SHA-384":g=384;break;case"SHA-512":g=512;break;default:return b("Promise").reject("Unknown hash function: "+a)}if(c instanceof ArrayBuffer===!1)return b("Promise").reject('Please set "Zbuffer" as "ArrayBuffer"');if(c.byteLength===0)return b("Promise").reject('"Zbuffer" has zero length, error');if(f instanceof ArrayBuffer===!1)return b("Promise").reject('Please set "SharedInfo" as "ArrayBuffer"');g=e/g;Math.floor(g)>0&&(h=Math.floor(g),g-h>0&&h++);for(g=1;g<=h;g++)i.push(z(a,c,g,f));return b("Promise").all(i).then(function(a){var b=new ArrayBuffer(0),c=1,f=!0;while(f){f=!1;var g=k(a),h;try{for(g.s();!(h=g.n()).done;){h=h.value;if(h.counter===c){b=d.utilConcatBuf(b,h.result);f=!0;break}}}catch(a){g.e(a)}finally{g.f()}c++}e>>=3;if(b.byteLength>e){h=new ArrayBuffer(e);g=new Uint8Array(h);c=new Uint8Array(b);for(f=0;f<e;f++)g[f]=c[f];return h}return b})}}var Ia=!1;function W(){Ia||(Ia=!0,Ha());return Ga.exports}var X={},Y={exports:X};function Ja(){Object.defineProperty(X,"__esModule",{value:!0});X["default"]=void 0;var a=e(g()),b=h(),c=W();function d(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(d=function(a){return a?c:b})(a)}function e(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=d(b);if(b&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function f(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=i(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function i(a,b){if(!a)return;if(typeof a==="string")return j(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return j(a,b)}function j(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}e=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.value=b.getParametersValue(a,"value",d.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return"";case"value":return{};default:throw new Error("Invalid member name for AttributeTypeAndValue class: "+a)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.type||""}),new a.Any({name:c.value||""})]})};d.blockName=function(){return"AttributeTypeAndValue"};var e=d.prototype;e.fromSchema=function(c){b.clearProps(c,["type","typeValue"]);c=a.compareSchema(c,c,d.schema({names:{type:"type",value:"typeValue"}}));if(c.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=c.result.type.valueBlock.toString();this.value=c.result.typeValue};e.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.type}),this.value]})};e.toJSON=function(){var a={type:this.type};Object.keys(this.value).length!==0?a.value=this.value.toJSON():a.value=this.value;return a};e.isEqual=function(e){var g=[a.Utf8String.blockName(),a.BmpString.blockName(),a.UniversalString.blockName(),a.NumericString.blockName(),a.PrintableString.blockName(),a.TeletexString.blockName(),a.VideotexString.blockName(),a.IA5String.blockName(),a.GraphicString.blockName(),a.VisibleString.blockName(),a.GeneralString.blockName(),a.CharacterString.blockName()];if(e.constructor.blockName()===d.blockName()){if(this.type!==e.type)return!1;var h=[!1,!1],i=this.value.constructor.blockName();g=f(g);var j;try{for(g.s();!(j=g.n()).done;){j=j.value;i===j&&(h[0]=!0);e.value.constructor.blockName()===j&&(h[1]=!0)}}catch(a){g.e(a)}finally{g.f()}if(h[0]^h[1])return!1;h=h[0]&&h[1];if(h){j=c.stringPrep(this.value.valueBlock.value);i=c.stringPrep(e.value.valueBlock.value);if(j.localeCompare(i)!==0)return!1}else if(b.isEqualBuffer(this.value.valueBeforeDecode,e.value.valueBeforeDecode)===!1)return!1;return!0}return e instanceof ArrayBuffer?b.isEqualBuffer(this.value.valueBeforeDecode,e):!1};return d}();X["default"]=e}var Ka=!1;function La(){Ka||(Ka=!0,Ja());return Y.exports}var Ma={},Na={exports:Ma};function Oa(){Object.defineProperty(Ma,"__esModule",{value:!0});Ma["default"]=void 0;var a=f(g()),b=h(),c=d(La());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function i(a,b){return l(a)||k(a,b)||n(a,b)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function l(a){if(Array.isArray(a))return a}function m(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=n(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function n(a,b){if(!a)return;if(typeof a==="string")return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}function o(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}f=function(){function d(a){a===void 0&&(a={}),this.typesAndValues=b.getParametersValue(a,"typesAndValues",d.defaultValues("typesAndValues")),this.valueBeforeDecode=b.getParametersValue(a,"valueBeforeDecode",d.defaultValues("valueBeforeDecode")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error("Invalid member name for RelativeDistinguishedNames class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"typesAndValues":return b.length===0;case"valueBeforeDecode":return b.byteLength===0;default:throw new Error("Invalid member name for RelativeDistinguishedNames class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.repeatedSequence||"",value:new a.Set({value:[new a.Repeated({name:d.repeatedSet||"",value:c["default"].schema(d.typeAndValue||{})})]})})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["RDN","typesAndValues"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in e.result&&(this.typesAndValues=Array.from(e.result.typesAndValues,function(a){return new c["default"]({schema:a})}));this.valueBeforeDecode=e.result.RDN.valueBeforeDecode};e.toSchema=function(){if(this.valueBeforeDecode.byteLength===0)return new a.Sequence({value:[new a.Set({value:Array.from(this.typesAndValues,function(a){return a.toSchema()})})]});var b=a.fromBER(this.valueBeforeDecode);return b.result};e.toJSON=function(){return{typesAndValues:Array.from(this.typesAndValues,function(a){return a.toJSON()})}};e.isEqual=function(a){if(a instanceof d){if(this.typesAndValues.length!==a.typesAndValues.length)return!1;var c=m(this.typesAndValues.entries()),e;try{for(c.s();!(e=c.n()).done;){e=i(e.value,2);var f=e[0];e=e[1];if(e.isEqual(a.typesAndValues[f])===!1)return!1}}catch(a){c.e(a)}finally{c.f()}return!0}return a instanceof ArrayBuffer?b.isEqualBuffer(this.valueBeforeDecode,a):!1};return d}();Ma["default"]=f}var Pa=!1;function Qa(){Pa||(Pa=!0,Oa());return Na.exports}var Ra={},Sa={exports:Ra};function Ta(){Object.defineProperty(Ra,"__esModule",{value:!0});Ra["default"]=void 0;var a=f(g()),b=h(),c=d(Qa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function i(c,d){c===void 0&&(c={});d===void 0&&(d=!1);c=b.getParametersValue(c,"names",{});return new a.Sequence({optional:d,value:[new a.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:c.country_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:c.administration_domain_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:c.network_address||"",isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:c.terminal_identifier||"",isHexOnly:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:c.private_domain_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:c.organization_name||"",isHexOnly:!0}),new a.Primitive({optional:!0,name:c.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new a.Constructed({optional:!0,name:c.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new a.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new a.Constructed({optional:!0,name:c.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new a.Repeated({value:new a.PrintableString()})]})]})}function j(b){b===void 0&&(b=!1);return new a.Sequence({optional:b,value:[new a.PrintableString(),new a.PrintableString()]})}function k(b){b===void 0&&(b=!1);return new a.Set({optional:b,value:[new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Any()]})]})}f=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.value=b.getParametersValue(a,"value",d.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return 9;case"value":return{};default:throw new Error("Invalid member name for GeneralName class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"type":return b===d.defaultValues(a);case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for GeneralName class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Choice({value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},name:d.blockName||"",value:[new a.ObjectIdentifier(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any()]})]}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},name:d.blockName||"",value:[i(d.builtInStandardAttributes||{},!1),j(!0),k(!0)]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:4},name:d.blockName||"",value:[c["default"].schema(d.directoryName||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:5},name:d.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.TeletexString(),new a.PrintableString(),new a.UniversalString(),new a.Utf8String(),new a.BmpString()]})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.Choice({value:[new a.TeletexString(),new a.PrintableString(),new a.UniversalString(),new a.Utf8String(),new a.BmpString()]})]})]}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralName");this.type=e.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=e.result.blockName;break;case 1:case 2:case 6:var f=e.result.blockName;f.idBlock.tagClass=1;f.idBlock.tagNumber=22;f=f.toBER(!1);this.value=a.fromBER(f).result.valueBlock.value;break;case 3:this.value=e.result.blockName;break;case 4:this.value=new c["default"]({schema:e.result.directoryName});break;case 5:this.value=e.result.ediPartyName;break;case 7:this.value=new a.OctetString({valueHex:e.result.blockName.valueBlock.valueHex});break;case 8:f=e.result.blockName;f.idBlock.tagClass=1;f.idBlock.tagNumber=6;e=f.toBER(!1);this.value=a.fromBER(e).result.valueBlock.toString();break;default:}};e.toSchema=function(){switch(this.type){case 0:case 3:case 5:return new a.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var b=new a.IA5String({value:this.value});b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;case 4:return new a.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:b=this.value;b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;case 8:b=new a.ObjectIdentifier({value:this.value});b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;default:return d.schema()}};e.toJSON=function(){var a={type:this.type,value:""};if(typeof this.value==="string")a.value=this.value;else try{a.value=this.value.toJSON()}catch(a){}return a};return d}();Ra["default"]=f}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return Sa.exports}var Wa={},Xa={exports:Wa};function Ya(){Object.defineProperty(Wa,"__esModule",{value:!0});Wa["default"]=void 0;var a=f(g()),b=h(),c=d(Va());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.accessMethod=b.getParametersValue(a,"accessMethod",d.defaultValues("accessMethod")),this.accessLocation=b.getParametersValue(a,"accessLocation",d.defaultValues("accessLocation")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"accessMethod":return"";case"accessLocation":return new c["default"]();default:throw new Error("Invalid member name for AccessDescription class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.accessMethod||""}),c["default"].schema(d.accessLocation||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["accessMethod","accessLocation"]);e=a.compareSchema(e,e,d.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=e.result.accessMethod.valueBlock.toString();this.accessLocation=new c["default"]({schema:e.result.accessLocation})};e.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})};e.toJSON=function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}};return d}();Wa["default"]=f}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}var ab={},bb={exports:ab};function cb(){Object.defineProperty(ab,"__esModule",{value:!0});ab["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"seconds"in a&&(this.seconds=b.getParametersValue(a,"seconds",c.defaultValues("seconds"))),"millis"in a&&(this.millis=b.getParametersValue(a,"millis",c.defaultValues("millis"))),"micros"in a&&(this.micros=b.getParametersValue(a,"micros",c.defaultValues("micros"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"seconds":case"millis":case"micros":return 0;default:throw new Error("Invalid member name for Accuracy class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"seconds":case"millis":case"micros":return b===c.defaultValues(a);default:throw new Error("Invalid member name for Accuracy class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",optional:!0,value:[new a.Integer({optional:!0,name:c.seconds||""}),new a.Primitive({name:c.millis||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.micros||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["seconds","millis","micros"]);d=a.compareSchema(d,d,c.schema({names:{seconds:"seconds",millis:"millis",micros:"micros"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Accuracy");"seconds"in d.result&&(this.seconds=d.result.seconds.valueBlock.valueDec);if("millis"in d.result){var e=new a.Integer({valueHex:d.result.millis.valueBlock.valueHex});this.millis=e.valueBlock.valueDec}if("micros"in d.result){e=new a.Integer({valueHex:d.result.micros.valueBlock.valueHex});this.micros=e.valueBlock.valueDec}};d.toSchema=function(){var b=[];"seconds"in this&&b.push(new a.Integer({value:this.seconds}));if("millis"in this){var c=new a.Integer({value:this.millis});b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:c.valueBlock.valueHex}))}if("micros"in this){c=new a.Integer({value:this.micros});b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:c.valueBlock.valueHex}))}return new a.Sequence({value:b})};d.toJSON=function(){var a={};"seconds"in this&&(a.seconds=this.seconds);"millis"in this&&(a.millis=this.millis);"micros"in this&&(a.micros=this.micros);return a};return c}();ab["default"]=d}var db=!1;function eb(){db||(db=!0,cb());return bb.exports}var fb={},gb={exports:fb};function hb(){Object.defineProperty(fb,"__esModule",{value:!0});fb["default"]=void 0;var a=f(g()),b=h(),c=d(Va());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.altNames=b.getParametersValue(a,"altNames",d.defaultValues("altNames")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"altNames":return[];default:throw new Error("Invalid member name for AltName class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.altNames||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["altNames"]);e=a.compareSchema(e,e,d.schema({names:{altNames:"altNames"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in e.result&&(this.altNames=Array.from(e.result.altNames,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){return new a.Sequence({value:Array.from(this.altNames,function(a){return a.toSchema()})})};e.toJSON=function(){return{altNames:Array.from(this.altNames,function(a){return a.toJSON()})}};return d}();fb["default"]=f}var ib=!1;function jb(){ib||(ib=!0,hb());return gb.exports}var kb={},lb={exports:kb};function mb(){Object.defineProperty(kb,"__esModule",{value:!0});kb["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.contentType=b.getParametersValue(a,"contentType",c.defaultValues("contentType")),this.content=b.getParametersValue(a,"content",c.defaultValues("content")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"contentType":return"";case"content":return new a.Any();default:throw new Error("Invalid member name for ContentInfo class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"contentType":return c==="";case"content":return c instanceof a.Any;default:throw new Error("Invalid member name for ContentInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});"optional"in c===!1&&(c.optional=!1);return new a.Sequence({name:c.blockName||"ContentInfo",optional:c.optional,value:[new a.ObjectIdentifier({name:c.contentType||"contentType"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.content||"content"})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["contentType","content"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ContentInfo");this.contentType=d.result.contentType.valueBlock.toString();this.content=d.result.content};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.contentType}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})};d.toJSON=function(){var b={contentType:this.contentType};this.content instanceof a.Any||(b.content=this.content.toJSON());return b};return c}();kb["default"]=d}var nb=!1;function ob(){nb||(nb=!0,mb());return lb.exports}var pb={},qb={exports:pb};function rb(){Object.defineProperty(pb,"__esModule",{value:!0});pb["default"]=void 0;var a=k(g()),c=h(),d=W(),e=i(sa()),f=i(H());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.encryptedContentInfo=c.getParametersValue(a,"encryptedContentInfo",g.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in a&&(this.unprotectedAttrs=c.getParametersValue(a,"unprotectedAttrs",g.defaultValues("unprotectedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"version":return 0;case"encryptedContentInfo":return new e["default"]();case"unprotectedAttrs":return[];default:throw new Error("Invalid member name for EncryptedData class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===0;case"encryptedContentInfo":return e["default"].compareWithDefault("contentType",b.contentType)&&e["default"].compareWithDefault("contentEncryptionAlgorithm",b.contentEncryptionAlgorithm)&&e["default"].compareWithDefault("encryptedContent",b.encryptedContent);case"unprotectedAttrs":return b.length===0;default:throw new Error("Invalid member name for EncryptedData class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||""}),e["default"].schema(b.encryptedContentInfo||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.unprotectedAttrs||"",value:f["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["version","encryptedContentInfo","unprotectedAttrs"]);b=a.compareSchema(b,b,g.schema({names:{version:"version",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for EncryptedData");this.version=b.result.version.valueBlock.valueDec;this.encryptedContentInfo=new e["default"]({schema:b.result.encryptedContentInfo});"unprotectedAttrs"in b.result&&(this.unprotectedAttrs=Array.from(b.result.unprotectedAttrs,function(a){return new f["default"]({schema:a})}))};h.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.encryptedContentInfo.toSchema());"unprotectedAttrs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};"unprotectedAttrs"in this&&(a.unprotectedAttrs=Array.from(this.unprotectedAttrs,function(a){return a.toJSON()}));return a};h.encrypt=function(a){var c=this;if(a instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');var e=d.getEngine();if(typeof e==="undefined")return b("Promise").reject("Unable to initialize cryptographic engine");a.contentType="1.2.840.113549.1.7.1";return"encryptEncryptedContentInfo"in e.subtle?e.subtle.encryptEncryptedContentInfo(a).then(function(a){c.encryptedContentInfo=a}):b("Promise").reject('No support for "encryptEncryptedContentInfo" in current crypto engine '+e.name)};h.decrypt=function(a){if(a instanceof Object===!1)return b("Promise").reject('Parameters must have type "Object"');var c=d.getEngine();if(typeof c==="undefined")return b("Promise").reject("Unable to initialize cryptographic engine");a.encryptedContentInfo=this.encryptedContentInfo;return"decryptEncryptedContentInfo"in c.subtle?c.subtle.decryptEncryptedContentInfo(a):b("Promise").reject('No support for "decryptEncryptedContentInfo" in current crypto engine '+c.name)};return g}();pb["default"]=k}var sb=!1;function tb(){sb||(sb=!0,rb());return qb.exports}var ub={},vb={exports:ub};function wb(){Object.defineProperty(ub,"__esModule",{value:!0});ub["default"]=void 0;var a=l(g()),c=h(),d=j(n()),e=j(tb()),f=j(sa()),i=j(oa());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function g(a){a===void 0&&(a={}),this.encryptionAlgorithm=c.getParametersValue(a,"encryptionAlgorithm",g.defaultValues("encryptionAlgorithm")),this.encryptedData=c.getParametersValue(a,"encryptedData",g.defaultValues("encryptedData")),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",g.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"encryptionAlgorithm":return new d["default"]();case"encryptedData":return new a.OctetString();case"parsedValue":return{};default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"encryptionAlgorithm":return d["default"].compareWithDefault("algorithmId",b.algorithmId)&&"algorithmParams"in b===!1;case"encryptedData":return b.isEqual(g.defaultValues(a));case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[d["default"].schema(b.encryptionAlgorithm||{names:{blockName:"encryptionAlgorithm"}}),new a.Choice({value:[new a.OctetString({name:b.encryptedData||"encryptedData"}),new a.OctetString({idBlock:{isConstructed:!0},name:b.encryptedData||"encryptedData"})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["encryptionAlgorithm","encryptedData"]);b=a.compareSchema(b,b,g.schema({names:{encryptionAlgorithm:{names:{blockName:"encryptionAlgorithm"}},encryptedData:"encryptedData"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PKCS8ShroudedKeyBag");this.encryptionAlgorithm=new d["default"]({schema:b.result.encryptionAlgorithm});this.encryptedData=b.result.encryptedData};h.toSchema=function(){return new a.Sequence({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})};h.toJSON=function(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}};h.parseInternalValues=function(c){var d=this,g=b("Promise").resolve(),h=new e["default"]({encryptedContentInfo:new f["default"]({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})});g=g.then(function(){return h.decrypt(c)},function(a){return b("Promise").reject(a)});g=g.then(function(c){c=a.fromBER(c);if(c.offset===-1)return b("Promise").reject("Error during parsing ASN.1 data");d.parsedValue=new i["default"]({schema:c.result});return b("Promise").resolve()},function(a){return b("Promise").reject(a)});return g};h.makeInternalValues=function(a){var c=this;if("parsedValue"in this===!1)return b("Promise").reject('Please initialize "parsedValue" first');var d=b("Promise").resolve(),f=new e["default"]();d=d.then(function(){a.contentToEncrypt=c.parsedValue.toSchema().toBER(!1);return f.encrypt(a)},function(a){return b("Promise").reject(a)});d=d.then(function(){c.encryptionAlgorithm=f.encryptedContentInfo.contentEncryptionAlgorithm,c.encryptedData=f.encryptedContentInfo.encryptedContent});return d};return g}();ub["default"]=l}var xb=!1;function yb(){xb||(xb=!0,wb());return vb.exports}var zb={},Ab={exports:zb};function Bb(){Object.defineProperty(zb,"__esModule",{value:!0});zb["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",c.defaultValues("type")),this.value=b.getParametersValue(a,"value",c.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error("Invalid member name for Time class: "+a)}};c.schema=function(c,d){c===void 0&&(c={});d===void 0&&(d=!1);c=b.getParametersValue(c,"names",{});return new a.Choice({optional:d,value:[new a.UTCTime({name:c.utcTimeName||""}),new a.GeneralizedTime({name:c.generalTimeName||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["utcTimeName","generalTimeName"]);d=a.compareSchema(d,d,c.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in d.result&&(this.type=0,this.value=d.result.utcTimeName.toDate());"generalTimeName"in d.result&&(this.type=1,this.value=d.result.generalTimeName.toDate())};d.toSchema=function(){var b={};this.type===0&&(b=new a.UTCTime({valueDate:this.value}));this.type===1&&(b=new a.GeneralizedTime({valueDate:this.value}));return b};d.toJSON=function(){return{type:this.type,value:this.value}};return c}();zb["default"]=d}var Cb=!1;function Db(){Cb||(Cb=!0,Bb());return Ab.exports}var Z={},Eb={exports:Z};function Fb(){Object.defineProperty(Z,"__esModule",{value:!0});Z["default"]=void 0;var a=f(g()),b=h(),c=d(H());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.attributes=b.getParametersValue(a,"attributes",d.defaultValues("attributes")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"attributes":return[];default:throw new Error("Invalid member name for SubjectDirectoryAttributes class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.attributes||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["attributes"]);e=a.compareSchema(e,e,d.schema({names:{attributes:"attributes"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(e.result.attributes,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})};e.toJSON=function(){return{attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};return d}();Z["default"]=f}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return Eb.exports}var Ib={},Jb={exports:Ib};function Kb(){Object.defineProperty(Ib,"__esModule",{value:!0});Ib["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"notBefore"in a&&(this.notBefore=b.getParametersValue(a,"notBefore",c.defaultValues("notBefore"))),"notAfter"in a&&(this.notAfter=b.getParametersValue(a,"notAfter",c.defaultValues("notAfter"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"notBefore":return new Date();case"notAfter":return new Date();default:throw new Error("Invalid member name for PrivateKeyUsagePeriod class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Primitive({name:c.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["notBefore","notAfter"]);d=a.compareSchema(d,d,c.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in d.result){var e=new a.GeneralizedTime();e.fromBuffer(d.result.notBefore.valueBlock.valueHex);this.notBefore=e.toDate()}if("notAfter"in d.result){e=new a.GeneralizedTime({valueHex:d.result.notAfter.valueBlock.valueHex});e.fromBuffer(d.result.notAfter.valueBlock.valueHex);this.notAfter=e.toDate()}};d.toSchema=function(){var b=[];"notBefore"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:new a.GeneralizedTime({valueDate:this.notBefore}).valueBlock.valueHex}));"notAfter"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new a.GeneralizedTime({valueDate:this.notAfter}).valueBlock.valueHex}));return new a.Sequence({value:b})};d.toJSON=function(){var a={};"notBefore"in this&&(a.notBefore=this.notBefore);"notAfter"in this&&(a.notAfter=this.notAfter);return a};return c}();Ib["default"]=d}var Lb=!1;function Mb(){Lb||(Lb=!0,Kb());return Jb.exports}var Nb={},Ob={exports:Nb};function Pb(){Object.defineProperty(Nb,"__esModule",{value:!0});Nb["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.cA=b.getParametersValue(a,"cA",!1),"pathLenConstraint"in a&&(this.pathLenConstraint=b.getParametersValue(a,"pathLenConstraint",0)),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"cA":return!1;default:throw new Error("Invalid member name for BasicConstraints class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Boolean({optional:!0,name:c.cA||""}),new a.Integer({optional:!0,name:c.pathLenConstraint||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["cA","pathLenConstraint"]);d=a.compareSchema(d,d,c.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in d.result&&(this.cA=d.result.cA.valueBlock.value);"pathLenConstraint"in d.result&&(d.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=d.result.pathLenConstraint:this.pathLenConstraint=d.result.pathLenConstraint.valueBlock.valueDec)};d.toSchema=function(){var b=[];this.cA!==c.defaultValues("cA")&&b.push(new a.Boolean({value:this.cA}));"pathLenConstraint"in this&&(this.pathLenConstraint instanceof a.Integer?b.push(this.pathLenConstraint):b.push(new a.Integer({value:this.pathLenConstraint})));return new a.Sequence({value:b})};d.toJSON=function(){var b={};this.cA!==c.defaultValues("cA")&&(b.cA=this.cA);"pathLenConstraint"in this&&(this.pathLenConstraint instanceof a.Integer?b.pathLenConstraint=this.pathLenConstraint.toJSON():b.pathLenConstraint=this.pathLenConstraint);return b};return c}();Nb["default"]=d}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}var Sb={},Tb={exports:Sb};function Ub(){Object.defineProperty(Sb,"__esModule",{value:!0});Sb["default"]=void 0;var a=i(g()),b=h(),c=e(Va()),d=e(Qa());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),"distributionPoint"in a&&(this.distributionPoint=b.getParametersValue(a,"distributionPoint",e.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=b.getParametersValue(a,"onlyContainsUserCerts",e.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=b.getParametersValue(a,"onlyContainsCACerts",e.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in a&&(this.onlySomeReasons=b.getParametersValue(a,"onlySomeReasons",e.defaultValues("onlySomeReasons"))),this.indirectCRL=b.getParametersValue(a,"indirectCRL",e.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=b.getParametersValue(a,"onlyContainsAttributeCerts",e.defaultValues("onlyContainsAttributeCerts")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"distributionPoint":return[];case"onlyContainsUserCerts":return!1;case"onlyContainsCACerts":return!1;case"onlySomeReasons":return 0;case"indirectCRL":return!1;case"onlyContainsAttributeCerts":return!1;default:throw new Error("Invalid member name for IssuingDistributionPoint class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.Constructed({name:e.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.distributionPointNames||"",value:c["default"].schema()})]}),new a.Constructed({name:e.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})]}),new a.Primitive({name:e.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:e.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new a.Primitive({name:e.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new a.Primitive({name:e.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new a.Primitive({name:e.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);f=a.compareSchema(f,f,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in f.result)switch(!0){case f.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(f.result.distributionPointNames,function(a){return new c["default"]({schema:a})});break;case f.result.distributionPoint.idBlock.tagNumber===1:this.distributionPoint=new d["default"]({schema:new a.Sequence({value:f.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in f.result){var g=new Uint8Array(f.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=g[0]!==0}if("onlyContainsCACerts"in f.result){g=new Uint8Array(f.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=g[0]!==0}if("onlySomeReasons"in f.result){g=new Uint8Array(f.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=g[0]}if("indirectCRL"in f.result){g=new Uint8Array(f.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=g[0]!==0}if("onlyContainsAttributeCerts"in f.result){g=new Uint8Array(f.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=g[0]!==0}};f.toSchema=function(){var b=[];if("distributionPoint"in this){var c;this.distributionPoint instanceof Array?c=new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(a){return a.toSchema()})}):(c=this.distributionPoint.toSchema(),c.idBlock.tagClass=3,c.idBlock.tagNumber=1);b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer}));this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer}));if("onlySomeReasons"in this){c=new ArrayBuffer(1);var d=new Uint8Array(c);d[0]=this.onlySomeReasons;b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:c}))}this.indirectCRL!==e.defaultValues("indirectCRL")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer}));this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"distributionPoint"in this&&(this.distributionPoint instanceof Array?a.distributionPoint=Array.from(this.distributionPoint,function(a){return a.toJSON()}):a.distributionPoint=this.distributionPoint.toJSON());this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&(a.onlyContainsUserCerts=this.onlyContainsUserCerts);this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&(a.onlyContainsCACerts=this.onlyContainsCACerts);"onlySomeReasons"in this&&(a.onlySomeReasons=this.onlySomeReasons);this.indirectCRL!==e.defaultValues("indirectCRL")&&(a.indirectCRL=this.indirectCRL);this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&(a.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts);return a};return e}();Sb["default"]=i}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return Tb.exports}var Xb={},Yb={exports:Xb};function Zb(){Object.defineProperty(Xb,"__esModule",{value:!0});Xb["default"]=void 0;var a=f(g()),b=h(),c=d(Va());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.names=b.getParametersValue(a,"names",d.defaultValues("names")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"names":return[];default:throw new Error("Invalid member name for GeneralNames class: "+a)}};d.schema=function(d,e){d===void 0&&(d={});e===void 0&&(e=!1);d=b.getParametersValue(d,"names",{});return new a.Sequence({optional:e,name:d.blockName||"",value:[new a.Repeated({name:d.generalNames||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["names","generalNames"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(e.result.generalNames,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.names,function(a){return a.toSchema()})})};e.toJSON=function(){return{names:Array.from(this.names,function(a){return a.toJSON()})}};return d}();Xb["default"]=f}var $b=!1;function ac(){$b||($b=!0,Zb());return Yb.exports}var bc={},cc={exports:bc};function dc(){Object.defineProperty(bc,"__esModule",{value:!0});bc["default"]=void 0;var a=f(g()),b=h(),c=d(Va());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.base=b.getParametersValue(a,"base",d.defaultValues("base")),this.minimum=b.getParametersValue(a,"minimum",d.defaultValues("minimum")),"maximum"in a&&(this.maximum=b.getParametersValue(a,"maximum",d.defaultValues("maximum"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"base":return new c["default"]();case"minimum":return 0;case"maximum":return 0;default:throw new Error("Invalid member name for GeneralSubtree class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.base||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:d.minimum||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Integer({name:d.maximum||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["base","minimum","maximum"]);e=a.compareSchema(e,e,d.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new c["default"]({schema:e.result.base});"minimum"in e.result&&(e.result.minimum.valueBlock.isHexOnly?this.minimum=e.result.minimum:this.minimum=e.result.minimum.valueBlock.valueDec);"maximum"in e.result&&(e.result.maximum.valueBlock.isHexOnly?this.maximum=e.result.maximum:this.maximum=e.result.maximum.valueBlock.valueDec)};e.toSchema=function(){var b=[];b.push(this.base.toSchema());if(this.minimum!==0){var c;this.minimum instanceof a.Integer?c=this.minimum:c=new a.Integer({value:this.minimum});b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if("maximum"in this){this.maximum instanceof a.Integer?c=this.maximum:c=new a.Integer({value:this.maximum});b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c]}))}return new a.Sequence({value:b})};e.toJSON=function(){var a={base:this.base.toJSON()};this.minimum!==0&&(typeof this.minimum==="number"?a.minimum=this.minimum:a.minimum=this.minimum.toJSON());"maximum"in this&&(typeof this.maximum==="number"?a.maximum=this.maximum:a.maximum=this.maximum.toJSON());return a};return d}();bc["default"]=f}var ec=!1;function fc(){ec||(ec=!0,dc());return cc.exports}var gc={},hc={exports:gc};function ic(){Object.defineProperty(gc,"__esModule",{value:!0});gc["default"]=void 0;var a=f(g()),b=h(),c=d(fc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),"permittedSubtrees"in a&&(this.permittedSubtrees=b.getParametersValue(a,"permittedSubtrees",d.defaultValues("permittedSubtrees"))),"excludedSubtrees"in a&&(this.excludedSubtrees=b.getParametersValue(a,"excludedSubtrees",d.defaultValues("excludedSubtrees"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"permittedSubtrees":return[];case"excludedSubtrees":return[];default:throw new Error("Invalid member name for NameConstraints class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:d.permittedSubtrees||"",value:c["default"].schema()})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:d.excludedSubtrees||"",value:c["default"].schema()})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["permittedSubtrees","excludedSubtrees"]);e=a.compareSchema(e,e,d.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in e.result&&(this.permittedSubtrees=Array.from(e.result.permittedSubtrees,function(a){return new c["default"]({schema:a})}));"excludedSubtrees"in e.result&&(this.excludedSubtrees=Array.from(e.result.excludedSubtrees,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];"permittedSubtrees"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,function(a){return a.toSchema()})}));"excludedSubtrees"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};"permittedSubtrees"in this&&(a.permittedSubtrees=Array.from(this.permittedSubtrees,function(a){return a.toJSON()}));"excludedSubtrees"in this&&(a.excludedSubtrees=Array.from(this.excludedSubtrees,function(a){return a.toJSON()}));return a};return d}();gc["default"]=f}var jc=!1;function kc(){jc||(jc=!0,ic());return hc.exports}var lc={},mc={exports:lc};function nc(){Object.defineProperty(lc,"__esModule",{value:!0});lc["default"]=void 0;var a=i(g()),b=h(),c=e(Va()),d=e(Qa());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),"distributionPoint"in a&&(this.distributionPoint=b.getParametersValue(a,"distributionPoint",e.defaultValues("distributionPoint"))),"reasons"in a&&(this.reasons=b.getParametersValue(a,"reasons",e.defaultValues("reasons"))),"cRLIssuer"in a&&(this.cRLIssuer=b.getParametersValue(a,"cRLIssuer",e.defaultValues("cRLIssuer"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"distributionPoint":return[];case"reasons":return new a.BitString();case"cRLIssuer":return[];default:throw new Error("Invalid member name for DistributionPoint class: "+b)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.Constructed({name:e.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.distributionPointNames||"",value:c["default"].schema()})]}),new a.Constructed({name:e.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})]}),new a.Primitive({name:e.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Constructed({name:e.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new a.Repeated({name:e.cRLIssuerNames||"",value:c["default"].schema()})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);f=a.compareSchema(f,f,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in f.result&&(f.result.distributionPoint.idBlock.tagNumber===0&&(this.distributionPoint=Array.from(f.result.distributionPointNames,function(a){return new c["default"]({schema:a})})),f.result.distributionPoint.idBlock.tagNumber===1&&(this.distributionPoint=new d["default"]({schema:new a.Sequence({value:f.result.distributionPoint.valueBlock.value})})));"reasons"in f.result&&(this.reasons=new a.BitString({valueHex:f.result.reasons.valueBlock.valueHex}));"cRLIssuer"in f.result&&(this.cRLIssuer=Array.from(f.result.cRLIssuerNames,function(a){return new c["default"]({schema:a})}))};f.toSchema=function(){var b=[];if("distributionPoint"in this){var c;this.distributionPoint instanceof Array?c=new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(a){return a.toSchema()})}):c=new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]});b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}"reasons"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex}));"cRLIssuer"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"distributionPoint"in this&&(this.distributionPoint instanceof Array?a.distributionPoint=Array.from(this.distributionPoint,function(a){return a.toJSON()}):a.distributionPoint=this.distributionPoint.toJSON());"reasons"in this&&(a.reasons=this.reasons.toJSON());"cRLIssuer"in this&&(a.cRLIssuer=Array.from(this.cRLIssuer,function(a){return a.toJSON()}));return a};return e}();lc["default"]=i}var oc=!1;function pc(){oc||(oc=!0,nc());return mc.exports}var qc={},rc={exports:qc};function sc(){Object.defineProperty(qc,"__esModule",{value:!0});qc["default"]=void 0;var a=f(g()),b=h(),c=d(pc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.distributionPoints=b.getParametersValue(a,"distributionPoints",d.defaultValues("distributionPoints")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"distributionPoints":return[];default:throw new Error("Invalid member name for CRLDistributionPoints class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.distributionPoints||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["distributionPoints"]);e=a.compareSchema(e,e,d.schema({names:{distributionPoints:"distributionPoints"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(e.result.distributionPoints,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.distributionPoints,function(a){return a.toSchema()})})};e.toJSON=function(){return{distributionPoints:Array.from(this.distributionPoints,function(a){return a.toJSON()})}};return d}();qc["default"]=f}var tc=!1;function uc(){tc||(tc=!0,sc());return rc.exports}var vc={},wc={exports:vc};function xc(){Object.defineProperty(vc,"__esModule",{value:!0});vc["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.policyQualifierId=b.getParametersValue(a,"policyQualifierId",c.defaultValues("policyQualifierId")),this.qualifier=b.getParametersValue(a,"qualifier",c.defaultValues("qualifier")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"policyQualifierId":return"";case"qualifier":return new a.Any();default:throw new Error("Invalid member name for PolicyQualifierInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.policyQualifierId||""}),new a.Any({name:c.qualifier||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["policyQualifierId","qualifier"]);d=a.compareSchema(d,d,c.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=d.result.policyQualifierId.valueBlock.toString();this.qualifier=d.result.qualifier};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})};d.toJSON=function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}};return c}();vc["default"]=d}var yc=!1;function zc(){yc||(yc=!0,xc());return wc.exports}var Ac={},Bc={exports:Ac};function Cc(){Object.defineProperty(Ac,"__esModule",{value:!0});Ac["default"]=void 0;var a=f(g()),b=h(),c=d(zc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.policyIdentifier=b.getParametersValue(a,"policyIdentifier",d.defaultValues("policyIdentifier")),"policyQualifiers"in a&&(this.policyQualifiers=b.getParametersValue(a,"policyQualifiers",d.defaultValues("policyQualifiers"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error("Invalid member name for PolicyInformation class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.policyIdentifier||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:d.policyQualifiers||"",value:c["default"].schema()})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["policyIdentifier","policyQualifiers"]);e=a.compareSchema(e,e,d.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=e.result.policyIdentifier.valueBlock.toString();"policyQualifiers"in e.result&&(this.policyQualifiers=Array.from(e.result.policyQualifiers,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.policyIdentifier}));"policyQualifiers"in this&&b.push(new a.Sequence({value:Array.from(this.policyQualifiers,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={policyIdentifier:this.policyIdentifier};"policyQualifiers"in this&&(a.policyQualifiers=Array.from(this.policyQualifiers,function(a){return a.toJSON()}));return a};return d}();Ac["default"]=f}var Dc=!1;function Ec(){Dc||(Dc=!0,Cc());return Bc.exports}var Fc={},Gc={exports:Fc};function Hc(){Object.defineProperty(Fc,"__esModule",{value:!0});Fc["default"]=void 0;var a=f(g()),b=h(),c=d(Ec());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.certificatePolicies=b.getParametersValue(a,"certificatePolicies",d.defaultValues("certificatePolicies")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"certificatePolicies":return[];default:throw new Error("Invalid member name for CertificatePolicies class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.certificatePolicies||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["certificatePolicies"]);e=a.compareSchema(e,e,d.schema({names:{certificatePolicies:"certificatePolicies"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(e.result.certificatePolicies,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.certificatePolicies,function(a){return a.toSchema()})})};e.toJSON=function(){return{certificatePolicies:Array.from(this.certificatePolicies,function(a){return a.toJSON()})}};return d}();Fc["default"]=f}var Ic=!1;function Jc(){Ic||(Ic=!0,Hc());return Gc.exports}var Kc={},Lc={exports:Kc};function Mc(){Object.defineProperty(Kc,"__esModule",{value:!0});Kc["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.issuerDomainPolicy=b.getParametersValue(a,"issuerDomainPolicy",c.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=b.getParametersValue(a,"subjectDomainPolicy",c.defaultValues("subjectDomainPolicy")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"issuerDomainPolicy":return"";case"subjectDomainPolicy":return"";default:throw new Error("Invalid member name for PolicyMapping class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.issuerDomainPolicy||""}),new a.ObjectIdentifier({name:c.subjectDomainPolicy||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["issuerDomainPolicy","subjectDomainPolicy"]);d=a.compareSchema(d,d,c.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=d.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=d.result.subjectDomainPolicy.valueBlock.toString()};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.issuerDomainPolicy}),new a.ObjectIdentifier({value:this.subjectDomainPolicy})]})};d.toJSON=function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}};return c}();Kc["default"]=d}var Nc=!1;function Oc(){Nc||(Nc=!0,Mc());return Lc.exports}var Pc={},Qc={exports:Pc};function Rc(){Object.defineProperty(Pc,"__esModule",{value:!0});Pc["default"]=void 0;var a=f(g()),b=h(),c=d(Oc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.mappings=b.getParametersValue(a,"mappings",d.defaultValues("mappings")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"mappings":return[];default:throw new Error("Invalid member name for PolicyMappings class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.mappings||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["mappings"]);e=a.compareSchema(e,e,d.schema({names:{mappings:"mappings"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(e.result.mappings,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.mappings,function(a){return a.toSchema()})})};e.toJSON=function(){return{mappings:Array.from(this.mappings,function(a){return a.toJSON()})}};return d}();Pc["default"]=f}var Sc=!1;function Tc(){Sc||(Sc=!0,Rc());return Qc.exports}var Uc={},Vc={exports:Uc};function Wc(){Object.defineProperty(Uc,"__esModule",{value:!0});Uc["default"]=void 0;var a=f(g()),b=h(),c=d(Va());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),"keyIdentifier"in a&&(this.keyIdentifier=b.getParametersValue(a,"keyIdentifier",d.defaultValues("keyIdentifier"))),"authorityCertIssuer"in a&&(this.authorityCertIssuer=b.getParametersValue(a,"authorityCertIssuer",d.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in a&&(this.authorityCertSerialNumber=b.getParametersValue(a,"authorityCertSerialNumber",d.defaultValues("authorityCertSerialNumber"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyIdentifier":return new a.OctetString();case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new a.Integer();default:throw new Error("Invalid member name for AuthorityKeyIdentifier class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Primitive({name:d.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:d.authorityCertIssuer||"",value:c["default"].schema()})]}),new a.Primitive({name:d.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);e=a.compareSchema(e,e,d.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in e.result&&(this.keyIdentifier=new a.OctetString({valueHex:e.result.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in e.result&&(this.authorityCertIssuer=Array.from(e.result.authorityCertIssuer,function(a){return new c["default"]({schema:a})}));"authorityCertSerialNumber"in e.result&&(this.authorityCertSerialNumber=new a.Integer({valueHex:e.result.authorityCertSerialNumber.valueBlock.valueHex}))};e.toSchema=function(){var b=[];"keyIdentifier"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,function(a){return a.toSchema()})}));"authorityCertSerialNumber"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};"keyIdentifier"in this&&(a.keyIdentifier=this.keyIdentifier.toJSON());"authorityCertIssuer"in this&&(a.authorityCertIssuer=Array.from(this.authorityCertIssuer,function(a){return a.toJSON()}));"authorityCertSerialNumber"in this&&(a.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON());return a};return d}();Uc["default"]=f}var Xc=!1;function Yc(){Xc||(Xc=!0,Wc());return Vc.exports}var Zc={},$c={exports:Zc};function ad(){Object.defineProperty(Zc,"__esModule",{value:!0});Zc["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"requireExplicitPolicy"in a&&(this.requireExplicitPolicy=b.getParametersValue(a,"requireExplicitPolicy",c.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in a&&(this.inhibitPolicyMapping=b.getParametersValue(a,"inhibitPolicyMapping",c.defaultValues("inhibitPolicyMapping"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"requireExplicitPolicy":return 0;case"inhibitPolicyMapping":return 0;default:throw new Error("Invalid member name for PolicyConstraints class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Primitive({name:c.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["requireExplicitPolicy","inhibitPolicyMapping"]);d=a.compareSchema(d,d,c.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in d.result){var e=d.result.requireExplicitPolicy;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;e=e.toBER(!1);e=a.fromBER(e);this.requireExplicitPolicy=e.result.valueBlock.valueDec}if("inhibitPolicyMapping"in d.result){e=d.result.inhibitPolicyMapping;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;d=e.toBER(!1);e=a.fromBER(d);this.inhibitPolicyMapping=e.result.valueBlock.valueDec}};d.toSchema=function(){var b=[];if("requireExplicitPolicy"in this){var c=new a.Integer({value:this.requireExplicitPolicy});c.idBlock.tagClass=3;c.idBlock.tagNumber=0;b.push(c)}if("inhibitPolicyMapping"in this){c=new a.Integer({value:this.inhibitPolicyMapping});c.idBlock.tagClass=3;c.idBlock.tagNumber=1;b.push(c)}return new a.Sequence({value:b})};d.toJSON=function(){var a={};"requireExplicitPolicy"in this&&(a.requireExplicitPolicy=this.requireExplicitPolicy);"inhibitPolicyMapping"in this&&(a.inhibitPolicyMapping=this.inhibitPolicyMapping);return a};return c}();Zc["default"]=d}var bd=!1;function cd(){bd||(bd=!0,ad());return $c.exports}var dd={},ed={exports:dd};function fd(){Object.defineProperty(dd,"__esModule",{value:!0});dd["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.keyPurposes=b.getParametersValue(a,"keyPurposes",c.defaultValues("keyPurposes")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"keyPurposes":return[];default:throw new Error("Invalid member name for ExtKeyUsage class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Repeated({name:c.keyPurposes||"",value:new a.ObjectIdentifier()})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["keyPurposes"]);d=a.compareSchema(d,d,c.schema({names:{keyPurposes:"keyPurposes"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(d.result.keyPurposes,function(a){return a.valueBlock.toString()})};d.toSchema=function(){return new a.Sequence({value:Array.from(this.keyPurposes,function(b){return new a.ObjectIdentifier({value:b})})})};d.toJSON=function(){return{keyPurposes:Array.from(this.keyPurposes)}};return c}();dd["default"]=d}var gd=!1;function hd(){gd||(gd=!0,fd());return ed.exports}var id={},jd={exports:id};function kd(){Object.defineProperty(id,"__esModule",{value:!0});id["default"]=void 0;var a=f(g()),b=h(),c=d($a());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.accessDescriptions=b.getParametersValue(a,"accessDescriptions",d.defaultValues("accessDescriptions")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"accessDescriptions":return[];default:throw new Error("Invalid member name for InfoAccess class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.accessDescriptions||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["accessDescriptions"]);e=a.compareSchema(e,e,d.schema({names:{accessDescriptions:"accessDescriptions"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(e.result.accessDescriptions,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.accessDescriptions,function(a){return a.toSchema()})})};e.toJSON=function(){return{accessDescriptions:Array.from(this.accessDescriptions,function(a){return a.toJSON()})}};return d}();id["default"]=f}var ld=!1;function md(){ld||(ld=!0,kd());return jd.exports}var nd={},od={exports:nd};function pd(){Object.defineProperty(nd,"__esModule",{value:!0});nd["default"]=nd.SignedCertificateTimestamp=void 0;nd.verifySCTsForCertificate=s;var a=l(g()),c=h(),d=i(),e=W(),f=j(C());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function m(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=n(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function n(a,b){if(!a)return;if(typeof a==="string")return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}function o(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function p(a,c,d,e,f,g,h){try{var i=a[g](h),j=i.value}catch(a){d(a);return}i.done?c(j):b("Promise").resolve(j).then(e,f)}function q(a){return function(){var c=this,d=arguments;return new(b("Promise"))(function(b,e){var f=a.apply(c,d);function g(a){p(f,b,e,g,h,"next",a)}function h(a){p(f,b,e,g,h,"throw",a)}g(void 0)})}}var r=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.logID=c.getParametersValue(a,"logID",g.defaultValues("logID")),this.timestamp=c.getParametersValue(a,"timestamp",g.defaultValues("timestamp")),this.extensions=c.getParametersValue(a,"extensions",g.defaultValues("extensions")),this.hashAlgorithm=c.getParametersValue(a,"hashAlgorithm",g.defaultValues("hashAlgorithm")),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signature=c.getParametersValue(a,"signature",g.defaultValues("signature")),"schema"in a&&this.fromSchema(a.schema),"stream"in a&&this.fromStream(a.stream)}g.defaultValues=function(b){switch(b){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new a.Any();default:throw new Error("Invalid member name for SignedCertificateTimestamp class: "+b)}};var h=g.prototype;h.fromSchema=function(b){if(b instanceof a.RawData===!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");b=new d.SeqStream({stream:new d.ByteStream({buffer:b.data})});this.fromStream(b)};h.fromStream=function(b){var d=b.getUint16();this.version=b.getBlock(1)[0];if(this.version===0){this.logID=new Uint8Array(b.getBlock(32)).buffer.slice(0);this.timestamp=new Date(c.utilFromBase(new Uint8Array(b.getBlock(8)),8));var e=b.getUint16();this.extensions=new Uint8Array(b.getBlock(e)).buffer.slice(0);switch(b.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(b.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}var f=b.getUint16();b=new Uint8Array(b.getBlock(f)).buffer.slice(0);b=a.fromBER(b);if(b.offset===-1)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");this.signature=b.result;if(d!==47+e+f)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}};h.toSchema=function(){var b=this.toStream();return new a.RawData({data:b.stream.buffer})};h.toStream=function(){var a=new d.SeqStream();a.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength);a.appendChar(this.version);a.appendView(new Uint8Array(this.logID));var b=new ArrayBuffer(8);b=new Uint8Array(b);var e=c.utilToBase(this.timestamp.valueOf(),8);b.set(new Uint8Array(e),8-e.byteLength);a.appendView(b);a.appendUint16(this.extensions.byteLength);this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions));var f;switch(this.hashAlgorithm.toLowerCase()){case"none":f=0;break;case"md5":f=1;break;case"sha1":f=2;break;case"sha224":f=3;break;case"sha256":f=4;break;case"sha384":f=5;break;case"sha512":f=6;break;default:throw new Error("Incorrect data for hashAlgorithm: "+this.hashAlgorithm)}a.appendChar(f);var g;switch(this.signatureAlgorithm.toLowerCase()){case"anonymous":g=0;break;case"rsa":g=1;break;case"dsa":g=2;break;case"ecdsa":g=3;break;default:throw new Error("Incorrect data for signatureAlgorithm: "+this.signatureAlgorithm)}a.appendChar(g);e=this.signature.toBER(!1);a.appendUint16(e.byteLength);a.appendView(new Uint8Array(e));return a};h.toJSON=function(){return{version:this.version,logID:c.bufferToHexCodes(this.logID),timestamp:this.timestamp,extensions:c.bufferToHexCodes(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}};h.verify=function(g,h,i){i===void 0&&(i=0);var j=this;return q(b("regeneratorRuntime").mark(function k(){var l,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:l=c.toBase64(c.arrayBufferToString(j.logID)),n=null,p=new d.SeqStream(),q=m(g),b.prev=4,q.s();case 6:if((r=q.n()).done){b.next=13;break}s=r.value;if(!(s.log_id===l)){b.next=11;break}n=s.key;return b.abrupt("break",13);case 11:b.next=6;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b["catch"](4),q.e(b.t0);case 18:b.prev=18;q.f();return b.finish(18);case 21:if(!(n===null)){b.next=23;break}throw new Error("Public key not found for CT with logId: "+l);case 23:t=a.fromBER(c.stringToArrayBuffer(c.fromBase64(n)));if(!(t.offset===-1)){b.next=26;break}throw new Error("Incorrect key value for CT Log with logId: "+l);case 26:o=new f["default"]({schema:t.result});p.appendChar(0);p.appendChar(0);u=new ArrayBuffer(8);v=new Uint8Array(u);w=c.utilToBase(j.timestamp.valueOf(),8);v.set(new Uint8Array(w),8-w.byteLength);p.appendView(v);p.appendUint16(i);i===0&&p.appendUint24(h.byteLength);p.appendView(new Uint8Array(h));p.appendUint16(j.extensions.byteLength);j.extensions.byteLength!==0&&p.appendView(new Uint8Array(j.extensions));return b.abrupt("return",e.getEngine().subtle.verifyWithPublicKey(p.$2.$1.slice(0,p.$3),{valueBlock:{valueHex:j.signature.toBER(!1)}},o,{algorithmId:""},"SHA-256"));case 40:case"end":return b.stop()}},k,this,[[4,15,18,21]])}))()};return g}();nd.SignedCertificateTimestamp=r;s=function(){function b(a){a===void 0&&(a={}),this.timestamps=c.getParametersValue(a,"timestamps",b.defaultValues("timestamps")),"schema"in a&&this.fromSchema(a.schema)}b.defaultValues=function(a){switch(a){case"timestamps":return[];default:throw new Error("Invalid member name for SignedCertificateTimestampList class: "+a)}};b.compareWithDefault=function(a,b){switch(a){case"timestamps":return b.length===0;default:throw new Error("Invalid member name for SignedCertificateTimestampList class: "+a)}};b.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});"optional"in b===!1&&(b.optional=!1);return new a.OctetString({name:b.blockName||"SignedCertificateTimestampList",optional:b.optional})};var e=b.prototype;e.fromSchema=function(b){if(b instanceof a.OctetString===!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");b=new d.SeqStream({stream:new d.ByteStream({buffer:b.valueBlock.valueHex})});var c=b.getUint16();if(c!==b.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");while(b.length)this.timestamps.push(new r({stream:b}))};e.toSchema=function(){var b=new d.SeqStream(),c=0,e=[],f=m(this.timestamps),g;try{for(f.s();!(g=f.n()).done;){g=g.value;g=g.toStream();e.push(g);c+=g.stream.buffer.byteLength}}catch(a){f.e(a)}finally{f.f()}b.appendUint16(c);for(g=0,f=e;g<f.length;g++){c=f[g];b.appendView(c.stream.view)}return new a.OctetString({valueHex:b.stream.buffer.slice(0)})};e.toJSON=function(){return{timestamps:Array.from(this.timestamps,function(a){return a.toJSON()})}};return b}();nd["default"]=s;function s(a,b,c){return t.apply(this,arguments)}function t(){t=q(b("regeneratorRuntime").mark(function a(c,f,g,h){var i,j,k,l,n,o,p,q,r,s,t,u;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:h===void 0&&(h=-1);i=null;l=new d.SeqStream();o=e.getCrypto();if(!(typeof o==="undefined")){a.next=6;break}return a.abrupt("return",b("Promise").reject("Unable to create WebCrypto object"));case 6:p=0;case 7:if(!(p<c.extensions.length)){a.next=19;break}a.t0=c.extensions[p].extnID;a.next=a.t0==="1.3.6.1.4.1.11129.2.4.2"?11:16;break;case 11:i=c.extensions[p].parsedValue;if(!(i.timestamps.length===0)){a.next=14;break}throw new Error("Nothing to verify in the certificate");case 14:c.extensions.splice(p,1);return a.abrupt("break",16);case 16:p++;a.next=7;break;case 19:if(!(i===null)){a.next=21;break}throw new Error("No SignedCertificateTimestampList extension in the specified certificate");case 21:j=c.encodeTBS().toBER(!1);a.next=24;return o.digest({name:"SHA-256"},new Uint8Array(f.subjectPublicKeyInfo.toSchema().toBER(!1)));case 24:k=a.sent;l.appendView(new Uint8Array(k));l.appendUint24(j.byteLength);l.appendView(new Uint8Array(j));n=l._stream._buffer.slice(0,l._length);if(!(h===-1)){a.next=51;break}q=[];r=m(i.timestamps);a.prev=32;r.s();case 34:if((s=r.n()).done){a.next=42;break}t=s.value;a.next=38;return t.verify(g,n,1);case 38:u=a.sent,q.push(u);case 40:a.next=34;break;case 42:a.next=47;break;case 44:a.prev=44,a.t1=a["catch"](32),r.e(a.t1);case 47:a.prev=47;r.f();return a.finish(47);case 50:return a.abrupt("return",q);case 51:h>=i.timestamps.length&&(h=i.timestamps.length-1);a.next=54;return i.timestamps[h].verify(g,n,1);case 54:a.t2=a.sent;return a.abrupt("return",[a.t2]);case 56:case"end":return a.stop()}},a,this,[[32,44,47,50]])}));return t.apply(this,arguments)}}var qd=!1;function rd(){qd||(qd=!0,pd());return od.exports}var sd={},td={exports:sd};function ud(){Object.defineProperty(sd,"__esModule",{value:!0});sd["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.templateID=b.getParametersValue(a,"templateID",c.defaultValues("templateID")),"templateMajorVersion"in a&&(this.templateMajorVersion=b.getParametersValue(a,"templateMajorVersion",c.defaultValues("templateMajorVersion"))),"templateMinorVersion"in a&&(this.templateMinorVersion=b.getParametersValue(a,"templateMinorVersion",c.defaultValues("templateMinorVersion"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error("Invalid member name for CertificateTemplate class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.templateID||""}),new a.Integer({name:c.templateMajorVersion||"",optional:!0}),new a.Integer({name:c.templateMinorVersion||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["templateID","templateMajorVersion","templateMinorVersion"]);d=a.compareSchema(d,d,c.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=d.result.templateID.valueBlock.toString();"templateMajorVersion"in d.result&&(this.templateMajorVersion=d.result.templateMajorVersion.valueBlock.valueDec);"templateMinorVersion"in d.result&&(this.templateMinorVersion=d.result.templateMinorVersion.valueBlock.valueDec)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.templateID}));"templateMajorVersion"in this&&b.push(new a.Integer({value:this.templateMajorVersion}));"templateMinorVersion"in this&&b.push(new a.Integer({value:this.templateMinorVersion}));return new a.Sequence({value:b})};d.toJSON=function(){var a={extnID:this.templateID};"templateMajorVersion"in this&&(a.templateMajorVersion=this.templateMajorVersion);"templateMinorVersion"in this&&(a.templateMinorVersion=this.templateMinorVersion);return a};return c}();sd["default"]=d}var vd=!1;function wd(){vd||(vd=!0,ud());return td.exports}var xd={},yd={exports:xd};function zd(){Object.defineProperty(xd,"__esModule",{value:!0});xd["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.certificateIndex=b.getParametersValue(a,"certificateIndex",c.defaultValues("certificateIndex")),this.keyIndex=b.getParametersValue(a,"keyIndex",c.defaultValues("keyIndex")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"certificateIndex":case"keyIndex":return 0;default:throw new Error("Invalid member name for CAVersion class: "+a)}};c.schema=function(b){b===void 0&&({});return new a.Integer()};var d=c.prototype;d.fromSchema=function(b){if(b.constructor.blockName()!==a.Integer.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");b=b.valueBlock.valueHex.slice(0);var c=new Uint8Array(b);switch(!0){case b.byteLength<4:var d=new ArrayBuffer(4),e=new Uint8Array(d);e.set(c,4-b.byteLength);b=d.slice(0);break;case b.byteLength>4:e=new ArrayBuffer(4);d=new Uint8Array(e);d.set(c.slice(0,4));b=e.slice(0);break;default:}d=b.slice(0,2);c=new Uint8Array(d);e=c[0];c[0]=c[1];c[1]=e;c=new Uint16Array(d);this.keyIndex=c[0];d=b.slice(2);c=new Uint8Array(d);e=c[0];c[0]=c[1];c[1]=e;b=new Uint16Array(d);this.certificateIndex=b[0]};d.toSchema=function(){var c=new ArrayBuffer(2),d=new Uint16Array(c);d[0]=this.certificateIndex;d=new Uint8Array(c);var e=d[0];d[0]=d[1];d[1]=e;d=new ArrayBuffer(2);var f=new Uint16Array(d);f[0]=this.keyIndex;f=new Uint8Array(d);e=f[0];f[0]=f[1];f[1]=e;return new a.Integer({valueHex:b.utilConcatBuf(d,c)})};d.toJSON=function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}};return c}();xd["default"]=d}var Ad=!1;function Bd(){Ad||(Ad=!0,zd());return yd.exports}var Cd={},Dd={exports:Cd};function Ed(){Object.defineProperty(Cd,"__esModule",{value:!0});Cd["default"]=Cd.QCStatement=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}var e=function(){function c(a){a===void 0&&(a={}),this.id=b.getParametersValue(a,"id",c.defaultValues("id")),"type"in a&&(this.type=b.getParametersValue(a,"type",c.defaultValues("type"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"id":return"";case"type":return new a.Null();default:throw new Error("Invalid member name for QCStatement class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"id":return c==="";case"type":return c instanceof a.Null;default:throw new Error("Invalid member name for QCStatement class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||""}),new a.Any({name:c.type||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["id","type"]);d=a.compareSchema(d,d,c.schema({names:{id:"id",type:"type"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=d.result.id.valueBlock.toString();"type"in d.result&&(this.type=d.result.type)};d.toSchema=function(){var b=[new a.ObjectIdentifier({value:this.id})];"type"in this&&b.push(this.type);return new a.Sequence({value:b})};d.toJSON=function(){var a={id:this.id};"type"in this&&(a.type=this.type.toJSON());return a};return c}();Cd.QCStatement=e;d=function(){function c(a){a===void 0&&(a={}),this.values=b.getParametersValue(a,"values",c.defaultValues("values")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"values":return[];default:throw new Error("Invalid member name for QCStatements class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"values":return b.length===0;default:throw new Error("Invalid member name for QCStatements class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Repeated({name:c.values||"",value:e.schema(c.value||{})})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["values"]);d=a.compareSchema(d,d,c.schema({names:{values:"values"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(d.result.values,function(a){return new e({schema:a})})};d.toSchema=function(){return new a.Sequence({value:Array.from(this.values,function(a){return a.toSchema()})})};d.toJSON=function(){return{extensions:Array.from(this.values,function(a){return a.toJSON()})}};return c}();Cd["default"]=d}var Fd=!1;function Gd(){Fd||(Fd=!0,Ed());return Dd.exports}var Hd={},Id={exports:Hd};function Jd(){Object.defineProperty(Hd,"__esModule",{value:!0});Hd["default"]=void 0;var a=y(g()),b=h(),c=w(Hb()),d=w(Mb()),e=w(jb()),f=w(Rb()),i=w(Wb()),j=w(ac()),k=w(kc()),l=w(uc()),m=w(Jc()),n=w(Tc()),o=w(Yc()),p=w(cd()),q=w(hd()),r=w(md()),s=w(rd()),t=w(wd()),u=w(Bd()),v=w(Gd());function w(a){return a&&a.__esModule?a:{"default":a}}function x(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(x=function(a){return a?c:b})(a)}function y(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=x(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}y=function(){function g(c){c===void 0&&(c={}),this.extnID=b.getParametersValue(c,"extnID",g.defaultValues("extnID")),this.critical=b.getParametersValue(c,"critical",g.defaultValues("critical")),"extnValue"in c?this.extnValue=new a.OctetString({valueHex:c.extnValue}):this.extnValue=g.defaultValues("extnValue"),"parsedValue"in c&&(this.parsedValue=b.getParametersValue(c,"parsedValue",g.defaultValues("parsedValue"))),"schema"in c&&this.fromSchema(c.schema)}g.defaultValues=function(b){switch(b){case"extnID":return"";case"critical":return!1;case"extnValue":return new a.OctetString();case"parsedValue":return{};default:throw new Error("Invalid member name for Extension class: "+b)}};g.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.extnID||""}),new a.Boolean({name:c.critical||"",optional:!0}),new a.OctetString({name:c.extnValue||""})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["extnID","critical","extnValue"]);h=a.compareSchema(h,h,g.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for Extension");this.extnID=h.result.extnID.valueBlock.toString();"critical"in h.result&&(this.critical=h.result.critical.valueBlock.value);this.extnValue=h.result.extnValue;h=a.fromBER(this.extnValue.valueBlock.valueHex);if(h.offset===-1)return;switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new c["default"]({schema:h.result})}catch(a){this.parsedValue=new c["default"](),this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":this.parsedValue=h.result;break;case"2.5.29.15":this.parsedValue=h.result;break;case"2.5.29.16":try{this.parsedValue=new d["default"]({schema:h.result})}catch(a){this.parsedValue=new d["default"](),this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new e["default"]({schema:h.result})}catch(a){this.parsedValue=new e["default"](),this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new f["default"]({schema:h.result})}catch(a){this.parsedValue=new f["default"](),this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.20":case"2.5.29.27":this.parsedValue=h.result;break;case"2.5.29.21":this.parsedValue=h.result;break;case"2.5.29.24":this.parsedValue=h.result;break;case"2.5.29.28":try{this.parsedValue=new i["default"]({schema:h.result})}catch(a){this.parsedValue=new i["default"](),this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new j["default"]({schema:h.result})}catch(a){this.parsedValue=new j["default"](),this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new k["default"]({schema:h.result})}catch(a){this.parsedValue=new k["default"](),this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new l["default"]({schema:h.result})}catch(a){this.parsedValue=new l["default"](),this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new m["default"]({schema:h.result})}catch(a){this.parsedValue=new m["default"](),this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new n["default"]({schema:h.result})}catch(a){this.parsedValue=new n["default"](),this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new o["default"]({schema:h.result})}catch(a){this.parsedValue=new o["default"](),this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new p["default"]({schema:h.result})}catch(a){this.parsedValue=new p["default"](),this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new q["default"]({schema:h.result})}catch(a){this.parsedValue=new q["default"](),this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"2.5.29.54":this.parsedValue=h.result;break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new r["default"]({schema:h.result})}catch(a){this.parsedValue=new r["default"](),this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new s["default"]({schema:h.result})}catch(a){this.parsedValue=new s["default"](),this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.20.2":this.parsedValue=h.result;break;case"1.3.6.1.4.1.311.21.2":this.parsedValue=h.result;break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new t["default"]({schema:h.result})}catch(a){this.parsedValue=new t["default"](),this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new u["default"]({schema:h.result})}catch(a){this.parsedValue=new u["default"](),this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new v["default"]({schema:h.result})}catch(a){this.parsedValue=new v["default"](),this.parsedValue.parsingError="Incorrectly formated QCStatements"}break;default:}};h.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.extnID}));this.critical!==g.defaultValues("critical")&&b.push(new a.Boolean({value:this.critical}));b.push(this.extnValue);return new a.Sequence({value:b})};h.toJSON=function(){var a={extnID:this.extnID,extnValue:this.extnValue.toJSON()};this.critical!==g.defaultValues("critical")&&(a.critical=this.critical);"parsedValue"in this&&("toJSON"in this.parsedValue&&(a.parsedValue=this.parsedValue.toJSON()));return a};return g}();Hd["default"]=y}var Kd=!1;function Ld(){Kd||(Kd=!0,Jd());return Id.exports}var Md={},Nd={exports:Md};function Od(){Object.defineProperty(Md,"__esModule",{value:!0});Md["default"]=void 0;var a=f(g()),b=h(),c=d(Ld());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.extensions=b.getParametersValue(a,"extensions",d.defaultValues("extensions")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"extensions":return[];default:throw new Error("Invalid member name for Extensions class: "+a)}};d.schema=function(d,e){d===void 0&&(d={});e===void 0&&(e=!1);d=b.getParametersValue(d,"names",{});return new a.Sequence({optional:e,name:d.blockName||"",value:[new a.Repeated({name:d.extensions||"",value:c["default"].schema(d.extension||{})})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["extensions"]);e=a.compareSchema(e,e,d.schema({names:{extensions:"extensions"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(e.result.extensions,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})};e.toJSON=function(){return{extensions:Array.from(this.extensions,function(a){return a.toJSON()})}};return d}();Md["default"]=f}var Pd=!1;function Qd(){Pd||(Pd=!0,Od());return Nd.exports}var Rd={},Sd={exports:Rd};function Td(){Object.defineProperty(Rd,"__esModule",{value:!0});Rd["default"]=void 0;var a=p(g()),c=h(),d=W(),e=m(n()),f=m(Qa()),i=m(Db()),j=m(C()),k=m(Ld()),l=m(Qd());function m(a){return a&&a.__esModule?a:{"default":a}}function o(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(o=function(a){return a?c:b})(a)}function p(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=o(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function q(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"tbsCertificate",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:b.tbsCertificateVersion||"tbsCertificate.version"})]}),new a.Integer({name:b.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),e["default"].schema(b.signature||{names:{blockName:"tbsCertificate.signature"}}),f["default"].schema(b.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new a.Sequence({name:b.tbsCertificateValidity||"tbsCertificate.validity",value:[i["default"].schema(b.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),i["default"].schema(b.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),f["default"].schema(b.subject||{names:{blockName:"tbsCertificate.subject"}}),j["default"].schema(b.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new a.Primitive({name:b.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:b.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[l["default"].schema(b.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}p=function(){function g(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",g.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.serialNumber=c.getParametersValue(a,"serialNumber",g.defaultValues("serialNumber")),this.signature=c.getParametersValue(a,"signature",g.defaultValues("signature")),this.issuer=c.getParametersValue(a,"issuer",g.defaultValues("issuer")),this.notBefore=c.getParametersValue(a,"notBefore",g.defaultValues("notBefore")),this.notAfter=c.getParametersValue(a,"notAfter",g.defaultValues("notAfter")),this.subject=c.getParametersValue(a,"subject",g.defaultValues("subject")),this.subjectPublicKeyInfo=c.getParametersValue(a,"subjectPublicKeyInfo",g.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in a&&(this.issuerUniqueID=c.getParametersValue(a,"issuerUniqueID",g.defaultValues("issuerUniqueID"))),"subjectUniqueID"in a&&(this.subjectUniqueID=c.getParametersValue(a,"subjectUniqueID",g.defaultValues("subjectUniqueID"))),"extensions"in a&&(this.extensions=c.getParametersValue(a,"extensions",g.defaultValues("extensions"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",g.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new a.Integer();case"signature":return new e["default"]();case"issuer":return new f["default"]();case"notBefore":return new i["default"]();case"notAfter":return new i["default"]();case"subject":return new f["default"]();case"subjectPublicKeyInfo":return new j["default"]();case"issuerUniqueID":return new ArrayBuffer(0);case"subjectUniqueID":return new ArrayBuffer(0);case"extensions":return[];case"signatureAlgorithm":return new e["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for Certificate class: "+b)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[q(b.tbsCertificate),e["default"].schema(b.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new a.BitString({name:b.signatureValue||"signatureValue"})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,g.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=b.result.tbsCertificate.valueBeforeDecode;"tbsCertificate.version"in b.result&&(this.version=b.result["tbsCertificate.version"].valueBlock.valueDec);this.serialNumber=b.result["tbsCertificate.serialNumber"];this.signature=new e["default"]({schema:b.result["tbsCertificate.signature"]});this.issuer=new f["default"]({schema:b.result["tbsCertificate.issuer"]});this.notBefore=new i["default"]({schema:b.result["tbsCertificate.notBefore"]});this.notAfter=new i["default"]({schema:b.result["tbsCertificate.notAfter"]});this.subject=new f["default"]({schema:b.result["tbsCertificate.subject"]});this.subjectPublicKeyInfo=new j["default"]({schema:b.result["tbsCertificate.subjectPublicKeyInfo"]});"tbsCertificate.issuerUniqueID"in b.result&&(this.issuerUniqueID=b.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex);"tbsCertificate.subjectUniqueID"in b.result&&(this.subjectUniqueID=b.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex);"tbsCertificate.extensions"in b.result&&(this.extensions=Array.from(b.result["tbsCertificate.extensions"],function(a){return new k["default"]({schema:a})}));this.signatureAlgorithm=new e["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};h.encodeTBS=function(){var b=[];"version"in this&&this.version!==g.defaultValues("version")&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));b.push(this.serialNumber);b.push(this.signature.toSchema());b.push(this.issuer.toSchema());b.push(new a.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));b.push(this.subject.toSchema());b.push(this.subjectPublicKeyInfo.toSchema());"issuerUniqueID"in this&&b.push(new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}));"subjectUniqueID"in this&&b.push(new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID}));"extensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new a.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};h.toSchema=function(b){b===void 0&&(b=!1);({});if(b===!1){if(this.tbs.length===0)return g.schema().value[0];b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};h.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"version"in this&&this.version!==g.defaultValues("version")&&(a.version=this.version);"issuerUniqueID"in this&&(a.issuerUniqueID=c.bufferToHexCodes(this.issuerUniqueID,0,this.issuerUniqueID.byteLength));"subjectUniqueID"in this&&(a.subjectUniqueID=c.bufferToHexCodes(this.subjectUniqueID,0,this.subjectUniqueID.byteLength));"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};h.getPublicKey=function(a){a===void 0&&(a=null);return d.getEngine().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,a)};h.getKeyHash=function(a){a===void 0&&(a="SHA-1");var c=d.getCrypto();return typeof c==="undefined"?b("Promise").reject("Unable to create WebCrypto object"):c.digest({name:a},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))};h.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return b("Promise").reject("Need to provide a private key for signing");var g=b("Promise").resolve(),h,i=d.getEngine();g=g.then(function(){return i.subtle.getSignatureParameters(c,e)});g=g.then(function(a){h=a.parameters,f.signature=a.signatureAlgorithm,f.signatureAlgorithm=a.signatureAlgorithm});g=g.then(function(){f.tbs=f.encodeTBS().toBER(!1)});g=g.then(function(){return i.subtle.signWithPrivateKey(f.tbs,c,h)});g=g.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return g};h.verify=function(a){a===void 0&&(a=null);var c={};a!==null?c=a.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(c=this.subjectPublicKeyInfo);return c instanceof j["default"]===!1?b("Promise").reject("Please provide issuer certificate as a parameter"):d.getEngine().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,c,this.signatureAlgorithm)};return g}();Rd["default"]=p}var Ud=!1;function Vd(){Ud||(Ud=!0,Td());return Sd.exports}var Wd={},Xd={exports:Wd};function Yd(){Object.defineProperty(Wd,"__esModule",{value:!0});Wd["default"]=Wd.IssuerSerial=Wd.AttributeCertificateInfoV1=Wd.AttCertValidityPeriod=void 0;var a=k(g()),b=h(),c=i(ac()),d=i(n()),e=i(H()),f=i(Qd());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}var l=function(){function c(a){a===void 0&&(a={}),this.notBeforeTime=b.getParametersValue(a,"notBeforeTime",c.defaultValues("notBeforeTime")),this.notAfterTime=b.getParametersValue(a,"notAfterTime",c.defaultValues("notAfterTime")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"notBeforeTime":case"notAfterTime":return new Date(0,0,0);default:throw new Error("Invalid member name for AttCertValidityPeriod class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.GeneralizedTime({name:c.notBeforeTime||""}),new a.GeneralizedTime({name:c.notAfterTime||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["notBeforeTime","notAfterTime"]);d=a.compareSchema(d,d,c.schema({names:{notBeforeTime:"notBeforeTime",notAfterTime:"notAfterTime"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for AttCertValidityPeriod");this.notBeforeTime=d.result.notBeforeTime.toDate();this.notAfterTime=d.result.notAfterTime.toDate()};d.toSchema=function(){return new a.Sequence({value:[new a.GeneralizedTime({valueDate:this.notBeforeTime}),new a.GeneralizedTime({valueDate:this.notAfterTime})]})};d.toJSON=function(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}};return c}();Wd.AttCertValidityPeriod=l;var m=function(){function d(a){a===void 0&&(a={}),this.issuer=b.getParametersValue(a,"issuer",d.defaultValues("issuer")),this.serialNumber=b.getParametersValue(a,"serialNumber",d.defaultValues("serialNumber")),"issuerUID"in a&&(this.issuerUID=b.getParametersValue(a,"issuerUID",d.defaultValues("issuerUID"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"issuer":return new c["default"]();case"serialNumber":return new a.Integer();case"issuerUID":return new a.BitString();default:throw new Error("Invalid member name for IssuerSerial class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.issuer||{}),new a.Integer({name:d.serialNumber||""}),new a.BitString({optional:!0,name:d.issuerUID||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuer","serialNumber","issuerUID"]);e=a.compareSchema(e,e,d.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber",issuerUID:"issuerUID"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for IssuerSerial");this.issuer=new c["default"]({schema:e.result.issuer});this.serialNumber=e.result.serialNumber;"issuerUID"in e.result&&(this.issuerUID=e.result.issuerUID)};e.toSchema=function(){var b=new a.Sequence({value:[this.issuer.toSchema(),this.serialNumber]});"issuerUID"in this&&b.valueBlock.value.push(this.issuerUID);return b};e.toJSON=function(){var a={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};"issuerUID"in this&&(a.issuerUID=this.issuerUID.toJSON());return a};return d}();Wd.IssuerSerial=m;var o=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",g.defaultValues("baseCertificateID"))),"subjectName"in a&&(this.subjectName=b.getParametersValue(a,"subjectName",g.defaultValues("subjectName"))),this.issuer=b.getParametersValue(a,"issuer",g.defaultValues("issuer")),this.signature=b.getParametersValue(a,"signature",g.defaultValues("signature")),this.serialNumber=b.getParametersValue(a,"serialNumber",g.defaultValues("serialNumber")),this.attrCertValidityPeriod=b.getParametersValue(a,"attrCertValidityPeriod",g.defaultValues("attrCertValidityPeriod")),this.attributes=b.getParametersValue(a,"attributes",g.defaultValues("attributes")),"issuerUniqueID"in a&&(this.issuerUniqueID=b.getParametersValue(a,"issuerUniqueID",g.defaultValues("issuerUniqueID"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",g.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 0;case"baseCertificateID":return new m();case"subjectName":return new c["default"]();case"issuer":return{};case"signature":return new d["default"]();case"serialNumber":return new a.Integer();case"attrCertValidityPeriod":return new l();case"attributes":return[];case"issuerUniqueID":return new a.BitString();case"extensions":return new f["default"]();default:throw new Error("Invalid member name for AttributeCertificateInfoV1 class: "+b)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Sequence({name:g.blockName||"",value:[new a.Integer({name:g.version||""}),new a.Choice({value:[new a.Constructed({name:g.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:m.schema().valueBlock.value}),new a.Constructed({name:g.subjectName||"",idBlock:{tagClass:3,tagNumber:1},value:c["default"].schema().valueBlock.value})]}),c["default"].schema({names:{blockName:g.issuer||""}}),d["default"].schema(g.signature||{}),new a.Integer({name:g.serialNumber||""}),l.schema(g.attrCertValidityPeriod||{}),new a.Sequence({name:g.attributes||"",value:[new a.Repeated({value:e["default"].schema()})]}),new a.BitString({optional:!0,name:g.issuerUniqueID||""}),f["default"].schema(g.extensions||{},!0)]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["version","baseCertificateID","subjectName","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);h=a.compareSchema(h,h,g.schema({names:{version:"version",baseCertificateID:"baseCertificateID",subjectName:"subjectName",issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV1");this.version=h.result.version.valueBlock.valueDec;"baseCertificateID"in h.result&&(this.baseCertificateID=new m({schema:new a.Sequence({value:h.result.baseCertificateID.valueBlock.value})}));"subjectName"in h.result&&(this.subjectName=new c["default"]({schema:new a.Sequence({value:h.result.subjectName.valueBlock.value})}));this.issuer=h.result.issuer;this.signature=new d["default"]({schema:h.result.signature});this.serialNumber=h.result.serialNumber;this.attrCertValidityPeriod=new l({schema:h.result.attrCertValidityPeriod});this.attributes=Array.from(h.result.attributes.valueBlock.value,function(a){return new e["default"]({schema:a})});"issuerUniqueID"in h.result&&(this.issuerUniqueID=h.result.issuerUniqueID);"extensions"in h.result&&(this.extensions=new f["default"]({schema:h.result.extensions}))};h.toSchema=function(){var b=new a.Sequence({value:[new a.Integer({value:this.version})]});"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"subjectName"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value}));b.valueBlock.value.push(this.issuer.toSchema());b.valueBlock.value.push(this.signature.toSchema());b.valueBlock.value.push(this.serialNumber);b.valueBlock.value.push(this.attrCertValidityPeriod.toSchema());b.valueBlock.value.push(new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})}));"issuerUniqueID"in this&&b.valueBlock.value.push(this.issuerUniqueID);"extensions"in this&&b.valueBlock.value.push(this.extensions.toSchema());return b};h.toJSON=function(){var a={version:this.version};"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"subjectName"in this&&(a.subjectName=this.subjectName.toJSON());a.issuer=this.issuer.toJSON();a.signature=this.signature.toJSON();a.serialNumber=this.serialNumber.toJSON();a.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON();a.attributes=Array.from(this.attributes,function(a){return a.toJSON()});"issuerUniqueID"in this&&(a.issuerUniqueID=this.issuerUniqueID.toJSON());"extensions"in this&&(a.extensions=this.extensions.toJSON());return a};return g}();Wd.AttributeCertificateInfoV1=o;k=function(){function c(a){a===void 0&&(a={}),this.acinfo=b.getParametersValue(a,"acinfo",c.defaultValues("acinfo")),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",c.defaultValues("signatureAlgorithm")),this.signatureValue=b.getParametersValue(a,"signatureValue",c.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"acinfo":return new o();case"signatureAlgorithm":return new d["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for AttributeCertificateV1 class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[o.schema(c.acinfo||{}),d["default"].schema(c.signatureAlgorithm||{}),new a.BitString({name:c.signatureValue||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["acinfo","signatureValue","signatureAlgorithm"]);e=a.compareSchema(e,e,c.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateV1");this.acinfo=new o({schema:e.result.acinfo});this.signatureAlgorithm=new d["default"]({schema:e.result.signatureAlgorithm});this.signatureValue=e.result.signatureValue};e.toSchema=function(){return new a.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})};e.toJSON=function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}};return c}();Wd["default"]=k}var Zd=!1;function $d(){Zd||(Zd=!0,Yd());return Xd.exports}var ae={},be={exports:ae};function ce(){Object.defineProperty(ae,"__esModule",{value:!0});ae["default"]=ae.V2Form=ae.ObjectDigestInfo=ae.Holder=ae.AttributeCertificateInfoV2=void 0;var a=l(g()),b=h(),c=j(ac()),d=j(n()),e=j(H()),f=j(Qd()),i=$d();function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}var m=function(){function c(a){a===void 0&&(a={}),this.digestedObjectType=b.getParametersValue(a,"digestedObjectType",c.defaultValues("digestedObjectType")),"otherObjectTypeID"in a&&(this.otherObjectTypeID=b.getParametersValue(a,"otherObjectTypeID",c.defaultValues("otherObjectTypeID"))),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",c.defaultValues("digestAlgorithm")),this.objectDigest=b.getParametersValue(a,"objectDigest",c.defaultValues("objectDigest")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"digestedObjectType":return new a.Enumerated();case"otherObjectTypeID":return new a.ObjectIdentifier();case"digestAlgorithm":return new d["default"]();case"objectDigest":return new a.BitString();default:throw new Error("Invalid member name for ObjectDigestInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Enumerated({name:c.digestedObjectType||""}),new a.ObjectIdentifier({optional:!0,name:c.otherObjectTypeID||""}),d["default"].schema(c.digestAlgorithm||{}),new a.BitString({name:c.objectDigest||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["digestedObjectType","otherObjectTypeID","digestAlgorithm","objectDigest"]);e=a.compareSchema(e,e,c.schema({names:{digestedObjectType:"digestedObjectType",otherObjectTypeID:"otherObjectTypeID",digestAlgorithm:{names:{blockName:"digestAlgorithm"}},objectDigest:"objectDigest"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ObjectDigestInfo");this.digestedObjectType=e.result.digestedObjectType;"otherObjectTypeID"in e.result&&(this.otherObjectTypeID=e.result.otherObjectTypeID);this.digestAlgorithm=new d["default"]({schema:e.result.digestAlgorithm});this.objectDigest=e.result.objectDigest};e.toSchema=function(){var b=new a.Sequence({value:[this.digestedObjectType]});"otherObjectTypeID"in this&&b.value.push(this.otherObjectTypeID);b.value.push(this.digestAlgorithm.toSchema());b.value.push(this.objectDigest);return b};e.toJSON=function(){var a={digestedObjectType:this.digestedObjectType.toJSON()};"otherObjectTypeID"in this&&(a.otherObjectTypeID=this.otherObjectTypeID.toJSON());a.digestAlgorithm=this.digestAlgorithm.toJSON();a.objectDigest=this.objectDigest.toJSON();return a};return c}();ae.ObjectDigestInfo=m;var o=function(){function d(a){a===void 0&&(a={}),"issuerName"in a&&(this.issuerName=b.getParametersValue(a,"issuerName",d.defaultValues("issuerName"))),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",d.defaultValues("baseCertificateID"))),"objectDigestInfo"in a&&(this.objectDigestInfo=b.getParametersValue(a,"objectDigestInfo",d.defaultValues("objectDigestInfo"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"issuerName":return new c["default"]();case"baseCertificateID":return new i.IssuerSerial();case"objectDigestInfo":return new m();default:throw new Error("Invalid member name for V2Form class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema({names:{blockName:d.issuerName}},!0),new a.Constructed({optional:!0,name:d.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:i.IssuerSerial.schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:1},value:m.schema().valueBlock.value})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuerName","baseCertificateID","objectDigestInfo"]);e=a.compareSchema(e,e,d.schema({names:{issuerName:"issuerName",baseCertificateID:"baseCertificateID",objectDigestInfo:"objectDigestInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for V2Form");"issuerName"in e.result&&(this.issuerName=new c["default"]({schema:e.result.issuerName}));"baseCertificateID"in e.result&&(this.baseCertificateID=new i.IssuerSerial({schema:new a.Sequence({value:e.result.baseCertificateID.valueBlock.value})}));"objectDigestInfo"in e.result&&(this.objectDigestInfo=new m({schema:new a.Sequence({value:e.result.objectDigestInfo.valueBlock.value})}))};e.toSchema=function(){var b=new a.Sequence();"issuerName"in this&&b.valueBlock.value.push(this.issuerName.toSchema());"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"objectDigestInfo"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value}));return b};e.toJSON=function(){var a={};"issuerName"in this&&(a.issuerName=this.issuerName.toJSON());"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"objectDigestInfo"in this&&(a.objectDigestInfo=this.objectDigestInfo.toJSON());return a};return d}();ae.V2Form=o;var p=function(){function d(a){a===void 0&&(a={}),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",d.defaultValues("baseCertificateID"))),"entityName"in a&&(this.entityName=b.getParametersValue(a,"entityName",d.defaultValues("entityName"))),"objectDigestInfo"in a&&(this.objectDigestInfo=b.getParametersValue(a,"objectDigestInfo",d.defaultValues("objectDigestInfo"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"baseCertificateID":return new i.IssuerSerial();case"entityName":return new c["default"]();case"objectDigestInfo":return new m();default:throw new Error("Invalid member name for Holder class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({optional:!0,name:d.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:i.IssuerSerial.schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.entityName||"",idBlock:{tagClass:3,tagNumber:1},value:c["default"].schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:2},value:m.schema().valueBlock.value})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["baseCertificateID","entityName","objectDigestInfo"]);e=a.compareSchema(e,e,d.schema({names:{baseCertificateID:"baseCertificateID",entityName:"entityName",objectDigestInfo:"objectDigestInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for Holder");"baseCertificateID"in e.result&&(this.baseCertificateID=new i.IssuerSerial({schema:new a.Sequence({value:e.result.baseCertificateID.valueBlock.value})}));"entityName"in e.result&&(this.entityName=new c["default"]({schema:new a.Sequence({value:e.result.entityName.valueBlock.value})}));"objectDigestInfo"in e.result&&(this.objectDigestInfo=new m({schema:new a.Sequence({value:e.result.objectDigestInfo.valueBlock.value})}))};e.toSchema=function(){var b=new a.Sequence();"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"entityName"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value}));"objectDigestInfo"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value}));return b};e.toJSON=function(){var a={};"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"entityName"in this&&(a.entityName=this.entityName.toJSON());"objectDigestInfo"in this&&(a.objectDigestInfo=this.objectDigestInfo.toJSON());return a};return d}();ae.Holder=p;var q=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.holder=b.getParametersValue(a,"holder",g.defaultValues("holder")),this.issuer=b.getParametersValue(a,"issuer",g.defaultValues("issuer")),this.signature=b.getParametersValue(a,"signature",g.defaultValues("signature")),this.serialNumber=b.getParametersValue(a,"serialNumber",g.defaultValues("serialNumber")),this.attrCertValidityPeriod=b.getParametersValue(a,"attrCertValidityPeriod",g.defaultValues("attrCertValidityPeriod")),this.attributes=b.getParametersValue(a,"attributes",g.defaultValues("attributes")),"issuerUniqueID"in a&&(this.issuerUniqueID=b.getParametersValue(a,"issuerUniqueID",g.defaultValues("issuerUniqueID"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",g.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 1;case"holder":return new p();case"issuer":return{};case"signature":return new d["default"]();case"serialNumber":return new a.Integer();case"attrCertValidityPeriod":return new i.AttCertValidityPeriod();case"attributes":return[];case"issuerUniqueID":return new a.BitString();case"extensions":return new f["default"]();default:throw new Error("Invalid member name for AttributeCertificateInfoV2 class: "+b)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Sequence({name:g.blockName||"",value:[new a.Integer({name:g.version||""}),p.schema(g.holder||{}),new a.Choice({value:[c["default"].schema({names:{blockName:g.issuer||""}}),new a.Constructed({name:g.issuer||"",idBlock:{tagClass:3,tagNumber:0},value:o.schema().valueBlock.value})]}),d["default"].schema(g.signature||{}),new a.Integer({name:g.serialNumber||""}),i.AttCertValidityPeriod.schema(g.attrCertValidityPeriod||{}),new a.Sequence({name:g.attributes||"",value:[new a.Repeated({value:e["default"].schema()})]}),new a.BitString({optional:!0,name:g.issuerUniqueID||""}),f["default"].schema(g.extensions||{},!0)]})};var h=g.prototype;h.fromSchema=function(c){b.clearProps(c,["version","holder","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);c=a.compareSchema(c,c,g.schema({names:{version:"version",holder:{names:{blockName:"holder"}},issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(c.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV2");this.version=c.result.version.valueBlock.valueDec;this.holder=new p({schema:c.result.holder});switch(c.result.issuer.idBlock.tagClass){case 3:this.issuer=new o({schema:new a.Sequence({value:c.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new d["default"]({schema:c.result.signature});this.serialNumber=c.result.serialNumber;this.attrCertValidityPeriod=new i.AttCertValidityPeriod({schema:c.result.attrCertValidityPeriod});this.attributes=Array.from(c.result.attributes.valueBlock.value,function(a){return new e["default"]({schema:a})});"issuerUniqueID"in c.result&&(this.issuerUniqueID=c.result.issuerUniqueID);"extensions"in c.result&&(this.extensions=new f["default"]({schema:c.result.extensions}))};h.toSchema=function(){var b=new a.Sequence({value:[new a.Integer({value:this.version}),this.holder.toSchema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})]});"issuerUniqueID"in this&&b.valueBlock.value.push(this.issuerUniqueID);"extensions"in this&&b.valueBlock.value.push(this.extensions.toSchema());return b};h.toJSON=function(){var a={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,function(a){return a.toJSON()})};"issuerUniqueID"in this&&(a.issuerUniqueID=this.issuerUniqueID.toJSON());"extensions"in this&&(a.extensions=this.extensions.toJSON());return a};return g}();ae.AttributeCertificateInfoV2=q;l=function(){function c(a){a===void 0&&(a={}),this.acinfo=b.getParametersValue(a,"acinfo",c.defaultValues("acinfo")),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",c.defaultValues("signatureAlgorithm")),this.signatureValue=b.getParametersValue(a,"signatureValue",c.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"acinfo":return new q();case"signatureAlgorithm":return new d["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for AttributeCertificateV2 class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[q.schema(c.acinfo||{}),d["default"].schema(c.signatureAlgorithm||{}),new a.BitString({name:c.signatureValue||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["acinfo","signatureAlgorithm","signatureValue"]);e=a.compareSchema(e,e,c.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateV2");this.acinfo=new q({schema:e.result.acinfo});this.signatureAlgorithm=new d["default"]({schema:e.result.signatureAlgorithm});this.signatureValue=e.result.signatureValue};e.toSchema=function(){return new a.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})};e.toJSON=function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}};return c}();ae["default"]=l}var de=!1;function ee(){de||(de=!0,ce());return be.exports}var fe={},ge={exports:fe};function he(){Object.defineProperty(fe,"__esModule",{value:!0});fe["default"]=void 0;var a=i(g()),b=h(),c=e(Vd()),d=e(ee());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.certId=b.getParametersValue(a,"certId",e.defaultValues("certId")),this.certValue=b.getParametersValue(a,"certValue",e.defaultValues("certValue")),"parsedValue"in a&&(this.parsedValue=b.getParametersValue(a,"parsedValue",e.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"certId":return"";case"certValue":return new a.Any();case"parsedValue":return{};default:throw new Error("Invalid member name for CertBag class: "+b)}};e.compareWithDefault=function(b,c){switch(b){case"certId":return c==="";case"certValue":return c instanceof a.Any;case"parsedValue":return c instanceof Object&&Object.keys(c).length===0;default:throw new Error("Invalid member name for CertBag class: "+b)}};e.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["certId","certValue"]);f=a.compareSchema(f,f,e.schema({names:{id:"certId",value:"certValue"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for CertBag");this.certId=f.result.certId.valueBlock.toString();this.certValue=f.result.certValue;switch(this.certId){case"1.2.840.113549.1.9.22.1":f=a.fromBER(this.certValue.valueBlock.valueHex);try{this.parsedValue=new c["default"]({schema:f.result})}catch(a){this.parsedValue=new d["default"]({schema:f.result})}break;case"1.2.840.113549.1.9.22.3":f=a.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new d["default"]({schema:f.result});break;case"1.2.840.113549.1.9.22.2":default:throw new Error('Incorrect "certId" value in CertBag: '+this.certId)}};f.toSchema=function(){"parsedValue"in this&&("acinfo"in this.parsedValue?this.certId="1.2.840.113549.1.9.22.3":this.certId="1.2.840.113549.1.9.22.1",this.certValue=new a.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)}));return new a.Sequence({value:[new a.ObjectIdentifier({value:this.certId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})};f.toJSON=function(){return{certId:this.certId,certValue:this.certValue.toJSON()}};return e}();fe["default"]=i}var ie=!1;function je(){ie||(ie=!0,he());return ge.exports}var ke={},le={exports:ke};function me(){Object.defineProperty(ke,"__esModule",{value:!0});ke["default"]=void 0;var a=i(g()),b=h(),c=e(Db()),d=e(Qd());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.userCertificate=b.getParametersValue(a,"userCertificate",e.defaultValues("userCertificate")),this.revocationDate=b.getParametersValue(a,"revocationDate",e.defaultValues("revocationDate")),"crlEntryExtensions"in a&&(this.crlEntryExtensions=b.getParametersValue(a,"crlEntryExtensions",e.defaultValues("crlEntryExtensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"userCertificate":return new a.Integer();case"revocationDate":return new c["default"]();case"crlEntryExtensions":return new d["default"]();default:throw new Error("Invalid member name for RevokedCertificate class: "+b)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.userCertificate||"userCertificate"}),c["default"].schema({names:{utcTimeName:e.revocationDate||"revocationDate",generalTimeName:e.revocationDate||"revocationDate"}}),d["default"].schema({names:{blockName:e.crlEntryExtensions||"crlEntryExtensions"}},!0)]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["userCertificate","revocationDate","crlEntryExtensions"]);f=a.compareSchema(f,f,e.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for RevokedCertificate");this.userCertificate=f.result.userCertificate;this.revocationDate=new c["default"]({schema:f.result.revocationDate});"crlEntryExtensions"in f.result&&(this.crlEntryExtensions=new d["default"]({schema:f.result.crlEntryExtensions}))};f.toSchema=function(){var b=[this.userCertificate,this.revocationDate.toSchema()];"crlEntryExtensions"in this&&b.push(this.crlEntryExtensions.toSchema());return new a.Sequence({value:b})};f.toJSON=function(){var a={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON};"crlEntryExtensions"in this&&(a.crlEntryExtensions=this.crlEntryExtensions.toJSON());return a};return e}();ke["default"]=i}var ne=!1;function oe(){ne||(ne=!0,me());return le.exports}var pe={},qe={exports:pe};function re(){Object.defineProperty(pe,"__esModule",{value:!0});pe["default"]=void 0;var a=o(g()),c=h(),d=W(),e=l(n()),f=l(Qa()),i=l(Db()),j=l(oe()),k=l(Qd());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function o(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function p(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=q(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function q(a,b){if(!a)return;if(typeof a==="string")return r(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return r(a,b)}function r(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function s(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"tbsCertList",value:[new a.Integer({optional:!0,name:b.tbsCertListVersion||"tbsCertList.version",value:2}),e["default"].schema(b.signature||{names:{blockName:"tbsCertList.signature"}}),f["default"].schema(b.issuer||{names:{blockName:"tbsCertList.issuer"}}),i["default"].schema(b.tbsCertListThisUpdate||{names:{utcTimeName:"tbsCertList.thisUpdate",generalTimeName:"tbsCertList.thisUpdate"}}),i["default"].schema(b.tbsCertListNextUpdate||{names:{utcTimeName:"tbsCertList.nextUpdate",generalTimeName:"tbsCertList.nextUpdate"}},!0),new a.Sequence({optional:!0,value:[new a.Repeated({name:b.tbsCertListRevokedCertificates||"tbsCertList.revokedCertificates",value:new a.Sequence({value:[new a.Integer(),i["default"].schema(),k["default"].schema({},!0)]})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[k["default"].schema(b.crlExtensions||{names:{blockName:"tbsCertList.extensions"}})]})]})}o=function(){function g(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",g.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.signature=c.getParametersValue(a,"signature",g.defaultValues("signature")),this.issuer=c.getParametersValue(a,"issuer",g.defaultValues("issuer")),this.thisUpdate=c.getParametersValue(a,"thisUpdate",g.defaultValues("thisUpdate")),"nextUpdate"in a&&(this.nextUpdate=c.getParametersValue(a,"nextUpdate",g.defaultValues("nextUpdate"))),"revokedCertificates"in a&&(this.revokedCertificates=c.getParametersValue(a,"revokedCertificates",g.defaultValues("revokedCertificates"))),"crlExtensions"in a&&(this.crlExtensions=c.getParametersValue(a,"crlExtensions",g.defaultValues("crlExtensions"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",g.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 1;case"signature":return new e["default"]();case"issuer":return new f["default"]();case"thisUpdate":return new i["default"]();case"nextUpdate":return new i["default"]();case"revokedCertificates":return[];case"crlExtensions":return new k["default"]();case"signatureAlgorithm":return new e["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for CertificateRevocationList class: "+b)}};g.schema=function(b){b===void 0&&(b={});var d=c.getParametersValue(b,"names",{});return new a.Sequence({name:d.blockName||"CertificateList",value:[s(b),e["default"].schema(d.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new a.BitString({name:d.signatureValue||"signatureValue"})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["tbsCertList","tbsCertList.version","tbsCertList.signature","tbsCertList.issuer","tbsCertList.thisUpdate","tbsCertList.nextUpdate","tbsCertList.revokedCertificates","tbsCertList.extensions","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateRevocationList");this.tbs=b.result.tbsCertList.valueBeforeDecode;"tbsCertList.version"in b.result&&(this.version=b.result["tbsCertList.version"].valueBlock.valueDec);this.signature=new e["default"]({schema:b.result["tbsCertList.signature"]});this.issuer=new f["default"]({schema:b.result["tbsCertList.issuer"]});this.thisUpdate=new i["default"]({schema:b.result["tbsCertList.thisUpdate"]});"tbsCertList.nextUpdate"in b.result&&(this.nextUpdate=new i["default"]({schema:b.result["tbsCertList.nextUpdate"]}));"tbsCertList.revokedCertificates"in b.result&&(this.revokedCertificates=Array.from(b.result["tbsCertList.revokedCertificates"],function(a){return new j["default"]({schema:a})}));"tbsCertList.extensions"in b.result&&(this.crlExtensions=new k["default"]({schema:b.result["tbsCertList.extensions"]}));this.signatureAlgorithm=new e["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};h.encodeTBS=function(){var b=[];this.version!==g.defaultValues("version")&&b.push(new a.Integer({value:this.version}));b.push(this.signature.toSchema());b.push(this.issuer.toSchema());b.push(this.thisUpdate.toSchema());"nextUpdate"in this&&b.push(this.nextUpdate.toSchema());"revokedCertificates"in this&&b.push(new a.Sequence({value:Array.from(this.revokedCertificates,function(a){return a.toSchema()})}));"crlExtensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]}));return new a.Sequence({value:b})};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.length===0)return g.schema();b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};h.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};this.version!==g.defaultValues("version")&&(a.version=this.version);"nextUpdate"in this&&(a.nextUpdate=this.nextUpdate.toJSON());"revokedCertificates"in this&&(a.revokedCertificates=Array.from(this.revokedCertificates,function(a){return a.toJSON()}));"crlExtensions"in this&&(a.crlExtensions=this.crlExtensions.toJSON());return a};h.isCertificateRevoked=function(a){if(this.issuer.isEqual(a.issuer)===!1)return!1;if("revokedCertificates"in this===!1)return!1;var b=p(this.revokedCertificates),c;try{for(b.s();!(c=b.n()).done;){c=c.value;if(c.userCertificate.isEqual(a.serialNumber))return!0}}catch(a){b.e(a)}finally{b.f()}return!1};h.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return b("Promise").reject("Need to provide a private key for signing");var g=b("Promise").resolve(),h,i=d.getEngine();g=g.then(function(){return i.subtle.getSignatureParameters(c,e)});g=g.then(function(a){h=a.parameters,f.signature=a.signatureAlgorithm,f.signatureAlgorithm=a.signatureAlgorithm});g=g.then(function(){f.tbs=f.encodeTBS().toBER(!1)});g=g.then(function(){return i.subtle.signWithPrivateKey(f.tbs,c,h)});g=g.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return g};h.verify=function(a){var c=this;a===void 0&&(a={});var e=b("Promise").resolve(),f=-1,g=d.getEngine();if("issuerCertificate"in a){f=a.issuerCertificate.subjectPublicKeyInfo;if(this.issuer.isEqual(a.issuerCertificate.subject)===!1)return b("Promise").resolve(!1)}"publicKeyInfo"in a&&(f=a.publicKeyInfo);if("subjectPublicKey"in f===!1)return b("Promise").reject("Issuer's certificate must be provided as an input parameter");if("crlExtensions"in this){a=p(this.crlExtensions.extensions);var h;try{for(a.s();!(h=a.n()).done;){h=h.value;if(h.critical&&"parsedValue"in h===!1)return b("Promise").resolve(!1)}}catch(b){a.e(b)}finally{a.f()}}e=e.then(function(){return g.subtle.verifyWithPublicKey(c.tbs,c.signatureValue,f,c.signatureAlgorithm)});return e};return g}();pe["default"]=o}var se=!1;function te(){se||(se=!0,re());return qe.exports}var ue={},ve={exports:ue};function we(){Object.defineProperty(ue,"__esModule",{value:!0});ue["default"]=void 0;var a=f(g()),b=h(),c=d(te());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.crlId=b.getParametersValue(a,"crlId",d.defaultValues("crlId")),this.crlValue=b.getParametersValue(a,"crlValue",d.defaultValues("crlValue")),"parsedValue"in a&&(this.parsedValue=b.getParametersValue(a,"parsedValue",d.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"crlId":return"";case"crlValue":return new a.Any();case"parsedValue":return{};default:throw new Error("Invalid member name for CRLBag class: "+b)}};d.compareWithDefault=function(b,c){switch(b){case"crlId":return c==="";case"crlValue":return c instanceof a.Any;case"parsedValue":return c instanceof Object&&Object.keys(c).length===0;default:throw new Error("Invalid member name for CRLBag class: "+b)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["crlId","crlValue"]);e=a.compareSchema(e,e,d.schema({names:{id:"crlId",value:"crlValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CRLBag");this.crlId=e.result.crlId.valueBlock.toString();this.crlValue=e.result.crlValue;switch(this.crlId){case"1.2.840.113549.1.9.23.1":e=a.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new c["default"]({schema:e.result});break;default:throw new Error('Incorrect "crlId" value in CRLBag: '+this.crlId)}};e.toSchema=function(){"parsedValue"in this&&(this.certId="1.2.840.113549.1.9.23.1",this.certValue=new a.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)}));return new a.Sequence({value:[new a.ObjectIdentifier({value:this.crlId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})};e.toJSON=function(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}};return d}();ue["default"]=f}var xe=!1;function ye(){xe||(xe=!0,we());return ve.exports}var ze={},Ae={exports:ze};function Be(){Object.defineProperty(ze,"__esModule",{value:!0});ze["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.secretTypeId=b.getParametersValue(a,"secretTypeId",c.defaultValues("secretTypeId")),this.secretValue=b.getParametersValue(a,"secretValue",c.defaultValues("secretValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"secretTypeId":return"";case"secretValue":return new a.Any();default:throw new Error("Invalid member name for SecretBag class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"secretTypeId":return c==="";case"secretValue":return c instanceof a.Any;default:throw new Error("Invalid member name for SecretBag class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["secretTypeId","secretValue"]);d=a.compareSchema(d,d,c.schema({names:{id:"secretTypeId",value:"secretValue"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for SecretBag");this.secretTypeId=d.result.secretTypeId.valueBlock.toString();this.secretValue=d.result.secretValue};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.secretTypeId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})};d.toJSON=function(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}};return c}();ze["default"]=d}var Ce=!1;function De(){Ce||(Ce=!0,Be());return Ae.exports}var Ee={},Fe={exports:Ee};function Ge(){Object.defineProperty(Ee,"__esModule",{value:!0});Ee["default"]=void 0;var a=n(g()),b=h(),c=l(H()),d=l(oa()),e=l(yb()),f=l(je()),i=l(ye()),j=l(De()),k=l(Ne());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function n(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}n=function(){function g(a){a===void 0&&(a={}),this.bagId=b.getParametersValue(a,"bagId",g.defaultValues("bagId")),this.bagValue=b.getParametersValue(a,"bagValue",g.defaultValues("bagValue")),"bagAttributes"in a&&(this.bagAttributes=b.getParametersValue(a,"bagAttributes",g.defaultValues("bagAttributes"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"bagId":return"";case"bagValue":return new a.Any();case"bagAttributes":return[];default:throw new Error("Invalid member name for SafeBag class: "+b)}};g.compareWithDefault=function(b,c){switch(b){case"bagId":return c==="";case"bagValue":return c instanceof a.Any;case"bagAttributes":return c.length===0;default:throw new Error("Invalid member name for SafeBag class: "+b)}};g.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.bagId||"bagId"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:d.bagValue||"bagValue"})]}),new a.Set({optional:!0,value:[new a.Repeated({name:d.bagAttributes||"bagAttributes",value:c["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["bagId","bagValue","bagAttributes"]);h=a.compareSchema(h,h,g.schema({names:{bagId:"bagId",bagValue:"bagValue",bagAttributes:"bagAttributes"}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for SafeBag");this.bagId=h.result.bagId.valueBlock.toString();switch(this.bagId){case"1.2.840.113549.1.12.10.1.1":this.bagValue=new d["default"]({schema:h.result.bagValue});break;case"1.2.840.113549.1.12.10.1.2":this.bagValue=new e["default"]({schema:h.result.bagValue});break;case"1.2.840.113549.1.12.10.1.3":this.bagValue=new f["default"]({schema:h.result.bagValue});break;case"1.2.840.113549.1.12.10.1.4":this.bagValue=new i["default"]({schema:h.result.bagValue});break;case"1.2.840.113549.1.12.10.1.5":this.bagValue=new j["default"]({schema:h.result.bagValue});break;case"1.2.840.113549.1.12.10.1.6":this.bagValue=new k["default"]({schema:h.result.bagValue});break;default:throw new Error('Invalid "bagId" for SafeBag: '+this.bagId)}"bagAttributes"in h.result&&(this.bagAttributes=Array.from(h.result.bagAttributes,function(a){return new c["default"]({schema:a})}))};h.toSchema=function(){var b=[new a.ObjectIdentifier({value:this.bagId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];"bagAttributes"in this&&b.push(new a.Set({value:Array.from(this.bagAttributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){var a={bagId:this.bagId,bagValue:this.bagValue.toJSON()};"bagAttributes"in this&&(a.bagAttributes=Array.from(this.bagAttributes,function(a){return a.toJSON()}));return a};return g}();Ee["default"]=n}var He=!1;function Ie(){He||(He=!0,Ge());return Fe.exports}var Je={},Ke={exports:Je};function Le(){Object.defineProperty(Je,"__esModule",{value:!0});Je["default"]=void 0;var a=f(g()),b=h(),c=d(Ie());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.safeBags=b.getParametersValue(a,"safeBags",d.defaultValues("safeBags")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"safeBags":return[];default:throw new Error("Invalid member name for SafeContents class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"safeBags":return b.length===0;default:throw new Error("Invalid member name for SafeContents class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.safeBags||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["safeBags"]);e=a.compareSchema(e,e,d.schema({names:{safeBags:"safeBags"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SafeContents");this.safeBags=Array.from(e.result.safeBags,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.safeBags,function(a){return a.toSchema()})})};e.toJSON=function(){return{safeBags:Array.from(this.safeBags,function(a){return a.toJSON()})}};return d}();Je["default"]=f}var Me=!1;function Ne(){Me||(Me=!0,Le());return Ke.exports}var Oe={},Pe={exports:Oe};function Qe(){Object.defineProperty(Oe,"__esModule",{value:!0});Oe["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.otherCertFormat=b.getParametersValue(a,"otherCertFormat",c.defaultValues("otherCertFormat")),this.otherCert=b.getParametersValue(a,"otherCert",c.defaultValues("otherCert")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"otherCertFormat":return"";case"otherCert":return new a.Any();default:throw new Error("Invalid member name for OtherCertificateFormat class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.otherCertFormat||"otherCertFormat"}),new a.Any({name:c.otherCert||"otherCert"})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["otherCertFormat","otherCert"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherCertificateFormat");this.otherCertFormat=d.result.otherCertFormat.valueBlock.toString();this.otherCert=d.result.otherCert};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.otherCertFormat}),this.otherCert]})};d.toJSON=function(){var b={otherCertFormat:this.otherCertFormat};this.otherCert instanceof a.Any||(b.otherCert=this.otherCert.toJSON());return b};return c}();Oe["default"]=d}var Re=!1;function Se(){Re||(Re=!0,Qe());return Pe.exports}var Te={},Ue={exports:Te};function Ve(){Object.defineProperty(Te,"__esModule",{value:!0});Te["default"]=void 0;var a=k(g()),b=h(),c=i(Vd()),d=i($d()),e=i(ee()),f=i(Se());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.certificates=b.getParametersValue(a,"certificates",g.defaultValues("certificates")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"certificates":return[];default:throw new Error("Invalid member name for Attribute class: "+a)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Set({name:g.blockName||"",value:[new a.Repeated({name:g.certificates||"certificates",value:new a.Choice({value:[c["default"].schema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any()]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:e["default"].schema().valueBlock.value}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:f["default"].schema().valueBlock.value})]})})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["certificates"]);h=a.compareSchema(h,h,g.schema());if(h.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateSet");this.certificates=Array.from(h.result.certificates||[],function(b){var g=b.idBlock.tagNumber;if(b.idBlock.tagClass===1)return new c["default"]({schema:b});var h=new a.Sequence({value:b.valueBlock.value});switch(g){case 1:return new d["default"]({schema:h});case 2:return new e["default"]({schema:h});case 3:return new f["default"]({schema:h});case 0:default:}return b})};h.toSchema=function(){return new a.Set({value:Array.from(this.certificates,function(b){switch(!0){case b instanceof c["default"]:return b.toSchema();case b instanceof d["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:b.toSchema().valueBlock.value});case b instanceof e["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:b.toSchema().valueBlock.value});case b instanceof f["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:b.toSchema().valueBlock.value});default:}return b})})};h.toJSON=function(){return{certificates:Array.from(this.certificates,function(a){return a.toJSON()})}};return g}();Te["default"]=k}var We=!1;function Xe(){We||(We=!0,Ve());return Ue.exports}var Ye={},Ze={exports:Ye};function $e(){Object.defineProperty(Ye,"__esModule",{value:!0});Ye["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.otherRevInfoFormat=b.getParametersValue(a,"otherRevInfoFormat",c.defaultValues("otherRevInfoFormat")),this.otherRevInfo=b.getParametersValue(a,"otherRevInfo",c.defaultValues("otherRevInfo")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"otherRevInfoFormat":return"";case"otherRevInfo":return new a.Any();default:throw new Error("Invalid member name for OtherRevocationInfoFormat class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.otherRevInfoFormat||"otherRevInfoFormat"}),new a.Any({name:c.otherRevInfo||"otherRevInfo"})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["otherRevInfoFormat","otherRevInfo"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherRevocationInfoFormat");this.otherRevInfoFormat=d.result.otherRevInfoFormat.valueBlock.toString();this.otherRevInfo=d.result.otherRevInfo};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.otherRevInfoFormat}),this.otherRevInfo]})};d.toJSON=function(){var b={otherRevInfoFormat:this.otherRevInfoFormat};this.otherRevInfo instanceof a.Any||(b.otherRevInfo=this.otherRevInfo.toJSON());return b};return c}();Ye["default"]=d}var af=!1;function bf(){af||(af=!0,$e());return Ze.exports}var cf={},df={exports:cf};function ef(){Object.defineProperty(cf,"__esModule",{value:!0});cf["default"]=void 0;var a=i(g()),b=h(),c=e(te()),d=e(bf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function j(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function k(a,b){if(!a)return;if(typeof a==="string")return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}function l(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}i=function(){function e(a){a===void 0&&(a={}),this.crls=b.getParametersValue(a,"crls",e.defaultValues("crls")),this.otherRevocationInfos=b.getParametersValue(a,"otherRevocationInfos",e.defaultValues("otherRevocationInfos")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"crls":return[];case"otherRevocationInfos":return[];default:throw new Error("Invalid member name for RevocationInfoChoices class: "+a)}};e.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Set({name:d.blockName||"",value:[new a.Repeated({name:d.crls||"",value:new a.Choice({value:[c["default"].schema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.ObjectIdentifier(),new a.Any()]})]})})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["crls"]);f=a.compareSchema(f,f,e.schema({names:{crls:"crls"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for RevocationInfoChoices");f=j(f.result.crls);var g;try{for(f.s();!(g=f.n()).done;){g=g.value;g.idBlock.tagClass===1?this.crls.push(new c["default"]({schema:g})):this.otherRevocationInfos.push(new d["default"]({schema:g}))}}catch(a){f.e(a)}finally{f.f()}};f.toSchema=function(){var b=[];b.push.apply(b,Array.from(this.crls,function(a){return a.toSchema()}));b.push.apply(b,Array.from(this.otherRevocationInfos,function(a){a=a.toSchema();a.idBlock.tagClass=3;a.idBlock.tagNumber=1;return a}));return new a.Set({value:b})};f.toJSON=function(){return{crls:Array.from(this.crls,function(a){return a.toJSON()}),otherRevocationInfos:Array.from(this.otherRevocationInfos,function(a){return a.toJSON()})}};return e}();cf["default"]=i}var ff=!1;function gf(){ff||(ff=!0,ef());return df.exports}var hf={},jf={exports:hf};function kf(){Object.defineProperty(hf,"__esModule",{value:!0});hf["default"]=void 0;var a=i(g()),b=h(),c=e(Xe()),d=e(gf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),"certs"in a&&(this.certs=b.getParametersValue(a,"certs",e.defaultValues("certs"))),"crls"in a&&(this.crls=b.getParametersValue(a,"crls",e.defaultValues("crls"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"certs":return new c["default"]();case"crls":return new d["default"]();default:throw new Error("Invalid member name for OriginatorInfo class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"certs":return b.certificates.length===0;case"crls":return b.crls.length===0&&b.otherRevocationInfos.length===0;default:throw new Error("Invalid member name for OriginatorInfo class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({name:e.certs||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:c["default"].schema().valueBlock.value}),new a.Constructed({name:e.crls||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["certs","crls"]);f=a.compareSchema(f,f,e.schema({names:{certs:"certs",crls:"crls"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorInfo");"certs"in f.result&&(this.certs=new c["default"]({schema:new a.Set({value:f.result.certs.valueBlock.value})}));"crls"in f.result&&(this.crls=new d["default"]({schema:new a.Set({value:f.result.crls.valueBlock.value})}))};f.toSchema=function(){var b=[];"certs"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value}));"crls"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"certs"in this&&(a.certs=this.certs.toJSON());"crls"in this&&(a.crls=this.crls.toJSON());return a};return e}();hf["default"]=i}var lf=!1;function mf(){lf||(lf=!0,kf());return jf.exports}var nf={},of={exports:nf};function pf(){Object.defineProperty(nf,"__esModule",{value:!0});nf["default"]=void 0;var a=f(g()),b=h(),c=d(Qa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.issuer=b.getParametersValue(a,"issuer",d.defaultValues("issuer")),this.serialNumber=b.getParametersValue(a,"serialNumber",d.defaultValues("serialNumber")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"issuer":return new c["default"]();case"serialNumber":return new a.Integer();default:throw new Error("Invalid member name for IssuerAndSerialNumber class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.issuer||{}),new a.Integer({name:d.serialNumber||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuer","serialNumber"]);e=a.compareSchema(e,e,d.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for IssuerAndSerialNumber");this.issuer=new c["default"]({schema:e.result.issuer});this.serialNumber=e.result.serialNumber};e.toSchema=function(){return new a.Sequence({value:[this.issuer.toSchema(),this.serialNumber]})};e.toJSON=function(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}};return d}();nf["default"]=f}var qf=!1;function rf(){qf||(qf=!0,pf());return of.exports}var sf={},tf={exports:sf};function uf(){Object.defineProperty(sf,"__esModule",{value:!0});sf["default"]=void 0;var a=f(g()),b=h(),c=d(rf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",d.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",d.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientIdentifier class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"values":return Object.keys(b).length===0;default:throw new Error("Invalid member name for RecipientIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:d.blockName||""}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:0}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["blockName"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"blockName"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientIdentifier");e.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:e.result.blockName})):(this.variant=2,this.value=new a.OctetString({valueHex:e.result.blockName.valueBlock.valueHex}))};e.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHex});default:return new a.Any()}};e.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2)&&(a.value=this.value.toJSON());return a};return d}();sf["default"]=f}var vf=!1;function wf(){vf||(vf=!0,uf());return tf.exports}var xf={},yf={exports:xf};function zf(){Object.defineProperty(xf,"__esModule",{value:!0});xf["default"]=void 0;var a=k(g()),b=h(),c=i(n()),d=i(Vd()),e=i(wf()),f=i(rf());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.rid=b.getParametersValue(a,"rid",g.defaultValues("rid")),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",g.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",g.defaultValues("encryptedKey")),this.recipientCertificate=b.getParametersValue(a,"recipientCertificate",g.defaultValues("recipientCertificate")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return-1;case"rid":return{};case"keyEncryptionAlgorithm":return new c["default"]();case"encryptedKey":return new a.OctetString();case"recipientCertificate":return new d["default"]();default:throw new Error("Invalid member name for KeyTransRecipientInfo class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===g.defaultValues("version");case"rid":return Object.keys(b).length===0;case"keyEncryptionAlgorithm":case"encryptedKey":return b.isEqual(g.defaultValues(a));case"recipientCertificate":return!1;default:throw new Error("Invalid member name for KeyTransRecipientInfo class: "+a)}};g.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),e["default"].schema(d.rid||{}),c["default"].schema(d.keyEncryptionAlgorithm||{}),new a.OctetString({name:d.encryptedKey||""})]})};var h=g.prototype;h.fromSchema=function(d){b.clearProps(d,["version","rid","keyEncryptionAlgorithm","encryptedKey"]);d=a.compareSchema(d,d,g.schema({names:{version:"version",rid:{names:{blockName:"rid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for KeyTransRecipientInfo");this.version=d.result.version.valueBlock.valueDec;d.result.rid.idBlock.tagClass===3?this.rid=new a.OctetString({valueHex:d.result.rid.valueBlock.valueHex}):this.rid=new f["default"]({schema:d.result.rid});this.keyEncryptionAlgorithm=new c["default"]({schema:d.result.keyEncryptionAlgorithm});this.encryptedKey=d.result.encryptedKey};h.toSchema=function(){var b=[];this.rid instanceof f["default"]?(this.version=0,b.push(new a.Integer({value:this.version})),b.push(this.rid.toSchema())):(this.version=2,b.push(new a.Integer({value:this.version})),b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHex})));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.encryptedKey);return new a.Sequence({value:b})};h.toJSON=function(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return g}();xf["default"]=k}var Af=!1;function Bf(){Af||(Af=!0,zf());return yf.exports}var Cf={},Df={exports:Cf};function Ef(){Object.defineProperty(Cf,"__esModule",{value:!0});Cf["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.algorithm=b.getParametersValue(a,"algorithm",d.defaultValues("algorithm")),this.publicKey=b.getParametersValue(a,"publicKey",d.defaultValues("publicKey")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"algorithm":return new c["default"]();case"publicKey":return new a.BitString();default:throw new Error("Invalid member name for OriginatorPublicKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"algorithm":case"publicKey":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for OriginatorPublicKey class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.algorithm||{}),new a.BitString({name:d.publicKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["algorithm","publicKey"]);e=a.compareSchema(e,e,d.schema({names:{algorithm:{names:{blockName:"algorithm"}},publicKey:"publicKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorPublicKey");this.algorithm=new c["default"]({schema:e.result.algorithm});this.publicKey=e.result.publicKey};e.toSchema=function(){return new a.Sequence({value:[this.algorithm.toSchema(),this.publicKey]})};e.toJSON=function(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}};return d}();Cf["default"]=f}var Ff=!1;function Gf(){Ff||(Ff=!0,Ef());return Df.exports}var Hf={},If={exports:Hf};function Jf(){Object.defineProperty(Hf,"__esModule",{value:!0});Hf["default"]=void 0;var a=i(g()),b=h(),c=e(rf()),d=e(Gf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",e.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",e.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:e.blockName||""}}),new a.Primitive({idBlock:{tagClass:3,tagNumber:0},name:e.blockName||""}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},name:e.blockName||"",value:d["default"].schema().valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["blockName"]);f=a.compareSchema(f,f,e.schema({names:{blockName:"blockName"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorIdentifierOrKey");f.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:f.result.blockName})):f.result.blockName.idBlock.tagNumber===0?(f.result.blockName.idBlock.tagClass=1,f.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=f.result.blockName):(this.variant=3,this.value=new d["default"]({schema:new a.Sequence({value:f.result.blockName.valueBlock.value})}))};f.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:this.value.idBlock.tagClass=3;this.value.idBlock.tagNumber=0;return this.value;case 3:var b=this.value.toSchema();b.idBlock.tagClass=3;b.idBlock.tagNumber=1;return b;default:return new a.Any()}};f.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2||this.variant===3)&&(a.value=this.value.toJSON());return a};return e}();Hf["default"]=i}var Kf=!1;function Lf(){Kf||(Kf=!0,Jf());return If.exports}var Mf={},Nf={exports:Mf};function Of(){Object.defineProperty(Mf,"__esModule",{value:!0});Mf["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.keyAttrId=b.getParametersValue(a,"keyAttrId",c.defaultValues("keyAttrId")),"keyAttr"in a&&(this.keyAttr=b.getParametersValue(a,"keyAttr",c.defaultValues("keyAttr"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"keyAttrId":return"";case"keyAttr":return{};default:throw new Error("Invalid member name for OtherKeyAttribute class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"keyAttrId":return b==="";case"keyAttr":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OtherKeyAttribute class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({optional:c.optional||!0,name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.keyAttrId||""}),new a.Any({optional:!0,name:c.keyAttr||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["keyAttrId","keyAttr"]);d=a.compareSchema(d,d,c.schema({names:{keyAttrId:"keyAttrId",keyAttr:"keyAttr"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherKeyAttribute");this.keyAttrId=d.result.keyAttrId.valueBlock.toString();"keyAttr"in d.result&&(this.keyAttr=d.result.keyAttr)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.keyAttrId}));"keyAttr"in this&&b.push(this.keyAttr);return new a.Sequence({value:b})};d.toJSON=function(){var a={keyAttrId:this.keyAttrId};"keyAttr"in this&&(a.keyAttr=this.keyAttr.toJSON());return a};return c}();Mf["default"]=d}var Pf=!1;function Qf(){Pf||(Pf=!0,Of());return Nf.exports}var Rf={},Sf={exports:Rf};function Tf(){Object.defineProperty(Rf,"__esModule",{value:!0});Rf["default"]=void 0;var a=f(g()),b=h(),c=d(Qf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.subjectKeyIdentifier=b.getParametersValue(a,"subjectKeyIdentifier",d.defaultValues("subjectKeyIdentifier")),"date"in a&&(this.date=b.getParametersValue(a,"date",d.defaultValues("date"))),"other"in a&&(this.other=b.getParametersValue(a,"other",d.defaultValues("other"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"subjectKeyIdentifier":return new a.OctetString();case"date":return new a.GeneralizedTime();case"other":return new c["default"]();default:throw new Error("Invalid member name for RecipientKeyIdentifier class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"subjectKeyIdentifier":return b.isEqual(d.defaultValues("subjectKeyIdentifier"));case"date":return b.year===0&&b.month===0&&b.day===0&&b.hour===0&&b.minute===0&&b.second===0&&b.millisecond===0;case"other":return b.keyAttrId===""&&"keyAttr"in b===!1;default:throw new Error("Invalid member name for RecipientKeyIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.OctetString({name:d.subjectKeyIdentifier||""}),new a.GeneralizedTime({optional:!0,name:d.date||""}),c["default"].schema(d.other||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["subjectKeyIdentifier","date","other"]);e=a.compareSchema(e,e,d.schema({names:{subjectKeyIdentifier:"subjectKeyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientKeyIdentifier");this.subjectKeyIdentifier=e.result.subjectKeyIdentifier;"date"in e.result&&(this.date=e.result.date);"other"in e.result&&(this.other=new c["default"]({schema:e.result.other}))};e.toSchema=function(){var b=[];b.push(this.subjectKeyIdentifier);"date"in this&&b.push(this.date);"other"in this&&b.push(this.other.toSchema());return new a.Sequence({value:b})};e.toJSON=function(){var a={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};"date"in this&&(a.date=this.date);"other"in this&&(a.other=this.other.toJSON());return a};return d}();Rf["default"]=f}var Uf=!1;function Vf(){Uf||(Uf=!0,Tf());return Sf.exports}var Wf={},Xf={exports:Wf};function Yf(){Object.defineProperty(Wf,"__esModule",{value:!0});Wf["default"]=void 0;var a=i(g()),b=h(),c=e(rf()),d=e(Vf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",e.defaultValues("variant")),this.value=b.getParametersValue(a,"value",e.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Choice({value:[c["default"].schema(e.issuerAndSerialNumber||{names:{blockName:e.blockName||""}}),new a.Constructed({name:e.blockName||"",idBlock:{tagClass:3,tagNumber:0},value:d["default"].schema(e.rKeyId||{names:{blockName:e.blockName||""}}).valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["blockName"]);f=a.compareSchema(f,f,e.schema({names:{blockName:"blockName"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientIdentifier");f.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:f.result.blockName})):(this.variant=2,this.value=new d["default"]({schema:new a.Sequence({value:f.result.blockName.valueBlock.value})}))};f.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new a.Any()}};f.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2)&&(a.value=this.value.toJSON());return a};return e}();Wf["default"]=i}var Zf=!1;function $f(){Zf||(Zf=!0,Yf());return Xf.exports}var ag={},bg={exports:ag};function cg(){Object.defineProperty(ag,"__esModule",{value:!0});ag["default"]=void 0;var a=f(g()),b=h(),c=d($f());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.rid=b.getParametersValue(a,"rid",d.defaultValues("rid")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",d.defaultValues("encryptedKey")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"rid":return new c["default"]();case"encryptedKey":return new a.OctetString();default:throw new Error("Invalid member name for RecipientEncryptedKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"rid":return b.variant===-1&&"value"in b===!1;case"encryptedKey":return b.isEqual(d.defaultValues("encryptedKey"));default:throw new Error("Invalid member name for RecipientEncryptedKey class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.rid||{}),new a.OctetString({name:d.encryptedKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["rid","encryptedKey"]);e=a.compareSchema(e,e,d.schema({names:{rid:{names:{blockName:"rid"}},encryptedKey:"encryptedKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKey");this.rid=new c["default"]({schema:e.result.rid});this.encryptedKey=e.result.encryptedKey};e.toSchema=function(){return new a.Sequence({value:[this.rid.toSchema(),this.encryptedKey]})};e.toJSON=function(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return d}();ag["default"]=f}var dg=!1;function eg(){dg||(dg=!0,cg());return bg.exports}var fg={},gg={exports:fg};function hg(){Object.defineProperty(fg,"__esModule",{value:!0});fg["default"]=void 0;var a=f(g()),b=h(),c=d(eg());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.encryptedKeys=b.getParametersValue(a,"encryptedKeys",d.defaultValues("encryptedKeys")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"encryptedKeys":return[];default:throw new Error("Invalid member name for RecipientEncryptedKeys class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"encryptedKeys":return b.length===0;default:throw new Error("Invalid member name for RecipientEncryptedKeys class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.RecipientEncryptedKeys||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["RecipientEncryptedKeys"]);e=a.compareSchema(e,e,d.schema({names:{RecipientEncryptedKeys:"RecipientEncryptedKeys"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKeys");this.encryptedKeys=Array.from(e.result.RecipientEncryptedKeys,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.encryptedKeys,function(a){return a.toSchema()})})};e.toJSON=function(){return{encryptedKeys:Array.from(this.encryptedKeys,function(a){return a.toJSON()})}};return d}();fg["default"]=f}var ig=!1;function jg(){ig||(ig=!0,hg());return gg.exports}var kg={},lg={exports:kg};function mg(){Object.defineProperty(kg,"__esModule",{value:!0});kg["default"]=void 0;var a=k(g()),b=h(),c=i(Lf()),d=i(n()),e=i(jg()),f=i(Vd());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.originator=b.getParametersValue(a,"originator",g.defaultValues("originator")),"ukm"in a&&(this.ukm=b.getParametersValue(a,"ukm",g.defaultValues("ukm"))),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",g.defaultValues("keyEncryptionAlgorithm")),this.recipientEncryptedKeys=b.getParametersValue(a,"recipientEncryptedKeys",g.defaultValues("recipientEncryptedKeys")),this.recipientCertificate=b.getParametersValue(a,"recipientCertificate",g.defaultValues("recipientCertificate")),this.recipientPublicKey=b.getParametersValue(a,"recipientPublicKey",g.defaultValues("recipientPublicKey")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 0;case"originator":return new c["default"]();case"ukm":return new a.OctetString();case"keyEncryptionAlgorithm":return new d["default"]();case"recipientEncryptedKeys":return new e["default"]();case"recipientCertificate":return new f["default"]();case"recipientPublicKey":return null;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===0;case"originator":return b.variant===-1&&"value"in b===!1;case"ukm":return b.isEqual(g.defaultValues("ukm"));case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"recipientEncryptedKeys":return b.encryptedKeys.length===0;case"recipientCertificate":return!1;case"recipientPublicKey":return!1;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: "+a)}};g.schema=function(f){f===void 0&&(f={});f=b.getParametersValue(f,"names",{});return new a.Sequence({name:f.blockName||"",value:[new a.Integer({name:f.version||""}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c["default"].schema(f.originator||{})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.OctetString({name:f.ukm||""})]}),d["default"].schema(f.keyEncryptionAlgorithm||{}),e["default"].schema(f.recipientEncryptedKeys||{})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["version","originator","ukm","keyEncryptionAlgorithm","recipientEncryptedKeys"]);f=a.compareSchema(f,f,g.schema({names:{version:"version",originator:{names:{blockName:"originator"}},ukm:"ukm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},recipientEncryptedKeys:{names:{blockName:"recipientEncryptedKeys"}}}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientInfo");this.version=f.result.version.valueBlock.valueDec;this.originator=new c["default"]({schema:f.result.originator});"ukm"in f.result&&(this.ukm=f.result.ukm);this.keyEncryptionAlgorithm=new d["default"]({schema:f.result.keyEncryptionAlgorithm});this.recipientEncryptedKeys=new e["default"]({schema:f.result.recipientEncryptedKeys})};h.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]}));"ukm"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]}));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.recipientEncryptedKeys.toSchema());return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version,originator:this.originator.toJSON()};"ukm"in this&&(a.ukm=this.ukm.toJSON());a.keyEncryptionAlgorithm=this.keyEncryptionAlgorithm.toJSON();a.recipientEncryptedKeys=this.recipientEncryptedKeys.toJSON();return a};return g}();kg["default"]=k}var ng=!1;function og(){ng||(ng=!0,mg());return lg.exports}var pg={},qg={exports:pg};function rg(){Object.defineProperty(pg,"__esModule",{value:!0});pg["default"]=void 0;var a=f(g()),b=h(),c=d(Qf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyIdentifier=b.getParametersValue(a,"keyIdentifier",d.defaultValues("keyIdentifier")),"date"in a&&(this.date=b.getParametersValue(a,"date",d.defaultValues("date"))),"other"in a&&(this.other=b.getParametersValue(a,"other",d.defaultValues("other"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyIdentifier":return new a.OctetString();case"date":return new a.GeneralizedTime();case"other":return new c["default"]();default:throw new Error("Invalid member name for KEKIdentifier class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"keyIdentifier":return b.isEqual(d.defaultValues("keyIdentifier"));case"date":return b.year===0&&b.month===0&&b.day===0&&b.hour===0&&b.minute===0&&b.second===0&&b.millisecond===0;case"other":return b.compareWithDefault("keyAttrId",b.keyAttrId)&&"keyAttr"in b===!1;default:throw new Error("Invalid member name for KEKIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.OctetString({name:d.keyIdentifier||""}),new a.GeneralizedTime({optional:!0,name:d.date||""}),c["default"].schema(d.other||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyIdentifier","date","other"]);e=a.compareSchema(e,e,d.schema({names:{keyIdentifier:"keyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for KEKIdentifier");this.keyIdentifier=e.result.keyIdentifier;"date"in e.result&&(this.date=e.result.date);"other"in e.result&&(this.other=new c["default"]({schema:e.result.other}))};e.toSchema=function(){var b=[];b.push(this.keyIdentifier);"date"in this&&b.push(this.date);"other"in this&&b.push(this.other.toSchema());return new a.Sequence({value:b})};e.toJSON=function(){var a={keyIdentifier:this.keyIdentifier.toJSON()};"date"in this&&(a.date=this.date);"other"in this&&(a.other=this.other.toJSON());return a};return d}();pg["default"]=f}var sg=!1;function tg(){sg||(sg=!0,rg());return qg.exports}var ug={},vg={exports:ug};function wg(){Object.defineProperty(ug,"__esModule",{value:!0});ug["default"]=void 0;var a=i(g()),b=h(),c=e(tg()),d=e(n());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",e.defaultValues("version")),this.kekid=b.getParametersValue(a,"kekid",e.defaultValues("kekid")),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",e.defaultValues("encryptedKey")),this.preDefinedKEK=b.getParametersValue(a,"preDefinedKEK",e.defaultValues("preDefinedKEK")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"version":return 0;case"kekid":return new c["default"]();case"keyEncryptionAlgorithm":return new d["default"]();case"encryptedKey":return new a.OctetString();case"preDefinedKEK":return new ArrayBuffer(0);default:throw new Error("Invalid member name for KEKRecipientInfo class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"KEKRecipientInfo":return b===e.defaultValues("version");case"kekid":return b.compareWithDefault("keyIdentifier",b.keyIdentifier)&&"date"in b===!1&&"other"in b===!1;case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedKey":return b.isEqual(e.defaultValues("encryptedKey"));case"preDefinedKEK":return b.byteLength===0;default:throw new Error("Invalid member name for KEKRecipientInfo class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.version||""}),c["default"].schema(e.kekid||{}),d["default"].schema(e.keyEncryptionAlgorithm||{}),new a.OctetString({name:e.encryptedKey||""})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["version","kekid","keyEncryptionAlgorithm","encryptedKey"]);f=a.compareSchema(f,f,e.schema({names:{version:"version",kekid:{names:{blockName:"kekid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KEKRecipientInfo");this.version=f.result.version.valueBlock.valueDec;this.kekid=new c["default"]({schema:f.result.kekid});this.keyEncryptionAlgorithm=new d["default"]({schema:f.result.keyEncryptionAlgorithm});this.encryptedKey=f.result.encryptedKey};f.toSchema=function(){return new a.Sequence({value:[new a.Integer({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})};f.toJSON=function(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return e}();ug["default"]=i}var xg=!1;function yg(){xg||(xg=!0,wg());return vg.exports}var zg={},Ag={exports:zg};function Bg(){Object.defineProperty(zg,"__esModule",{value:!0});zg["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),"keyDerivationAlgorithm"in a&&(this.keyDerivationAlgorithm=b.getParametersValue(a,"keyDerivationAlgorithm",d.defaultValues("keyDerivationAlgorithm"))),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",d.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",d.defaultValues("encryptedKey")),this.password=b.getParametersValue(a,"password",d.defaultValues("password")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"version":return-1;case"keyDerivationAlgorithm":return new c["default"]();case"keyEncryptionAlgorithm":return new c["default"]();case"encryptedKey":return new a.OctetString();case"password":return new ArrayBuffer(0);default:throw new Error("Invalid member name for PasswordRecipientinfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"version":return b===-1;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedKey":return b.isEqual(d.defaultValues("encryptedKey"));case"password":return b.byteLength===0;default:throw new Error("Invalid member name for PasswordRecipientinfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),new a.Constructed({name:d.keyDerivationAlgorithm||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:c["default"].schema().valueBlock.value}),c["default"].schema(d.keyEncryptionAlgorithm||{}),new a.OctetString({name:d.encryptedKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","keyDerivationAlgorithm","keyEncryptionAlgorithm","encryptedKey"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",keyDerivationAlgorithm:"keyDerivationAlgorithm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PasswordRecipientinfo");this.version=e.result.version.valueBlock.valueDec;"keyDerivationAlgorithm"in e.result&&(this.keyDerivationAlgorithm=new c["default"]({schema:new a.Sequence({value:e.result.keyDerivationAlgorithm.valueBlock.value})}));this.keyEncryptionAlgorithm=new c["default"]({schema:e.result.keyEncryptionAlgorithm});this.encryptedKey=e.result.encryptedKey};e.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));"keyDerivationAlgorithm"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value}));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.encryptedKey);return new a.Sequence({value:b})};e.toJSON=function(){return{version:this.version,keyDerivationAlgorithm:this.keyDerivationAlgorithm.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return d}();zg["default"]=f}var Cg=!1;function Dg(){Cg||(Cg=!0,Bg());return Ag.exports}var Eg={},Fg={exports:Eg};function Gg(){Object.defineProperty(Eg,"__esModule",{value:!0});Eg["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.oriType=b.getParametersValue(a,"oriType",c.defaultValues("oriType")),this.oriValue=b.getParametersValue(a,"oriValue",c.defaultValues("oriValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"oriType":return"";case"oriValue":return{};default:throw new Error("Invalid member name for OtherRecipientInfo class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"oriType":return b==="";case"oriValue":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OtherRecipientInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.oriType||""}),new a.Any({name:c.oriValue||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["oriType","oriValue"]);d=a.compareSchema(d,d,c.schema({names:{oriType:"oriType",oriValue:"oriValue"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherRecipientInfo");this.oriType=d.result.oriType.valueBlock.toString();this.oriValue=d.result.oriValue};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.oriType}),this.oriValue]})};d.toJSON=function(){var a={oriType:this.oriType};c.compareWithDefault("oriValue",this.oriValue)===!1&&(a.oriValue=this.oriValue.toJSON());return a};return c}();Eg["default"]=d}var Hg=!1;function Ig(){Hg||(Hg=!0,Gg());return Fg.exports}var Jg={},Kg={exports:Jg};function Lg(){Object.defineProperty(Jg,"__esModule",{value:!0});Jg["default"]=void 0;var a=l(g()),b=h(),c=j(Bf()),d=j(og()),e=j(yg()),f=j(Dg()),i=j(Ig());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function g(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",g.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",g.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientInfo class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"variant":return b===g.defaultValues(a);case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for RecipientInfo class: "+a)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:g.blockName||""}}),new a.Constructed({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value}),new a.Constructed({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:2},value:e["default"].schema().valueBlock.value}),new a.Constructed({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:3},value:f["default"].schema().valueBlock.value}),new a.Constructed({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:4},value:i["default"].schema().valueBlock.value})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["blockName"]);h=a.compareSchema(h,h,g.schema({names:{blockName:"blockName"}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientInfo");if(h.result.blockName.idBlock.tagClass===1)this.variant=1,this.value=new c["default"]({schema:h.result.blockName});else{var j=new a.Sequence({value:h.result.blockName.valueBlock.value});switch(h.result.blockName.idBlock.tagNumber){case 1:this.variant=2;this.value=new d["default"]({schema:j});break;case 2:this.variant=3;this.value=new e["default"]({schema:j});break;case 3:this.variant=4;this.value=new f["default"]({schema:j});break;case 4:this.variant=5;this.value=new i["default"]({schema:j});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}};h.toSchema=function(){var b=this.value.toSchema();switch(this.variant){case 1:return b;case 2:case 3:case 4:b.idBlock.tagClass=3;b.idBlock.tagNumber=this.variant-1;return b;default:return new a.Any()}};h.toJSON=function(){var a={variant:this.variant};this.variant>=1&&this.variant<=4&&(a.value=this.value.toJSON());return a};return g}();Jg["default"]=l}var Mg=!1;function Ng(){Mg||(Mg=!0,Lg());return Kg.exports}var Og={},Pg={exports:Og};function Qg(){Object.defineProperty(Og,"__esModule",{value:!0});Og["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=b.getParametersValue(a,"maskGenAlgorithm",d.defaultValues("maskGenAlgorithm")),this.pSourceAlgorithm=b.getParametersValue(a,"pSourceAlgorithm",d.defaultValues("pSourceAlgorithm")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});case"maskGenAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()}).toSchema()});case"pSourceAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new a.OctetString({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:throw new Error("Invalid member name for RSAESOAEPParams class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[c["default"].schema(d.hashAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[c["default"].schema(d.maskGenAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[c["default"].schema(d.pSourceAlgorithm||{})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","maskGenAlgorithm","pSourceAlgorithm"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},pSourceAlgorithm:{names:{blockName:"pSourceAlgorithm"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSAESOAEPParams");"hashAlgorithm"in e.result&&(this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm}));"maskGenAlgorithm"in e.result&&(this.maskGenAlgorithm=new c["default"]({schema:e.result.maskGenAlgorithm}));"pSourceAlgorithm"in e.result&&(this.pSourceAlgorithm=new c["default"]({schema:e.result.pSourceAlgorithm}))};e.toSchema=function(){var b=[];this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.pSourceAlgorithm.isEqual(d.defaultValues("pSourceAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||(a.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||(a.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.pSourceAlgorithm.isEqual(d.defaultValues("pSourceAlgorithm"))||(a.pSourceAlgorithm=this.pSourceAlgorithm.toJSON());return a};return d}();Og["default"]=f}var Rg=!1;function Sg(){Rg||(Rg=!0,Qg());return Pg.exports}var Tg={},Ug={exports:Tg};function Vg(){Object.defineProperty(Tg,"__esModule",{value:!0});Tg["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyInfo=b.getParametersValue(a,"keyInfo",d.defaultValues("keyInfo")),"entityUInfo"in a&&(this.entityUInfo=b.getParametersValue(a,"entityUInfo",d.defaultValues("entityUInfo"))),this.suppPubInfo=b.getParametersValue(a,"suppPubInfo",d.defaultValues("suppPubInfo")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyInfo":return new c["default"]();case"entityUInfo":return new a.OctetString();case"suppPubInfo":return new a.OctetString();default:throw new Error("Invalid member name for ECCCMSSharedInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"keyInfo":case"entityUInfo":case"suppPubInfo":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for ECCCMSSharedInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.keyInfo||{}),new a.Constructed({name:d.entityUInfo||"",idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new a.OctetString()]}),new a.Constructed({name:d.suppPubInfo||"",idBlock:{tagClass:3,tagNumber:2},value:[new a.OctetString()]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyInfo","entityUInfo","suppPubInfo"]);e=a.compareSchema(e,e,d.schema({names:{keyInfo:{names:{blockName:"keyInfo"}},entityUInfo:"entityUInfo",suppPubInfo:"suppPubInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ECCCMSSharedInfo");this.keyInfo=new c["default"]({schema:e.result.keyInfo});"entityUInfo"in e.result&&(this.entityUInfo=e.result.entityUInfo.valueBlock.value[0]);this.suppPubInfo=e.result.suppPubInfo.valueBlock.value[0]};e.toSchema=function(){var b=[];b.push(this.keyInfo.toSchema());"entityUInfo"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]}));b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={keyInfo:this.keyInfo.toJSON()};"entityUInfo"in this&&(a.entityUInfo=this.entityUInfo.toJSON());a.suppPubInfo=this.suppPubInfo.toJSON();return a};return d}();Tg["default"]=f}var Wg=!1;function Xg(){Wg||(Wg=!0,Vg());return Ug.exports}var Yg={},Zg={exports:Yg};function $g(){Object.defineProperty(Yg,"__esModule",{value:!0});Yg["default"]=void 0;var a=D(g()),c=h(),d=W(),e=B(mf()),f=B(Ng()),i=B(sa()),j=B(H()),k=B(n()),l=B(Sg()),m=B(Bf()),o=B(rf()),p=B(Vf()),q=B(eg()),r=B($f()),s=B(og()),t=B(jg()),u=B(yg()),v=B(tg()),w=B(R()),x=B(Dg()),y=B(Xg()),z=B(Lf()),A=B(Gf());function B(a){return a&&a.__esModule?a:{"default":a}}function C(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(C=function(a){return a?c:b})(a)}function D(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=C(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function E(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=F(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function F(a,b){if(!a)return;if(typeof a==="string")return G(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return G(a,b)}function G(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function I(a,c,d,e,f,g,h){try{var i=a[g](h),j=i.value}catch(a){d(a);return}i.done?c(j):b("Promise").resolve(j).then(e,f)}function aa(a){return function(){var c=this,d=arguments;return new(b("Promise"))(function(b,e){var f=a.apply(c,d);function g(a){I(f,b,e,g,h,"next",a)}function h(a){I(f,b,e,g,h,"throw",a)}g(void 0)})}}var J={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},K={"P-256":256,"P-384":384,"P-521":528};D=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),"originatorInfo"in a&&(this.originatorInfo=c.getParametersValue(a,"originatorInfo",g.defaultValues("originatorInfo"))),this.recipientInfos=c.getParametersValue(a,"recipientInfos",g.defaultValues("recipientInfos")),this.encryptedContentInfo=c.getParametersValue(a,"encryptedContentInfo",g.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in a&&(this.unprotectedAttrs=c.getParametersValue(a,"unprotectedAttrs",g.defaultValues("unprotectedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"version":return 0;case"originatorInfo":return new e["default"]();case"recipientInfos":return[];case"encryptedContentInfo":return new i["default"]();case"unprotectedAttrs":return[];default:throw new Error("Invalid member name for EnvelopedData class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===g.defaultValues(a);case"originatorInfo":return b.certs.certificates.length===0&&b.crls.crls.length===0;case"recipientInfos":case"unprotectedAttrs":return b.length===0;case"encryptedContentInfo":return i["default"].compareWithDefault("contentType",b.contentType)&&i["default"].compareWithDefault("contentEncryptionAlgorithm",b.contentEncryptionAlgorithm)&&i["default"].compareWithDefault("encryptedContent",b.encryptedContent);default:throw new Error("Invalid member name for EnvelopedData class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||""}),new a.Constructed({name:b.originatorInfo||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:e["default"].schema().valueBlock.value}),new a.Set({value:[new a.Repeated({name:b.recipientInfos||"",value:f["default"].schema()})]}),i["default"].schema(b.encryptedContentInfo||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.unprotectedAttrs||"",value:j["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["version","originatorInfo","recipientInfos","encryptedContentInfo","unprotectedAttrs"]);b=a.compareSchema(b,b,g.schema({names:{version:"version",originatorInfo:"originatorInfo",recipientInfos:"recipientInfos",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for EnvelopedData");this.version=b.result.version.valueBlock.valueDec;"originatorInfo"in b.result&&(this.originatorInfo=new e["default"]({schema:new a.Sequence({value:b.result.originatorInfo.valueBlock.value})}));this.recipientInfos=Array.from(b.result.recipientInfos,function(a){return new f["default"]({schema:a})});this.encryptedContentInfo=new i["default"]({schema:b.result.encryptedContentInfo});"unprotectedAttrs"in b.result&&(this.unprotectedAttrs=Array.from(b.result.unprotectedAttrs,function(a){return new j["default"]({schema:a})}))};h.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));"originatorInfo"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value}));b.push(new a.Set({value:Array.from(this.recipientInfos,function(a){return a.toSchema()})}));b.push(this.encryptedContentInfo.toSchema());"unprotectedAttrs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version};"originatorInfo"in this&&(a.originatorInfo=this.originatorInfo.toJSON());a.recipientInfos=Array.from(this.recipientInfos,function(a){return a.toJSON()});a.encryptedContentInfo=this.encryptedContentInfo.toJSON();"unprotectedAttrs"in this&&(a.unprotectedAttrs=Array.from(this.unprotectedAttrs,function(a){return a.toJSON()}));return a};h.addRecipientByCertificate=function(b,c,e){c=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},J,c||{});if(b.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549")!==-1)e=1;else if(b.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045")!==-1)e=2;else throw new Error("Unknown type of certificate's public key: "+b.subjectPublicKeyInfo.algorithm.algorithmId);switch(e){case 1:var g;if(c.useOAEP===!0){g=d.getOIDByAlgorithm({name:"RSA-OAEP"});if(g==="")throw new Error("Can not find OID for RSA-OAEP");var h=d.getOIDByAlgorithm({name:c.oaepHashAlgorithm});if(h==="")throw new Error("Unknown OAEP hash algorithm: "+c.oaepHashAlgorithm);h=new k["default"]({algorithmId:h,algorithmParams:new a.Null()});h=new l["default"]({hashAlgorithm:h,maskGenAlgorithm:new k["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:h.toSchema()})});h=h.toSchema()}else{g=d.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"});if(g==="")throw new Error("Can not find OID for RSAES-PKCS1-v1_5");h=new a.Null()}g=new m["default"]({version:0,rid:new o["default"]({issuer:b.issuer,serialNumber:b.serialNumber}),keyEncryptionAlgorithm:new k["default"]({algorithmId:g,algorithmParams:h}),recipientCertificate:b});this.recipientInfos.push(new f["default"]({variant:1,value:g}));break;case 2:h=new r["default"]({variant:1,value:new o["default"]({issuer:b.issuer,serialNumber:b.serialNumber})});this.$1(h,c,{recipientCertificate:b});break;default:throw new Error('Unknown "variant" value: '+e)}return!0};h.addRecipientByPreDefinedData=function(b,c,e){c=c||{};if(b instanceof ArrayBuffer===!1)throw new Error('Please pass "preDefinedData" in ArrayBuffer type');if(b.byteLength===0)throw new Error("Pre-defined data could have zero length");if("keyIdentifier"in c===!1){var g=new ArrayBuffer(16),h=new Uint8Array(g);d.getRandomValues(h);c.keyIdentifier=g}"hmacHashAlgorithm"in c===!1&&(c.hmacHashAlgorithm="SHA-512");"iterationCount"in c===!1&&(c.iterationCount=2048);"keyEncryptionAlgorithm"in c===!1&&(c.keyEncryptionAlgorithm={name:"AES-KW",length:256});"keyEncryptionAlgorithmParams"in c===!1&&(c.keyEncryptionAlgorithmParams=new a.Null());switch(e){case 1:h=d.getOIDByAlgorithm(c.keyEncryptionAlgorithm);if(h==="")throw new Error('Incorrect value for "keyEncryptionAlgorithm"');g=new u["default"]({version:4,kekid:new v["default"]({keyIdentifier:new a.OctetString({valueHex:c.keyIdentifier})}),keyEncryptionAlgorithm:new k["default"]({algorithmId:h,algorithmParams:c.keyEncryptionAlgorithmParams}),preDefinedKEK:b});this.recipientInfos.push(new f["default"]({variant:3,value:g}));break;case 2:h=d.getOIDByAlgorithm({name:"PBKDF2"});if(h==="")throw new Error("Can not find OID for PBKDF2");g=new ArrayBuffer(64);var i=new Uint8Array(g);d.getRandomValues(i);i=d.getOIDByAlgorithm({name:"HMAC",hash:{name:c.hmacHashAlgorithm}});if(i==="")throw new Error('Incorrect value for "hmacHashAlgorithm": '+c.hmacHashAlgorithm);g=new w["default"]({salt:new a.OctetString({valueHex:g}),iterationCount:c.iterationCount,prf:new k["default"]({algorithmId:i,algorithmParams:new a.Null()})});i=d.getOIDByAlgorithm(c.keyEncryptionAlgorithm);if(i==="")throw new Error('Incorrect value for "keyEncryptionAlgorithm"');h=new x["default"]({version:0,keyDerivationAlgorithm:new k["default"]({algorithmId:h,algorithmParams:g.toSchema()}),keyEncryptionAlgorithm:new k["default"]({algorithmId:i,algorithmParams:c.keyEncryptionAlgorithmParams}),password:b});this.recipientInfos.push(new f["default"]({variant:4,value:h}));break;default:throw new Error('Unknown value for "variant": '+e)}};h.addRecipientByKeyIdentifier=function(b,c,d){d=Object.assign({},J,d||{});c=new r["default"]({variant:2,value:new p["default"]({subjectKeyIdentifier:new a.OctetString({valueHex:c})})});this.$1(c,d,{recipientPublicKey:b})};h.$1=function(b,c,e){b=new q["default"]({rid:b});var g=d.getOIDByAlgorithm({name:"AES-KW",length:c.kekEncryptionLength});if(g==="")throw new Error("Unknown length for key encryption algorithm: "+c.kekEncryptionLength);g=new k["default"]({algorithmId:g});var h=d.getOIDByAlgorithm({name:"ECDH",kdf:c.kdfAlgorithm});if(h==="")throw new Error("Unknown KDF algorithm: "+c.kdfAlgorithm);c=new ArrayBuffer(64);var i=new Uint8Array(c);d.getRandomValues(i);i={version:3,ukm:new a.OctetString({valueHex:c}),keyEncryptionAlgorithm:new k["default"]({algorithmId:h,algorithmParams:g.toSchema()}),recipientEncryptedKeys:new t["default"]({encryptedKeys:[b]})};c=new s["default"](Object.assign(i,e));this.recipientInfos.push(new f["default"]({variant:2,value:c}))};h.encrypt=function(c,e){var f=this,g=b("Promise").resolve(),h=new ArrayBuffer(16),j=new Uint8Array(h);d.getRandomValues(j);var m=new Uint8Array(e),n,o,p,q=[],r=this,s=d.getOIDByAlgorithm(c);if(s==="")return b("Promise").reject('Wrong "contentEncryptionAlgorithm" value');var t=d.getCrypto();if(typeof t==="undefined")return b("Promise").reject("Unable to create WebCrypto object");g=g.then(function(){return t.generateKey(c,!0,["encrypt"])});g=g.then(function(a){n=a;return t.encrypt({name:c.name,iv:j},n,m)},function(a){return b("Promise").reject(a)});g=g.then(function(a){o=a;return t.exportKey("raw",n)},function(a){return b("Promise").reject(a)}).then(function(a){p=a;return!0},function(a){return b("Promise").reject(a)});g=g.then(function(){f.version=2,f.encryptedContentInfo=new i["default"]({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new k["default"]({algorithmId:s,algorithmParams:new a.OctetString({valueHex:h})}),encryptedContent:new a.OctetString({valueHex:o})})},function(a){return b("Promise").reject(a)});function u(c){var e=b("Promise").resolve(),f=r.recipientInfos[c],g,h,i,j,l,m;e=e.then(function(){if(f.value.recipientPublicKey){j=f.value.recipientPublicKey.algorithm.namedCurve;return f.value.recipientPublicKey}else{var d=f.value.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return b("Promise").reject('Incorrect "recipientCertificate" for index '+c);d=d.valueBlock.toString();switch(d){case"1.2.840.10045.3.1.7":j="P-256";break;case"1.3.132.0.34":j="P-384";break;case"1.3.132.0.35":j="P-521";break;default:return b("Promise").reject("Incorrect curve OID for index "+c)}return f.value.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:j},usages:[]}})}},function(a){return b("Promise").reject(a)});e=e.then(function(a){i=a;l=K[j];return t.generateKey({name:"ECDH",namedCurve:j},!0,["deriveBits"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){g=a.publicKey;h=a.privateKey;return t.exportKey("spki",g)},function(a){return b("Promise").reject(a)});e=e.then(function(a){m=a},function(a){return b("Promise").reject(a)});e=e.then(function(){return t.deriveBits({name:"ECDH","public":i},h,l)},function(a){return b("Promise").reject(a)});e=e.then(function(c){var e=new k["default"]({schema:f.value.keyEncryptionAlgorithm.algorithmParams}),g=d.getAlgorithmByOID(e.algorithmId);if("name"in g===!1)return b("Promise").reject("Incorrect OID for key encryption algorithm: "+e.algorithmId);var h=g.length,i=new ArrayBuffer(4),j=new Uint8Array(i);for(var l=3;l>=0;l--)j[l]=h,h>>=8;l=new y["default"]({keyInfo:new k["default"]({algorithmId:e.algorithmId}),entityUInfo:f.value.ukm,suppPubInfo:new a.OctetString({valueHex:i})});h=l.toSchema().toBER(!1);j=d.getAlgorithmByOID(f.value.keyEncryptionAlgorithm.algorithmId);return"name"in j===!1?b("Promise").reject("Incorrect OID for key encryption algorithm: "+f.value.keyEncryptionAlgorithm.algorithmId):d.kdf(j.kdf,c,g.length,h)},function(a){return b("Promise").reject(a)});e=e.then(function(a){return t.importKey("raw",a,{name:"AES-KW"},!0,["wrapKey"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){return t.wrapKey("raw",n,a,{name:"AES-KW"})},function(a){return b("Promise").reject(a)});e=e.then(function(b){var c=a.fromBER(m),d=new z["default"]();d.variant=3;d.value=new A["default"]({schema:c.result});f.value.originator=d;f.value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new a.OctetString({valueHex:b});return{ecdhPrivateKey:h}},function(a){return b("Promise").reject(a)});return e}function v(a){return x.apply(this,arguments)}function x(){x=aa(b("regeneratorRuntime").mark(function c(e){var f,g,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:f=d.getAlgorithmByOID(r.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);if(!("name"in f===!1)){b.next=3;break}throw new Error("Unknown keyEncryptionAlgorithm: "+r.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);case 3:if(!(f.name==="RSA-OAEP")){b.next=9;break}g=r.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmParams;h=new l["default"]({schema:g});f.hash=d.getAlgorithmByOID(h.hashAlgorithm.algorithmId);if(!("name"in f.hash===!1)){b.next=9;break}throw new Error("Incorrect OID for hash algorithm: "+h.hashAlgorithm.algorithmId);case 9:b.prev=9;b.next=12;return r.recipientInfos[e].value.recipientCertificate.getPublicKey({algorithm:{algorithm:f,usages:["encrypt","wrapKey"]}});case 12:i=b.sent;b.next=15;return t.encrypt(i.algorithm,i,p);case 15:j=b.sent;r.recipientInfos[e].value.encryptedKey=new a.OctetString({valueHex:j});b.next=21;break;case 19:b.prev=19,b.t0=b["catch"](9);case 21:case"end":return b.stop()}},c,this,[[9,19]])}));return x.apply(this,arguments)}function B(c){var e=b("Promise").resolve(),f;e=e.then(function(){f=d.getAlgorithmByOID(r.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);return"name"in f===!1?b("Promise").reject('Incorrect OID for "keyEncryptionAlgorithm": '+r.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId):t.importKey("raw",new Uint8Array(r.recipientInfos[c].value.preDefinedKEK),f,!0,["wrapKey"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){return t.wrapKey("raw",n,a,f)},function(a){return b("Promise").reject(a)});e=e.then(function(b){r.recipientInfos[c].value.encryptedKey=new a.OctetString({valueHex:b})},function(a){return b("Promise").reject(a)});return e}function C(c){var e=b("Promise").resolve(),f,g;e=e.then(function(){if("keyDerivationAlgorithm"in r.recipientInfos[c].value===!1)return b("Promise").reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in r.recipientInfos[c].value.keyDerivationAlgorithm===!1)return b("Promise").reject('Incorrectly encoded "keyDerivationAlgorithm"');try{f=new w["default"]({schema:r.recipientInfos[c].value.keyDerivationAlgorithm.algorithmParams})}catch(a){return b("Promise").reject('Incorrectly encoded "keyDerivationAlgorithm"')}return b("Promise").resolve()},function(a){return b("Promise").reject(a)});e=e.then(function(){var a=new Uint8Array(r.recipientInfos[c].value.password);return t.importKey("raw",a,"PBKDF2",!1,["deriveKey"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){g=d.getAlgorithmByOID(r.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);if("name"in g===!1)return b("Promise").reject('Incorrect OID for "keyEncryptionAlgorithm": '+r.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);var e="SHA-1";if("prf"in f){var h=d.getAlgorithmByOID(f.prf.algorithmId);if("name"in h===!1)return b("Promise").reject("Incorrect OID for HMAC hash algorithm");e=h.hash.name}h=new Uint8Array(f.salt.valueBlock.valueHex);var i=f.iterationCount;return t.deriveKey({name:"PBKDF2",hash:{name:e},salt:h,iterations:i},a,g,!0,["wrapKey"])},function(a){return b("Promise").reject(a)});e=e.then(function(a){return t.wrapKey("raw",n,a,g)},function(a){return b("Promise").reject(a)});e=e.then(function(b){r.recipientInfos[c].value.encryptedKey=new a.OctetString({valueHex:b})},function(a){return b("Promise").reject(a)});return e}g=g.then(function(){for(var a=0;a<f.recipientInfos.length;a++){var c=b("Promise").resolve();switch(f.recipientInfos[a].variant){case 1:c=v(a);break;case 2:c=u(a);break;case 3:c=B(a);break;case 4:c=C(a);break;default:return b("Promise").reject("Uknown recipient type in array with index "+a)}q.push(c)}return b("Promise").all(q)},function(a){return b("Promise").reject(a)});return g};h.decrypt=function(e,f){var g=this,h=b("Promise").resolve(),i=f||{},j=this;if(e+1>this.recipientInfos.length)return b("Promise").reject('Maximum value for "index" is: '+(this.recipientInfos.length-1));var m=d.getCrypto();if(typeof m==="undefined")return b("Promise").reject("Unable to create WebCrypto object");function n(c){var e=b("Promise").resolve(),f,g,h,l,n=j.recipientInfos[c].value.originator;e=e.then(function(){if("recipientCertificate"in i){var d=i.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return b("Promise").reject('Incorrect "recipientCertificate" for index '+c);h=d.valueBlock.toString()}else if("algorithmParams"in n.value.algorithm){d=n.value.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return b("Promise").reject("Incorrect originator for index "+c);h=d.valueBlock.toString()}else return b("Promise").reject('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');if("recipientPrivateKey"in i===!1)return b("Promise").reject('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(h){case"1.2.840.10045.3.1.7":f="P-256";g=256;break;case"1.3.132.0.34":f="P-384";g=384;break;case"1.3.132.0.35":f="P-521";g=528;break;default:return b("Promise").reject("Incorrect curve OID for index "+c)}return m.importKey("pkcs8",i.recipientPrivateKey,{name:"ECDH",namedCurve:f},!0,["deriveBits"])},function(a){return b("Promise").reject(a)});e=e.then(function(b){l=b;"algorithmParams"in n.value.algorithm===!1&&(n.value.algorithm.algorithmParams=new a.ObjectIdentifier({value:h}));b=n.value.toSchema().toBER(!1);return m.importKey("spki",b,{name:"ECDH",namedCurve:f},!0,[])},function(a){return b("Promise").reject(a)});e=e.then(function(a){return m.deriveBits({name:"ECDH","public":a},l,g)},function(a){return b("Promise").reject(a)});function o(e){e=e||!1;var f=new k["default"]({schema:j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmParams}),g=d.getAlgorithmByOID(f.algorithmId);if("name"in g===!1)return b("Promise").reject("Incorrect OID for key encryption algorithm: "+f.algorithmId);var h=g.length,i=new ArrayBuffer(4),l=new Uint8Array(i);for(var m=3;m>=0;m--)l[m]=h,h>>=8;m={algorithmId:f.algorithmId};e&&(m.algorithmParams=new a.Null());h=new y["default"]({keyInfo:new k["default"](m),entityUInfo:j.recipientInfos[c].value.ukm,suppPubInfo:new a.OctetString({valueHex:i})});l=h.toSchema().toBER(!1);f=d.getAlgorithmByOID(j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);return"name"in f===!1?b("Promise").reject("Incorrect OID for key encryption algorithm: "+j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId):d.kdf(f.kdf,p,g.length,l)}var p;e=e.then(function(a){p=a;return o()},function(a){return b("Promise").reject(a)});function q(a){return m.importKey("raw",a,{name:"AES-KW"},!0,["unwrapKey"])}e=e.then(q,function(a){return b("Promise").reject(a)});function r(a){var e=d.getAlgorithmByOID(j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in e===!1?b("Promise").reject('Incorrect "contentEncryptionAlgorithm": '+j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):m.unwrapKey("raw",j.recipientInfos[c].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHex,a,{name:"AES-KW"},e,!0,["decrypt"])}e=e.then(function(a){return r(a)["catch"](function(){return o(!0).then(q).then(r)})},function(a){return b("Promise").reject(a)});return e}function o(a){return p.apply(this,arguments)}function p(){p=aa(b("regeneratorRuntime").mark(function a(c){var e,f,g,h,k,n;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!("recipientPrivateKey"in i===!1)){a.next=2;break}throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');case 2:e=d.getAlgorithmByOID(j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);if(!("name"in e===!1)){a.next=5;break}throw new Error("Unknown keyEncryptionAlgorithm: "+j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);case 5:if(!(e.name==="RSA-OAEP")){a.next=11;break}f=j.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmParams;g=new l["default"]({schema:f});e.hash=d.getAlgorithmByOID(g.hashAlgorithm.algorithmId);if(!("name"in e.hash===!1)){a.next=11;break}throw new Error("Incorrect OID for hash algorithm: "+g.hashAlgorithm.algorithmId);case 11:a.next=13;return m.importKey("pkcs8",i.recipientPrivateKey,e,!0,["decrypt"]);case 13:h=a.sent;a.next=16;return m.decrypt(h.algorithm,h,j.recipientInfos[c].value.encryptedKey.valueBlock.valueHex);case 16:k=a.sent;n=d.getAlgorithmByOID(j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if(!("name"in n===!1)){a.next=20;break}throw new Error('Incorrect "contentEncryptionAlgorithm": '+j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);case 20:return a.abrupt("return",m.importKey("raw",k,n,!0,["decrypt"]));case 21:case"end":return a.stop()}},a,this)}));return p.apply(this,arguments)}function q(a){var c=b("Promise").resolve(),e;c=c.then(function(){if("preDefinedData"in i===!1)return b("Promise").reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');e=d.getAlgorithmByOID(j.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);return"name"in e===!1?b("Promise").reject('Incorrect OID for "keyEncryptionAlgorithm": '+j.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId):m.importKey("raw",i.preDefinedData,e,!0,["unwrapKey"])},function(a){return b("Promise").reject(a)});c=c.then(function(c){var f=d.getAlgorithmByOID(j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in f===!1?b("Promise").reject('Incorrect "contentEncryptionAlgorithm": '+j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):m.unwrapKey("raw",j.recipientInfos[a].value.encryptedKey.valueBlock.valueHex,c,e,f,!0,["decrypt"])},function(a){return b("Promise").reject(a)});return c}function r(a){var c=b("Promise").resolve(),e,f;c=c.then(function(){if("preDefinedData"in i===!1)return b("Promise").reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if("keyDerivationAlgorithm"in j.recipientInfos[a].value===!1)return b("Promise").reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in j.recipientInfos[a].value.keyDerivationAlgorithm===!1)return b("Promise").reject('Incorrectly encoded "keyDerivationAlgorithm"');try{e=new w["default"]({schema:j.recipientInfos[a].value.keyDerivationAlgorithm.algorithmParams})}catch(a){return b("Promise").reject('Incorrectly encoded "keyDerivationAlgorithm"')}return m.importKey("raw",i.preDefinedData,"PBKDF2",!1,["deriveKey"])},function(a){return b("Promise").reject(a)});c=c.then(function(c){f=d.getAlgorithmByOID(j.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);if("name"in f===!1)return b("Promise").reject('Incorrect OID for "keyEncryptionAlgorithm": '+j.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);var g="SHA-1";if("prf"in e){var h=d.getAlgorithmByOID(e.prf.algorithmId);if("name"in h===!1)return b("Promise").reject("Incorrect OID for HMAC hash algorithm");g=h.hash.name}h=new Uint8Array(e.salt.valueBlock.valueHex);var i=e.iterationCount;return m.deriveKey({name:"PBKDF2",hash:{name:g},salt:h,iterations:i},c,f,!0,["unwrapKey"])},function(a){return b("Promise").reject(a)});c=c.then(function(c){var e=d.getAlgorithmByOID(j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in e===!1?b("Promise").reject('Incorrect "contentEncryptionAlgorithm": '+j.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):m.unwrapKey("raw",j.recipientInfos[a].value.encryptedKey.valueBlock.valueHex,c,f,e,!0,["decrypt"])},function(a){return b("Promise").reject(a)});return c}h=h.then(function(){var a=b("Promise").resolve();switch(g.recipientInfos[e].variant){case 1:a=o(e);break;case 2:a=n(e);break;case 3:a=q(e);break;case 4:a=r(e);break;default:return b("Promise").reject("Uknown recipient type in array with index "+e)}return a},function(a){return b("Promise").reject(a)});h=h.then(function(a){var e=d.getAlgorithmByOID(g.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if("name"in e===!1)return b("Promise").reject('Incorrect "contentEncryptionAlgorithm": '+g.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var f=g.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex;f=new Uint8Array(f);var h=new ArrayBuffer(0);if(g.encryptedContentInfo.encryptedContent.idBlock.isConstructed===!1)h=g.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var i=E(g.encryptedContentInfo.encryptedContent.valueBlock.value),j;try{for(i.s();!(j=i.n()).done;){j=j.value;h=c.utilConcatBuf(h,j.valueBlock.valueHex)}}catch(a){i.e(a)}finally{i.f()}}return m.decrypt({name:e.name,iv:f},a,h)},function(a){return b("Promise").reject(a)});return h};return g}();Yg["default"]=D}var ah=!1;function bh(){ah||(ah=!0,$g());return Zg.exports}var ch={},dh={exports:ch};function eh(){Object.defineProperty(ch,"__esModule",{value:!0});ch["default"]=void 0;var a=l(g()),c=h(),d=j(ob()),e=j(Ne()),f=j(bh()),i=j(tb());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function m(a,b){return p(a)||o(a,b)||r(a,b)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function p(a){if(Array.isArray(a))return a}function q(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=r(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function r(a,b){if(!a)return;if(typeof a==="string")return s(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s(a,b)}function s(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}l=function(){function g(a){a===void 0&&(a={}),this.safeContents=c.getParametersValue(a,"safeContents",g.defaultValues("safeContents")),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",g.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"safeContents":return[];case"parsedValue":return{};default:throw new Error("Invalid member name for AuthenticatedSafe class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"safeContents":return b.length===0;case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for AuthenticatedSafe class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Repeated({name:b.contentInfos||"",value:d["default"].schema()})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["contentInfos"]);b=a.compareSchema(b,b,g.schema({names:{contentInfos:"contentInfos"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for AuthenticatedSafe");this.safeContents=Array.from(b.result.contentInfos,function(a){return new d["default"]({schema:a})})};h.toSchema=function(){return new a.Sequence({value:Array.from(this.safeContents,function(a){return a.toSchema()})})};h.toJSON=function(){return{safeContents:Array.from(this.safeContents,function(a){return a.toJSON()})}};h.parseInternalValues=function(d){var g=this;if(d instanceof Object===!1)return b("Promise").reject('The "parameters" must has "Object" type');if("safeContents"in d===!1)return b("Promise").reject('Absent mandatory parameter "safeContents"');if(d.safeContents instanceof Array===!1)return b("Promise").reject('The "parameters.safeContents" must has "Array" type');if(d.safeContents.length!==this.safeContents.length)return b("Promise").reject('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');var h=b("Promise").resolve();this.parsedValue={safeContents:[]};var j=q(this.safeContents.entries()),k;try{for(j.s();!(k=j.n()).done;){k=m(k.value,2);var l=k[0],n=k[1];switch(n.contentType){case"1.2.840.113549.1.7.1":if(n.content instanceof a.OctetString===!1)return b("Promise").reject('Wrong type of "this.safeContents[j].content"');k=new ArrayBuffer(0);if(n.content.valueBlock.isConstructed){var o=q(n.content.valueBlock.value),p;try{for(o.s();!(p=o.n()).done;){p=p.value;k=c.utilConcatBuf(k,p.valueBlock.valueHex)}}catch(a){o.e(a)}finally{o.f()}}else k=n.content.valueBlock.valueHex;p=a.fromBER(k);if(p.offset===-1)return b("Promise").reject('Error during parsing of ASN.1 data inside "content.content"');this.parsedValue.safeContents.push({privacyMode:0,value:new e["default"]({schema:p.result})});break;case"1.2.840.113549.1.7.3":o=function(){var c=new f["default"]({schema:n.content});if("recipientCertificate"in d.safeContents[l]===!1)return{v:b("Promise").reject('Absent mandatory parameter "recipientCertificate" in "parameters.safeContents[j]"')};var i=d.safeContents[l].recipientCertificate;if("recipientKey"in d.safeContents[l]===!1)return{v:b("Promise").reject('Absent mandatory parameter "recipientKey" in "parameters.safeContents[j]"')};var j=d.safeContents[l].recipientKey;h=h.then(function(){return c.decrypt(0,{recipientCertificate:i,recipientPrivateKey:j})});h=h.then(function(c){c=a.fromBER(c);if(c.offset===-1)return b("Promise").reject("Error during parsing of decrypted data");g.parsedValue.safeContents.push({privacyMode:2,value:new e["default"]({schema:c.result})});return b("Promise").resolve()})}();if(typeof o==="object")return o.v;break;case"1.2.840.113549.1.7.6":k=function(){var c=new i["default"]({schema:n.content});if("password"in d.safeContents[l]===!1)return{v:b("Promise").reject('Absent mandatory parameter "password" in "parameters.safeContents[j]"')};var f=d.safeContents[l].password;h=h.then(function(){return c.decrypt({password:f})},function(a){return b("Promise").reject(a)});h=h.then(function(c){c=a.fromBER(c);if(c.offset===-1)return b("Promise").reject("Error during parsing of decrypted data");g.parsedValue.safeContents.push({privacyMode:1,value:new e["default"]({schema:c.result})});return b("Promise").resolve()},function(a){return b("Promise").reject(a)})}();if(typeof k==="object")return k.v;break;default:throw new Error('Unknown "contentType" for AuthenticatedSafe: " '+n.contentType)}}}catch(a){j.e(a)}finally{j.f()}return h};h.makeInternalValues=function(c){var g=this;if("parsedValue"in this===!1)return b("Promise").reject('Please run "parseValues" first or add "parsedValue" manually');if(this.parsedValue instanceof Object===!1)return b("Promise").reject('The "this.parsedValue" must has "Object" type');if(this.parsedValue.safeContents instanceof Array===!1)return b("Promise").reject('The "this.parsedValue.safeContents" must has "Array" type');if(c instanceof Object===!1)return b("Promise").reject('The "parameters" must has "Object" type');if("safeContents"in c===!1)return b("Promise").reject('Absent mandatory parameter "safeContents"');if(c.safeContents instanceof Array===!1)return b("Promise").reject('The "parameters.safeContents" must has "Array" type');if(c.safeContents.length!==this.parsedValue.safeContents.length)return b("Promise").reject('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');var h=b("Promise").resolve();this.safeContents=[];var j=q(this.parsedValue.safeContents.entries()),k;try{for(j.s();!(k=j.n()).done;){k=m(k.value,2);var l=k[0],n=k[1];if("privacyMode"in n===!1)return b("Promise").reject('The "privacyMode" is a mandatory parameter for "content"');if("value"in n===!1)return b("Promise").reject('The "value" is a mandatory parameter for "content"');if(n.value instanceof e["default"]===!1)return b("Promise").reject('The "content.value" must has "SafeContents" type');switch(n.privacyMode){case 0:(function(){var b=n.value.toSchema().toBER(!1);h=h.then(function(){g.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.1",content:new a.OctetString({valueHex:b})}))})})();break;case 1:(function(){var a=new i["default"](),e=c.safeContents[l];e.contentToEncrypt=n.value.toSchema().toBER(!1);h=h.then(function(){return a.encrypt(e)},function(a){return b("Promise").reject(a)});h=h.then(function(){g.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.6",content:a.toSchema()}))},function(a){return b("Promise").reject(a)})})();break;case 2:k=function(){var a=new f["default"](),e=n.value.toSchema().toBER(!1);if("encryptingCertificate"in c.safeContents[l]===!1)return{v:b("Promise").reject('Absent mandatory parameter "encryptingCertificate" in "parameters.safeContents[i]"')};if("encryptionAlgorithm"in c.safeContents[l]===!1)return{v:b("Promise").reject('Absent mandatory parameter "encryptionAlgorithm" in "parameters.safeContents[i]"')};switch(!0){case c.safeContents[l].encryptionAlgorithm.name.toLowerCase()==="aes-cbc":case c.safeContents[l].encryptionAlgorithm.name.toLowerCase()==="aes-gcm":break;default:return{v:b("Promise").reject('Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": '+c.safeContents[l].encryptionAlgorithm)}}switch(!0){case c.safeContents[l].encryptionAlgorithm.length===128:case c.safeContents[l].encryptionAlgorithm.length===192:case c.safeContents[l].encryptionAlgorithm.length===256:break;default:return{v:b("Promise").reject('Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": '+c.safeContents[l].encryptionAlgorithm.length)}}var i=c.safeContents[l].encryptionAlgorithm;a.addRecipientByCertificate(c.safeContents[l].encryptingCertificate);h=h.then(function(){return a.encrypt(i,e)});h=h.then(function(){g.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.3",content:a.toSchema()}))})}();if(typeof k==="object")return k.v;break;default:return b("Promise").reject('Incorrect value for "content.privacyMode": '+n.privacyMode)}}}catch(a){j.e(a)}finally{j.f()}return h.then(function(){return g},function(a){return b("Promise").reject("Error during parsing: "+a)})};return g}();ch["default"]=l}var fh=!1;function gh(){fh||(fh=!0,eh());return dh.exports}var hh={},ih={exports:hh};function jh(){Object.defineProperty(hh,"__esModule",{value:!0});hh["default"]=void 0;var a=j(g()),c=h(),d=W(),e=f(n());function f(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(i=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=i(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.hashAlgorithm=c.getParametersValue(a,"hashAlgorithm",f.defaultValues("hashAlgorithm")),this.issuerNameHash=c.getParametersValue(a,"issuerNameHash",f.defaultValues("issuerNameHash")),this.issuerKeyHash=c.getParametersValue(a,"issuerKeyHash",f.defaultValues("issuerKeyHash")),this.serialNumber=c.getParametersValue(a,"serialNumber",f.defaultValues("serialNumber")),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"hashAlgorithm":return new e["default"]();case"issuerNameHash":case"issuerKeyHash":return new a.OctetString();case"serialNumber":return new a.Integer();default:throw new Error("Invalid member name for CertID class: "+b)}};f.compareWithDefault=function(a,b){switch(a){case"hashAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"issuerNameHash":case"issuerKeyHash":case"serialNumber":return b.isEqual(f.defaultValues(a));default:throw new Error("Invalid member name for CertID class: "+a)}};f.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[e["default"].schema(b.hashAlgorithmObject||{names:{blockName:b.hashAlgorithm||""}}),new a.OctetString({name:b.issuerNameHash||""}),new a.OctetString({name:b.issuerKeyHash||""}),new a.Integer({name:b.serialNumber||""})]})};var g=f.prototype;g.fromSchema=function(b){c.clearProps(b,["hashAlgorithm","issuerNameHash","issuerKeyHash","serialNumber"]);b=a.compareSchema(b,b,f.schema({names:{hashAlgorithm:"hashAlgorithm",issuerNameHash:"issuerNameHash",issuerKeyHash:"issuerKeyHash",serialNumber:"serialNumber"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertID");this.hashAlgorithm=new e["default"]({schema:b.result.hashAlgorithm});this.issuerNameHash=b.result.issuerNameHash;this.issuerKeyHash=b.result.issuerKeyHash;this.serialNumber=b.result.serialNumber};g.toSchema=function(){return new a.Sequence({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})};g.toJSON=function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}};g.isEqual=function(a){if(!this.hashAlgorithm.algorithmId===a.hashAlgorithm.algorithmId)return!1;if(c.isEqualBuffer(this.issuerNameHash.valueBlock.valueHex,a.issuerNameHash.valueBlock.valueHex)===!1)return!1;if(c.isEqualBuffer(this.issuerKeyHash.valueBlock.valueHex,a.issuerKeyHash.valueBlock.valueHex)===!1)return!1;return!this.serialNumber.isEqual(a.serialNumber)?!1:!0};g.createForCertificate=function(c,f){var g=this,h=b("Promise").resolve(),i,j=d.getCrypto();if(typeof j==="undefined")return b("Promise").reject("Unable to create WebCrypto object");if("hashAlgorithm"in f===!1)return b("Promise").reject('Parameter "hashAlgorithm" is mandatory for "OCSP_REQUEST.createForCertificate"');var k=d.getOIDByAlgorithm({name:f.hashAlgorithm});if(k==="")return b("Promise").reject('Incorrect "hashAlgorithm": '+this.hashAlgorithm);this.hashAlgorithm=new e["default"]({algorithmId:k,algorithmParams:new a.Null()});if("issuerCertificate"in f)i=f.issuerCertificate;else return b("Promise").reject('Parameter "issuerCertificate" is mandatory for "OCSP_REQUEST.createForCertificate"');this.serialNumber=c.serialNumber;h=h.then(function(){return j.digest({name:f.hashAlgorithm},i.subject.toSchema().toBER(!1))},function(a){return b("Promise").reject(a)});h=h.then(function(b){g.issuerNameHash=new a.OctetString({valueHex:b});b=i.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex;return j.digest({name:f.hashAlgorithm},b)},function(a){return b("Promise").reject(a)}).then(function(b){g.issuerKeyHash=new a.OctetString({valueHex:b})},function(a){return b("Promise").reject(a)});return h};return f}();hh["default"]=j}var kh=!1;function lh(){kh||(kh=!0,jh());return ih.exports}var mh={},nh={exports:mh};function oh(){Object.defineProperty(mh,"__esModule",{value:!0});mh["default"]=void 0;var a=j(g()),b=h(),c=f(lh()),d=f(Ld()),e=f(Qd());function f(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(i=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=i(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.certID=b.getParametersValue(a,"certID",f.defaultValues("certID")),this.certStatus=b.getParametersValue(a,"certStatus",f.defaultValues("certStatus")),this.thisUpdate=b.getParametersValue(a,"thisUpdate",f.defaultValues("thisUpdate")),"nextUpdate"in a&&(this.nextUpdate=b.getParametersValue(a,"nextUpdate",f.defaultValues("nextUpdate"))),"singleExtensions"in a&&(this.singleExtensions=b.getParametersValue(a,"singleExtensions",f.defaultValues("singleExtensions"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(a){switch(a){case"certID":return new c["default"]();case"certStatus":return{};case"thisUpdate":case"nextUpdate":return new Date(0,0,0);case"singleExtensions":return[];default:throw new Error("Invalid member name for SingleResponse class: "+a)}};f.compareWithDefault=function(a,b){switch(a){case"certID":return c["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&c["default"].compareWithDefault("issuerNameHash",b.issuerNameHash)&&c["default"].compareWithDefault("issuerKeyHash",b.issuerKeyHash)&&c["default"].compareWithDefault("serialNumber",b.serialNumber);case"certStatus":return Object.keys(b).length===0;case"thisUpdate":case"nextUpdate":return b===f.defaultValues(a);default:throw new Error("Invalid member name for SingleResponse class: "+a)}};f.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.certID||{}),new a.Choice({value:[new a.Primitive({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:0},lenBlockLength:1}),new a.Constructed({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:1},value:[new a.GeneralizedTime(),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Enumerated()]})]}),new a.Primitive({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new a.GeneralizedTime({name:d.thisUpdate||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.GeneralizedTime({name:d.nextUpdate||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[e["default"].schema(d.singleExtensions||{})]})]})};var g=f.prototype;g.fromSchema=function(e){b.clearProps(e,["certID","certStatus","thisUpdate","nextUpdate","singleExtensions"]);e=a.compareSchema(e,e,f.schema({names:{certID:{names:{blockName:"certID"}},certStatus:"certStatus",thisUpdate:"thisUpdate",nextUpdate:"nextUpdate",singleExtensions:{names:{blockName:"singleExtensions"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SingleResponse");this.certID=new c["default"]({schema:e.result.certID});this.certStatus=e.result.certStatus;this.thisUpdate=e.result.thisUpdate.toDate();"nextUpdate"in e.result&&(this.nextUpdate=e.result.nextUpdate.toDate());"singleExtensions"in e.result&&(this.singleExtensions=Array.from(e.result.singleExtensions.valueBlock.value,function(a){return new d["default"]({schema:a})}))};g.toSchema=function(){var b=[];b.push(this.certID.toSchema());b.push(this.certStatus);b.push(new a.GeneralizedTime({valueDate:this.thisUpdate}));"nextUpdate"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.GeneralizedTime({valueDate:this.nextUpdate})]}));"singleExtensions"in this&&b.push(new a.Sequence({value:Array.from(this.singleExtensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};g.toJSON=function(){var a={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};"nextUpdate"in this&&(a.nextUpdate=this.nextUpdate);"singleExtensions"in this&&(a.singleExtensions=Array.from(this.singleExtensions,function(a){return a.toJSON()}));return a};return f}();mh["default"]=j}var ph=!1;function qh(){ph||(ph=!0,oh());return nh.exports}var rh={},sh={exports:rh};function th(){Object.defineProperty(rh,"__esModule",{value:!0});rh["default"]=void 0;var a=k(g()),b=h(),c=i(Qa()),d=i(qh()),e=i(Ld()),f=i(Qd());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.tbs=b.getParametersValue(a,"tbs",g.defaultValues("tbs")),this.responderID=b.getParametersValue(a,"responderID",g.defaultValues("responderID")),this.producedAt=b.getParametersValue(a,"producedAt",g.defaultValues("producedAt")),this.responses=b.getParametersValue(a,"responses",g.defaultValues("responses")),"responseExtensions"in a&&(this.responseExtensions=b.getParametersValue(a,"responseExtensions",g.defaultValues("responseExtensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"tbs":return new ArrayBuffer(0);case"responderID":return{};case"producedAt":return new Date(0,0,0);case"responses":case"responseExtensions":return[];default:throw new Error("Invalid member name for ResponseData class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"tbs":return b.byteLength===0;case"responderID":return Object.keys(b).length===0;case"producedAt":return b===g.defaultValues(a);case"responses":case"responseExtensions":return b.length===0;default:throw new Error("Invalid member name for ResponseData class: "+a)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"ResponseData",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:e.version||"ResponseData.version"})]}),new a.Choice({value:[new a.Constructed({name:e.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:1},value:[c["default"].schema(e.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new a.Constructed({name:e.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:2},value:[new a.OctetString({name:e.ResponseDataByKey||"ResponseData.byKey"})]})]}),new a.GeneralizedTime({name:e.producedAt||"ResponseData.producedAt"}),new a.Sequence({value:[new a.Repeated({name:"ResponseData.responses",value:d["default"].schema(e.response||{})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[f["default"].schema(e.extensions||{names:{blockName:"ResponseData.responseExtensions"}})]})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["ResponseData","ResponseData.version","ResponseData.responderID","ResponseData.producedAt","ResponseData.responses","ResponseData.responseExtensions"]);f=a.compareSchema(f,f,g.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for ResponseData");this.tbs=f.result.ResponseData.valueBeforeDecode;"ResponseData.version"in f.result&&(this.version=f.result["ResponseData.version"].valueBlock.valueDec);f.result["ResponseData.responderID"].idBlock.tagNumber===1?this.responderID=new c["default"]({schema:f.result["ResponseData.responderID"].valueBlock.value[0]}):this.responderID=f.result["ResponseData.responderID"].valueBlock.value[0];this.producedAt=f.result["ResponseData.producedAt"].toDate();this.responses=Array.from(f.result["ResponseData.responses"],function(a){return new d["default"]({schema:a})});"ResponseData.responseExtensions"in f.result&&(this.responseExtensions=Array.from(f.result["ResponseData.responseExtensions"].valueBlock.value,function(a){return new e["default"]({schema:a})}))};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.length===0)return g.schema();b=a.fromBER(this.tbs).result}else{var d=[];"version"in this&&d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));this.responderID instanceof c["default"]?d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]}));d.push(new a.GeneralizedTime({valueDate:this.producedAt}));d.push(new a.Sequence({value:Array.from(this.responses,function(a){return a.toSchema()})}));"responseExtensions"in this&&d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.Sequence({value:Array.from(this.responseExtensions,function(a){return a.toSchema()})})]}));b=new a.Sequence({value:d})}return b};h.toJSON=function(){var a={};"version"in this&&(a.version=this.version);"responderID"in this&&(a.responderID=this.responderID);"producedAt"in this&&(a.producedAt=this.producedAt);"responses"in this&&(a.responses=Array.from(this.responses,function(a){return a.toJSON()}));"responseExtensions"in this&&(a.responseExtensions=Array.from(this.responseExtensions,function(a){return a.toJSON()}));return a};return g}();rh["default"]=k}var uh=!1;function vh(){uh||(uh=!0,th());return sh.exports}var wh={},xh={exports:wh};function yh(){Object.defineProperty(wh,"__esModule",{value:!0});wh["default"]=void 0;var a=h(),c=W();function d(a,c,d,e,f,g,h){try{var i=a[g](h),j=i.value}catch(a){d(a);return}i.done?c(j):b("Promise").resolve(j).then(e,f)}function e(a){return function(){var c=this,e=arguments;return new(b("Promise"))(function(b,f){var g=a.apply(c,e);function h(a){d(g,b,f,h,i,"next",a)}function i(a){d(g,b,f,h,i,"throw",a)}h(void 0)})}}function f(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=g(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,h;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,h=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw h}}}}function g(a,b){if(!a)return;if(typeof a==="string")return i(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return i(a,b)}function i(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var j=function(){function d(b){b===void 0&&(b={}),this.trustedCerts=a.getParametersValue(b,"trustedCerts",this.defaultValues("trustedCerts")),this.certs=a.getParametersValue(b,"certs",this.defaultValues("certs")),this.crls=a.getParametersValue(b,"crls",this.defaultValues("crls")),this.ocsps=a.getParametersValue(b,"ocsps",this.defaultValues("ocsps")),this.checkDate=a.getParametersValue(b,"checkDate",this.defaultValues("checkDate")),this.findOrigin=a.getParametersValue(b,"findOrigin",this.defaultValues("findOrigin")),this.findIssuer=a.getParametersValue(b,"findIssuer",this.defaultValues("findIssuer"))}d.defaultFindOrigin=function(b,c){b.tbs.byteLength===0&&(b.tbs=b.encodeTBS());var d=f(c.certs),e;try{for(d.s();!(e=d.n()).done;){e=e.value;e.tbs.byteLength===0&&(e.tbs=e.encodeTBS());if(a.isEqualBuffer(b.tbs,e.tbs))return"Intermediate Certificates"}}catch(a){d.e(a)}finally{d.f()}e=f(c.trustedCerts);try{for(e.s();!(d=e.n()).done;){c=d.value;c.tbs.byteLength===0&&(c.tbs=c.encodeTBS());if(a.isEqualBuffer(b.tbs,c.tbs))return"Trusted Certificates"}}catch(a){e.e(a)}finally{e.f()}return"Unknown"};var g=d.prototype;g.defaultFindIssuer=function(c,d){return e(b("regeneratorRuntime").mark(function e(){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:o=function(b){if(h!==null&&"extensions"in b){var d=!1,e=f(b.extensions),k;try{for(e.s();!(k=e.n()).done;){k=k.value;if(k.extnID==="2.5.29.14"){d=!0;a.isEqualBuffer(k.parsedValue.valueBlock.valueHex,h.valueBlock.valueHex)&&g.push(b);break}}}catch(a){e.e(a)}finally{e.f()}if(d)return}k=!1;j!==null&&(k=b.serialNumber.isEqual(j));i!==null?b.subject.isEqual(i)&&(k&&g.push(b)):c.issuer.isEqual(b.subject)&&g.push(b)};g=[];h=null;i=null;j=null;if(!c.subject.isEqual(c.issuer)){b.next=16;break}b.prev=6;b.next=9;return c.verify();case 9:k=b.sent;if(!(k===!0)){b.next=12;break}return b.abrupt("return",[c]);case 12:b.next=16;break;case 14:b.prev=14,b.t0=b["catch"](6);case 16:if(!("extensions"in c)){b.next=35;break}l=f(c.extensions);b.prev=18;l.s();case 20:if((m=l.n()).done){b.next=27;break}n=m.value;if(!(n.extnID==="2.5.29.35")){b.next=25;break}"keyIdentifier"in n.parsedValue?h=n.parsedValue.keyIdentifier:("authorityCertIssuer"in n.parsedValue&&(i=n.parsedValue.authorityCertIssuer),"authorityCertSerialNumber"in n.parsedValue&&(j=n.parsedValue.authorityCertSerialNumber));return b.abrupt("break",27);case 25:b.next=20;break;case 27:b.next=32;break;case 29:b.prev=29,b.t1=b["catch"](18),l.e(b.t1);case 32:b.prev=32;l.f();return b.finish(32);case 35:p=f(d.trustedCerts);try{for(p.s();!(q=p.n()).done;)r=q.value,o(r)}catch(a){p.e(a)}finally{p.f()}s=f(d.certs);try{for(s.s();!(t=s.n()).done;)u=t.value,o(u)}catch(a){s.e(a)}finally{s.f()}v=0;case 40:if(!(v<g.length)){b.next=54;break}b.prev=41;b.next=44;return c.verify(g[v]);case 44:w=b.sent;w===!1&&g.splice(v,1);b.next=51;break;case 48:b.prev=48,b.t2=b["catch"](41),g.splice(v,1);case 51:v++;b.next=40;break;case 54:return b.abrupt("return",g);case 55:case"end":return b.stop()}},e,this,[[6,14],[18,29,32,35],[41,48]])}))()};g.defaultValues=function(a){switch(a){case"trustedCerts":return[];case"certs":return[];case"crls":return[];case"ocsps":return[];case"checkDate":return new Date();case"findOrigin":return d.defaultFindOrigin;case"findIssuer":return this.defaultFindIssuer;default:throw new Error("Invalid member name for CertificateChainValidationEngine class: "+a)}};g.sort=function(d){d===void 0&&(d=!1);var g=this;return e(b("regeneratorRuntime").mark(function h(){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return b("regeneratorRuntime").wrap(function(h){while(1)switch(h.prev=h.next){case 0:t=function(){t=e(b("regeneratorRuntime").mark(function a(g,h){var c,i,k,l,n,e,p,r,s,t,u,v,w,x,y;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c=0;case 1:if(!(c<g.length)){a.next=7;break}if(!(g[c].notBefore.value>h||g[c].notAfter.value<h)){a.next=4;break}return a.abrupt("return",{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"});case 4:c++;a.next=1;break;case 7:if(!(g.length<2)){a.next=9;break}return a.abrupt("return",{result:!1,resultCode:9,resultMessage:"Too short certificate path"});case 9:i=g.length-2;case 10:if(!(i>=0)){a.next=17;break}if(!(g[i].issuer.isEqual(g[i].subject)===!1)){a.next=14;break}if(!(g[i].issuer.isEqual(g[i+1].subject)===!1)){a.next=14;break}return a.abrupt("return",{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"});case 14:i--;a.next=10;break;case 17:if(!(j.crls.length!==0||j.ocsps.length!==0)){a.next=87;break}k=0;case 19:if(!(k<g.length-1)){a.next=87;break}l=2;n={status:0,statusMessage:""};if(!(j.ocsps.length!==0)){a.next=32;break}a.next=25;return o(g[k],g[k+1]);case 25:l=a.sent;a.t0=l;a.next=a.t0===0?29:a.t0===1?30:a.t0===2?31:32;break;case 29:return a.abrupt("continue",84);case 30:return a.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"});case 31:return a.abrupt("break",32);case 32:if(!(j.crls.length!==0)){a.next=56;break}a.next=35;return m(g[k]);case 35:n=a.sent;if(!(n.status===0)){a.next=52;break}e=0;case 38:if(!(e<n.result.length)){a.next=50;break}p=n.result[e].crl.isCertificateRevoked(g[k]);if(!p){a.next=42;break}return a.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"});case 42:a.next=44;return q(n.result[e].certificate,!0);case 44:r=a.sent;if(!(r.result===!1)){a.next=47;break}return a.abrupt("return",{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"});case 47:e++;a.next=38;break;case 50:a.next=54;break;case 52:if(!(d===!1)){a.next=54;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: "+n.statusMessage};case 54:a.next=58;break;case 56:if(!(l===2)){a.next=58;break}return a.abrupt("return",{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"});case 58:if(!(l===2&&n.status===2&&d)){a.next=84;break}s=g[k+1];t=!1;if(!("extensions"in s)){a.next=82;break}u=f(s.extensions);a.prev=63;u.s();case 65:if((v=u.n()).done){a.next=74;break}w=v.value;a.t1=w.extnID;a.next=a.t1==="2.5.29.31"?70:a.t1==="2.5.29.46"?70:a.t1==="1.3.6.1.5.5.7.1.1"?70:72;break;case 70:t=!0;return a.abrupt("break",72);case 72:a.next=65;break;case 74:a.next=79;break;case 76:a.prev=76,a.t2=a["catch"](63),u.e(a.t2);case 79:a.prev=79;u.f();return a.finish(79);case 82:if(!t){a.next=84;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: "+n.statusMessage};case 84:k++;a.next=19;break;case 87:x=1;case 88:if(!(x<g.length)){a.next=97;break}a.next=91;return q(g[x]);case 91:y=a.sent;if(!(y.result===!1)){a.next=94;break}return a.abrupt("return",{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"});case 94:x++;a.next=88;break;case 97:return a.abrupt("return",{result:!0});case 98:case"end":return a.stop()}},a,this,[[63,76,79,82]])}));return t.apply(this,arguments)},s=function(a,b){return t.apply(this,arguments)},r=function(){r=e(b("regeneratorRuntime").mark(function a(d,e){var f,g,h,i,c,j;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:e===void 0&&(e=!1);f=!1;g=!1;h=!1;i=!1;if(!("extensions"in d)){a.next=21;break}c=0;case 7:if(!(c<d.extensions.length)){a.next=15;break}if(!(d.extensions[c].critical===!0&&"parsedValue"in d.extensions[c]===!1)){a.next=10;break}return a.abrupt("return",{result:!1,resultCode:6,resultMessage:"Unable to parse critical certificate extension: "+d.extensions[c].extnID});case 10:d.extensions[c].extnID==="2.5.29.15"&&(h=!0,j=new Uint8Array(d.extensions[c].parsedValue.valueBlock.valueHex),(j[0]&4)===4&&(g=!0),(j[0]&2)===2&&(i=!0)),d.extensions[c].extnID==="2.5.29.19"&&("cA"in d.extensions[c].parsedValue&&(d.extensions[c].parsedValue.cA===!0&&(f=!0)));case 12:c++;a.next=7;break;case 15:if(!(g===!0&&f===!1)){a.next=17;break}return a.abrupt("return",{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstaints'});case 17:if(!(h===!0&&f===!0&&g===!1)){a.next=19;break}return a.abrupt("return",{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'});case 19:if(!(f===!0&&h===!0&&e&&i===!1)){a.next=21;break}return a.abrupt("return",{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'});case 21:if(!(f===!1)){a.next=23;break}return a.abrupt("return",{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"});case 23:return a.abrupt("return",{result:!0,resultCode:0,resultMessage:""});case 24:case"end":return a.stop()}},a,this)}));return r.apply(this,arguments)},q=function(a){return r.apply(this,arguments)},p=function(){p=e(b("regeneratorRuntime").mark(function a(e,f){var g,d,h;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:g=c.getAlgorithmByOID(e.signatureAlgorithm.algorithmId);if(!("name"in g===!1)){a.next=3;break}return a.abrupt("return",1);case 3:if(!("hash"in g===!1)){a.next=5;break}return a.abrupt("return",1);case 5:d=0;case 6:if(!(d<j.ocsps.length)){a.next=17;break}a.next=9;return j.ocsps[d].getCertificateStatus(e,f);case 9:h=a.sent;if(!h.isForCertificate){a.next=14;break}if(!(h.status===0)){a.next=13;break}return a.abrupt("return",0);case 13:return a.abrupt("return",1);case 14:d++;a.next=6;break;case 17:return a.abrupt("return",2);case 18:case"end":return a.stop()}},a,this)}));return p.apply(this,arguments)},o=function(a,b){return p.apply(this,arguments)},n=function(){n=e(b("regeneratorRuntime").mark(function a(e){var f,g,h,c,d,k;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:f=[];g=[];h=[];f.push.apply(f,i.filter(function(a){return e.issuer.isEqual(a.subject)}));if(!(f.length===0)){a.next=6;break}return a.abrupt("return",{status:1,statusMessage:"No certificate's issuers"});case 6:g.push.apply(g,j.crls.filter(function(a){return a.issuer.isEqual(e.issuer)}));if(!(g.length===0)){a.next=9;break}return a.abrupt("return",{status:2,statusMessage:"No CRLs for specific certificate issuer"});case 9:c=0;case 10:if(!(c<g.length)){a.next=32;break}if(!(g[c].nextUpdate.value<j.checkDate)){a.next=13;break}return a.abrupt("continue",29);case 13:d=0;case 14:if(!(d<f.length)){a.next=29;break}a.prev=15;a.next=18;return g[c].verify({issuerCertificate:f[d]});case 18:k=a.sent;if(!k){a.next=22;break}h.push({crl:g[c],certificate:f[d]});return a.abrupt("break",29);case 22:a.next=26;break;case 24:a.prev=24,a.t0=a["catch"](15);case 26:d++;a.next=14;break;case 29:c++;a.next=10;break;case 32:if(!h.length){a.next=34;break}return a.abrupt("return",{status:0,statusMessage:"",result:h});case 34:return a.abrupt("return",{status:3,statusMessage:"No valid CRLs found"});case 35:case"end":return a.stop()}},a,this,[[15,24]])}));return n.apply(this,arguments)},m=function(a){return n.apply(this,arguments)},l=function(){l=e(b("regeneratorRuntime").mark(function c(g){var f,h,i,d,l,e,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:h=function(c){var d=!0;for(var a=0;a<c.length;a++){for(var b=0;b<c.length;b++){if(b===a)continue;if(c[a]===c[b]){d=!1;break}}if(!d)break}return d};f=[];b.next=4;return j.findIssuer(g,j);case 4:i=b.sent;if(!(i.length===0)){b.next=7;break}throw new Error("No valid certificate paths found");case 7:d=0;case 8:if(!(d<i.length)){b.next=19;break}if(!a.isEqualBuffer(i[d].tbs,g.tbs)){b.next=12;break}f.push([i[d]]);return b.abrupt("continue",16);case 12:b.next=14;return k(i[d]);case 14:l=b.sent;for(e=0;e<l.length;e++)m=l[e].slice(),m.splice(0,0,i[d]),h(m)?f.push(m):f.push(l[e]);case 16:d++;b.next=8;break;case 19:return b.abrupt("return",f);case 20:case"end":return b.stop()}},c,this)}));return l.apply(this,arguments)},k=function(a){return l.apply(this,arguments)},i=[],j=g,i.push.apply(i,j.trustedCerts),i.push.apply(i,j.certs),u=0;case 15:if(!(u<i.length)){h.next=30;break}v=0;case 17:if(!(v<i.length)){h.next=27;break}if(!(u===v)){h.next=20;break}return h.abrupt("continue",24);case 20:if(!a.isEqualBuffer(i[u].tbs,i[v].tbs)){h.next=24;break}i.splice(v,1);u=0;return h.abrupt("break",27);case 24:v++;h.next=17;break;case 27:u++;h.next=15;break;case 30:x=[i[i.length-1]];h.next=33;return k(i[i.length-1]);case 33:w=h.sent;if(!(w.length===0)){h.next=36;break}return h.abrupt("return",{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"});case 36:y=0;case 37:if(!(y<w.length)){h.next=59;break}z=!1;A=0;case 40:if(!(A<w[y].length)){h.next=55;break}B=w[y][A];C=0;case 43:if(!(C<j.trustedCerts.length)){h.next=50;break}if(!a.isEqualBuffer(B.tbs,j.trustedCerts[C].tbs)){h.next=47;break}z=!0;return h.abrupt("break",50);case 47:C++;h.next=43;break;case 50:if(!z){h.next=52;break}return h.abrupt("break",55);case 52:A++;h.next=40;break;case 55:z||(w.splice(y,1),y=0);case 56:y++;h.next=37;break;case 59:if(!(w.length===0)){h.next=61;break}throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};case 61:D=w[0].length;E=0;for(F=0;F<w.length;F++)w[F].length<D&&(D=w[F].length,E=F);for(G=0;G<w[E].length;G++)x.push(w[E][G]);h.next=67;return s(x,j.checkDate);case 67:w=h.sent;if(!(w.result===!1)){h.next=70;break}throw w;case 70:return h.abrupt("return",x);case 71:case"end":return h.stop()}},h,this)}))()};g.verify=function(a){a===void 0&&(a={});var d=this;return e(b("regeneratorRuntime").mark(function e(){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,aa,J,K,ba,ca,da,ea,fa,ga,ha,L,ia,ja,ka,M,la,ma,na,oa,N,pa,qa,ra,sa,ta,ua,va,wa,O,P,Q,xa,ya,R,za,Aa,Ba,S,Ca,Da,T,Ea,U,Fa,V,Ga,Ha,Ia,W,X,Y,Ja,Ka,La,Ma,Na;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:j=function(c,d){if(c.typesAndValues.length===0||d.typesAndValues.length===0)return!0;if(c.typesAndValues.length<d.typesAndValues.length)return!1;var e=!0,f=0;for(var a=0;a<d.typesAndValues.length;a++){var g=!1;for(var b=f;b<c.typesAndValues.length;b++){g=c.typesAndValues[b].isEqual(d.typesAndValues[a]);c.typesAndValues[b].type===d.typesAndValues[a].type&&(e=e&&g);if(g===!0)if(f===0||f===b){f=b+1;break}else return!1}if(g===!1)return!1}return f===0?!1:e};i=function(b,c){b=new Uint8Array(b.valueBlock.valueHex);c=new Uint8Array(c.valueBlock.valueHex);if(b.length===4&&c.length===8){for(var a=0;a<4;a++)if((b[a]^c[a])&c[a+4])return!1;return!0}if(b.length===16&&c.length===32){for(a=0;a<16;a++)if((b[a]^c[a])&c[a+16])return!1;return!0}return!1};h=function(a,b){a=c.stringPrep(a);b=c.stringPrep(b);var d=a.split("/"),e=b.split("/");if(e.length>1)return!1;if(d.length>1)for(e=0;e<d.length;e++)if(d[e].length>0&&d[e].charAt(d[e].length-1)!==":"){var g=d[e].split(":");a=g[0];break}g=f(a,b);if(g){e=a.split(".");d=b.split(".");return d[0].length===0?!0:e.length===d.length}return!1};g=function(a,b){a=c.stringPrep(a);b=c.stringPrep(b);var d=a.split("@"),e=b.split("@");if(d.length===0||e.length===0||d.length<e.length)return!1;if(e.length===1){var g=f(d[1],e[0]);if(g){g=d[1].split(".");d=e[0].split(".");return d[0].length===0?!0:g.length===d.length}return!1}return a.localeCompare(b)===0};f=function(b,d){b=c.stringPrep(b);d=c.stringPrep(d);b=b.split(".");d=d.split(".");var e=b.length,f=d.length;if(e===0||f===0||e<f)return!1;for(var a=0;a<e;a++)if(b[a].length===0)return!1;for(a=0;a<f;a++)if(d[a].length===0){if(a===0){if(f===1)return!1;continue}return!1}for(a=0;a<f;a++){if(d[f-1-a].length===0)continue;if(b[e-1-a].localeCompare(d[f-1-a])!==0)return!1}return!0};b.prev=5;if(!(d.certs.length===0)){b.next=8;break}throw"Empty certificate array";case 8:k=!1;"passedWhenNotRevValues"in a&&(k=a.passedWhenNotRevValues);l=[];l.push("2.5.29.32.0");m=!1;n=!1;o=!1;p=[];q=[];r=[];"initialPolicySet"in a&&(l=a.initialPolicySet);"initialExplicitPolicy"in a&&(m=a.initialExplicitPolicy);"initialPolicyMappingInhibit"in a&&(n=a.initialPolicyMappingInhibit);"initialInhibitPolicy"in a&&(o=a.initialInhibitPolicy);"initialPermittedSubtreesSet"in a&&(p=a.initialPermittedSubtreesSet);"initialExcludedSubtreesSet"in a&&(q=a.initialExcludedSubtreesSet);"initialRequiredNameForms"in a&&(r=a.initialRequiredNameForms);s=m;t=n;u=o;v=new Array(3);v[0]=!1;v[1]=!1;v[2]=!1;w=0;x=0;y=0;z=p;A=q;B=r;C=1;b.next=41;return d.sort(k);case 41:d.certs=b.sent;D=[];D.push("2.5.29.32.0");E=[];F=new Array(d.certs.length-1);for(G=0;G<d.certs.length-1;G++)F[G]=!0;E.push(F);H=new Array(d.certs.length-1);I=new Array(d.certs.length-1);aa=s?d.certs.length-1:-1;J=d.certs.length-2;case 52:if(!(J>=0)){b.next=107;break}if(!("extensions"in d.certs[J])){b.next=104;break}K=0;case 55:if(!(K<d.certs[J].extensions.length)){b.next=90;break}if(!(d.certs[J].extensions[K].extnID==="2.5.29.32")){b.next=81;break}I[J]=d.certs[J].extensions[K].parsedValue;ba=0;case 59:if(!(ba<D.length)){b.next=66;break}if(!(D[ba]==="2.5.29.32.0")){b.next=63;break}delete E[ba][J];return b.abrupt("break",66);case 63:ba++;b.next=59;break;case 66:ca=0;case 67:if(!(ca<d.certs[J].extensions[K].parsedValue.certificatePolicies.length)){b.next=81;break}da=-1;ea=0;case 70:if(!(ea<D.length)){b.next=77;break}if(!(d.certs[J].extensions[K].parsedValue.certificatePolicies[ca].policyIdentifier===D[ea])){b.next=74;break}da=ea;return b.abrupt("break",77);case 74:ea++;b.next=70;break;case 77:da===-1?(D.push(d.certs[J].extensions[K].parsedValue.certificatePolicies[ca].policyIdentifier),fa=new Array(d.certs.length-1),fa[J]=!0,E.push(fa)):E[da][J]=!0;case 78:ca++;b.next=67;break;case 81:if(!(d.certs[J].extensions[K].extnID==="2.5.29.33")){b.next=85;break}if(!t){b.next=84;break}return b.abrupt("return",{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"});case 84:H[J]=d.certs[J].extensions[K].parsedValue;case 85:d.certs[J].extensions[K].extnID==="2.5.29.36"&&(s===!1&&(d.certs[J].extensions[K].parsedValue.requireExplicitPolicy===0?(s=!0,aa=J):v[0]===!1?(v[0]=!0,w=d.certs[J].extensions[K].parsedValue.requireExplicitPolicy):w=w>d.certs[J].extensions[K].parsedValue.requireExplicitPolicy?d.certs[J].extensions[K].parsedValue.requireExplicitPolicy:w,d.certs[J].extensions[K].parsedValue.inhibitPolicyMapping===0?t=!0:v[1]===!1?(v[1]=!0,x=d.certs[J].extensions[K].parsedValue.inhibitPolicyMapping+1):x=x>d.certs[J].extensions[K].parsedValue.inhibitPolicyMapping+1?d.certs[J].extensions[K].parsedValue.inhibitPolicyMapping+1:x)),d.certs[J].extensions[K].extnID==="2.5.29.54"&&(u===!1&&(d.certs[J].extensions[K].parsedValue.valueBlock.valueDec===0?u=!0:v[2]===!1?(v[2]=!0,y=d.certs[J].extensions[K].parsedValue.valueBlock.valueDec):y=y>d.certs[J].extensions[K].parsedValue.valueBlock.valueDec?d.certs[J].extensions[K].parsedValue.valueBlock.valueDec:y));case 87:K++;b.next=55;break;case 90:if(!(u===!0)){b.next=101;break}ga=-1;ha=0;case 93:if(!(ha<D.length)){b.next=100;break}if(!(D[ha]==="2.5.29.32.0")){b.next=97;break}ga=ha;return b.abrupt("break",100);case 97:ha++;b.next=93;break;case 100:ga!==-1&&delete E[0][J];case 101:s===!1&&(v[0]===!0&&(w--,w===0&&(s=!0,aa=J,v[0]=!1))),t===!1&&(v[1]===!0&&(x--,x===0&&(t=!0,v[1]=!1))),u===!1&&(v[2]===!0&&(y--,y===0&&(u=!0,v[2]=!1)));case 104:J--,C++;b.next=52;break;case 107:L=0;case 108:if(!(L<d.certs.length-1)){b.next=125;break}if(!(L<d.certs.length-2&&typeof H[L+1]!=="undefined")){b.next=122;break}ia=0;case 111:if(!(ia<H[L+1].mappings.length)){b.next=122;break}if(!(H[L+1].mappings[ia].issuerDomainPolicy==="2.5.29.32.0"||H[L+1].mappings[ia].subjectDomainPolicy==="2.5.29.32.0")){b.next=114;break}return b.abrupt("return",{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'});case 114:ja=-1;ka=-1;for(M=0;M<D.length;M++)D[M]===H[L+1].mappings[ia].issuerDomainPolicy&&(ja=M),D[M]===H[L+1].mappings[ia].subjectDomainPolicy&&(ka=M);typeof E[ja][L]!=="undefined"&&delete E[ja][L];for(la=0;la<I[L].certificatePolicies.length;la++)if(H[L+1].mappings[ia].subjectDomainPolicy===I[L].certificatePolicies[la].policyIdentifier&&(ja!==-1&&ka!==-1))for(ma=0;ma<=L;ma++)typeof E[ka][ma]!=="undefined"&&(E[ja][ma]=!0,delete E[ka][ma]);case 119:ia++;b.next=111;break;case 122:L++;b.next=108;break;case 125:for(na=0;na<D.length;na++)if(D[na]==="2.5.29.32.0")for(oa=0;oa<aa;oa++)delete E[na][oa];N=[];pa=0;case 128:if(!(pa<E.length)){b.next=156;break}qa=!0;ra=0;case 131:if(!(ra<d.certs.length-1)){b.next=152;break}sa=!1;if(!(ra<aa&&D[pa]==="2.5.29.32.0"&&D.length>1)){b.next=136;break}qa=!1;return b.abrupt("break",152);case 136:if(!(typeof E[pa][ra]==="undefined")){b.next=149;break}if(!(ra>=aa)){b.next=146;break}ta=0;case 139:if(!(ta<D.length)){b.next=146;break}if(!(D[ta]==="2.5.29.32.0")){b.next=143;break}E[ta][ra]===!0&&(sa=!0);return b.abrupt("break",146);case 143:ta++;b.next=139;break;case 146:if(sa){b.next=149;break}qa=!1;return b.abrupt("break",152);case 149:ra++;b.next=131;break;case 152:qa===!0&&N.push(D[pa]);case 153:pa++;b.next=128;break;case 156:ua=[];if(!(l.length===1&&l[0]==="2.5.29.32.0"&&s===!1)){b.next=161;break}ua=l;b.next=178;break;case 161:if(!(N.length===1&&N[0]==="2.5.29.32.0")){b.next=165;break}ua=l;b.next=178;break;case 165:va=0;case 166:if(!(va<N.length)){b.next=178;break}wa=0;case 168:if(!(wa<l.length)){b.next=175;break}if(!(l[wa]===N[va]||l[wa]==="2.5.29.32.0")){b.next=172;break}ua.push(N[va]);return b.abrupt("break",175);case 172:wa++;b.next=168;break;case 175:va++;b.next=166;break;case 178:O={result:ua.length>0,resultCode:0,resultMessage:ua.length>0?"":'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:N,userConstrPolicies:ua,explicitPolicyIndicator:s,policyMappings:H,certificatePath:d.certs};if(!(ua.length===0)){b.next=181;break}return b.abrupt("return",O);case 181:if(!(O.result===!1)){b.next=183;break}return b.abrupt("return",O);case 183:C=1,P=d.certs.length-2;case 185:if(!(P>=0)){b.next=307;break}Q=[];xa=[];ya=[];if("extensions"in d.certs[P])for(R=0;R<d.certs[P].extensions.length;R++)d.certs[P].extensions[R].extnID==="2.5.29.30"&&("permittedSubtrees"in d.certs[P].extensions[R].parsedValue&&(xa=xa.concat(d.certs[P].extensions[R].parsedValue.permittedSubtrees)),"excludedSubtrees"in d.certs[P].extensions[R].parsedValue&&(ya=ya.concat(d.certs[P].extensions[R].parsedValue.excludedSubtrees))),d.certs[P].extensions[R].extnID==="2.5.29.17"&&(Q=Q.concat(d.certs[P].extensions[R].parsedValue.altNames));za=B.length<=0;Aa=0;case 192:if(!(Aa<B.length)){b.next=213;break}b.t0=B[Aa].base.type;b.next=b.t0===4?196:210;break;case 196:if(!(B[Aa].base.value.typesAndValues.length!==d.certs[P].subject.typesAndValues.length)){b.next=198;break}return b.abrupt("continue",210);case 198:za=!0,Ba=0;case 200:if(!(Ba<d.certs[P].subject.typesAndValues.length)){b.next=207;break}if(!(d.certs[P].subject.typesAndValues[Ba].type!==B[Aa].base.value.typesAndValues[Ba].type)){b.next=204;break}za=!1;return b.abrupt("break",207);case 204:Ba++;b.next=200;break;case 207:if(!(za===!0)){b.next=209;break}return b.abrupt("break",210);case 209:return b.abrupt("break",210);case 210:Aa++;b.next=192;break;case 213:if(!(za===!1)){b.next=218;break}O.result=!1;O.resultCode=21;O.resultMessage="No neccessary name form found";throw O;case 218:S=[],S[0]=[],S[1]=[],S[2]=[],S[3]=[],S[4]=[],Ca=0;case 225:if(!(Ca<z.length)){b.next=242;break}b.t1=z[Ca].base.type;b.next=b.t1===1?229:b.t1===2?231:b.t1===4?233:b.t1===6?235:b.t1===7?237:239;break;case 229:S[0].push(z[Ca]);return b.abrupt("break",239);case 231:S[1].push(z[Ca]);return b.abrupt("break",239);case 233:S[2].push(z[Ca]);return b.abrupt("break",239);case 235:S[3].push(z[Ca]);return b.abrupt("break",239);case 237:S[4].push(z[Ca]);return b.abrupt("break",239);case 239:Ca++;b.next=225;break;case 242:Da=0;case 243:if(!(Da<5)){b.next=276;break}T=!1;Ea=!1;U=S[Da];Fa=0;case 248:if(!(Fa<U.length)){b.next=268;break}b.t2=Da;b.next=b.t2===0?252:b.t2===1?254:b.t2===2?256:b.t2===3?259:b.t2===4?261:263;break;case 252:if(Q.length>0)for(V=0;V<Q.length;V++)Q[V].type===1&&(Ea=!0,T=T||g(Q[V].value,U[Fa].base.value));else for(Ga=0;Ga<d.certs[P].subject.typesAndValues.length;Ga++)(d.certs[P].subject.typesAndValues[Ga].type==="1.2.840.113549.1.9.1"||d.certs[P].subject.typesAndValues[Ga].type==="0.9.2342.19200300.100.1.3")&&(Ea=!0,T=T||g(d.certs[P].subject.typesAndValues[Ga].value.valueBlock.value,U[Fa].base.value));return b.abrupt("break",263);case 254:if(Q.length>0)for(Ha=0;Ha<Q.length;Ha++)Q[Ha].type===2&&(Ea=!0,T=T||f(Q[Ha].value,U[Fa].base.value));return b.abrupt("break",263);case 256:Ea=!0;T=j(d.certs[P].subject,U[Fa].base.value);return b.abrupt("break",263);case 259:if(Q.length>0)for(Ia=0;Ia<Q.length;Ia++)Q[Ia].type===6&&(Ea=!0,T=T||h(Q[Ia].value,U[Fa].base.value));return b.abrupt("break",263);case 261:if(Q.length>0)for(W=0;W<Q.length;W++)Q[W].type===7&&(Ea=!0,T=T||i(Q[W].value,U[Fa].base.value));return b.abrupt("break",263);case 263:if(!T){b.next=265;break}return b.abrupt("break",268);case 265:Fa++;b.next=248;break;case 268:if(!(T===!1&&U.length>0&&Ea)){b.next=273;break}O.result=!1;O.resultCode=41;O.resultMessage='Failed to meet "permitted sub-trees" name constraint';throw O;case 273:Da++;b.next=243;break;case 276:X=!1,Y=0;case 278:if(!(Y<A.length)){b.next=297;break}b.t3=A[Y].base.type;b.next=b.t3===1?282:b.t3===2?284:b.t3===4?286:b.t3===6?288:b.t3===7?290:292;break;case 282:if(Q.length>=0)for(Ja=0;Ja<Q.length;Ja++)Q[Ja].type===1&&(X=X||g(Q[Ja].value,A[Y].base.value));else for(Ka=0;Ka<d.certs[P].subject.typesAndValues.length;Ka++)(d.certs[P].subject.typesAndValues[Ka].type==="1.2.840.113549.1.9.1"||d.certs[P].subject.typesAndValues[Ka].type==="0.9.2342.19200300.100.1.3")&&(X=X||g(d.certs[P].subject.typesAndValues[Ka].value.valueBlock.value,A[Y].base.value));return b.abrupt("break",292);case 284:if(Q.length>0)for(La=0;La<Q.length;La++)Q[La].type===2&&(X=X||f(Q[La].value,A[Y].base.value));return b.abrupt("break",292);case 286:X=X||j(d.certs[P].subject,A[Y].base.value);return b.abrupt("break",292);case 288:if(Q.length>0)for(Ma=0;Ma<Q.length;Ma++)Q[Ma].type===6&&(X=X||h(Q[Ma].value,A[Y].base.value));return b.abrupt("break",292);case 290:if(Q.length>0)for(Na=0;Na<Q.length;Na++)Q[Na].type===7&&(X=X||i(Q[Na].value,A[Y].base.value));return b.abrupt("break",292);case 292:if(!X){b.next=294;break}return b.abrupt("break",297);case 294:Y++;b.next=278;break;case 297:if(!(X===!0)){b.next=302;break}O.result=!1;O.resultCode=42;O.resultMessage='Failed to meet "excluded sub-trees" name constraint';throw O;case 302:z=z.concat(xa),A=A.concat(ya);case 304:P--,C++;b.next=185;break;case 307:return b.abrupt("return",O);case 310:b.prev=310;b.t4=b["catch"](5);if(!(b.t4 instanceof Object)){b.next=317;break}if(!("resultMessage"in b.t4)){b.next=315;break}return b.abrupt("return",b.t4);case 315:if(!("message"in b.t4)){b.next=317;break}return b.abrupt("return",{result:!1,resultCode:-1,resultMessage:b.t4.message});case 317:return b.abrupt("return",{result:!1,resultCode:-1,resultMessage:b.t4});case 318:case"end":return b.stop()}},e,this,[[5,310]])}))()};return d}();wh["default"]=j}var zh=!1;function Ah(){zh||(zh=!0,yh());return xh.exports}var Bh={},Ch={exports:Bh};function Dh(){Object.defineProperty(Bh,"__esModule",{value:!0});Bh["default"]=void 0;var a=p(g()),c=h(),d=W(),e=m(vh()),f=m(n()),i=m(Vd()),j=m(lh()),k=m(Qa()),l=m(Ah());function m(a){return a&&a.__esModule?a:{"default":a}}function o(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(o=function(a){return a?c:b})(a)}function p(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=o(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function q(a,b){return t(a)||s(a,b)||v(a,b)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function t(a){if(Array.isArray(a))return a}function u(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=v(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function v(a,b){if(!a)return;if(typeof a==="string")return w(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return w(a,b)}function w(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}p=function(){function g(a){a===void 0&&(a={}),this.tbsResponseData=c.getParametersValue(a,"tbsResponseData",g.defaultValues("tbsResponseData")),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signature=c.getParametersValue(a,"signature",g.defaultValues("signature")),"certs"in a&&(this.certs=c.getParametersValue(a,"certs",g.defaultValues("certs"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"tbsResponseData":return new e["default"]();case"signatureAlgorithm":return new f["default"]();case"signature":return new a.BitString();case"certs":return[];default:throw new Error("Invalid member name for BasicOCSPResponse class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"type":var c=e["default"].compareWithDefault("tbs",b.tbs)&&e["default"].compareWithDefault("responderID",b.responderID)&&e["default"].compareWithDefault("producedAt",b.producedAt)&&e["default"].compareWithDefault("responses",b.responses);"responseExtensions"in b&&(c=c&&e["default"].compareWithDefault("responseExtensions",b.responseExtensions));return c;case"signatureAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"signature":return b.isEqual(g.defaultValues(a));case"certs":return b.length===0;default:throw new Error("Invalid member name for BasicOCSPResponse class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"BasicOCSPResponse",value:[e["default"].schema(b.tbsResponseData||{names:{blockName:"BasicOCSPResponse.tbsResponseData"}}),f["default"].schema(b.signatureAlgorithm||{names:{blockName:"BasicOCSPResponse.signatureAlgorithm"}}),new a.BitString({name:b.signature||"BasicOCSPResponse.signature"}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:[new a.Repeated({name:"BasicOCSPResponse.certs",value:i["default"].schema(b.certs||{})})]})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["BasicOCSPResponse.tbsResponseData","BasicOCSPResponse.signatureAlgorithm","BasicOCSPResponse.signature","BasicOCSPResponse.certs"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for BasicOCSPResponse");this.tbsResponseData=new e["default"]({schema:b.result["BasicOCSPResponse.tbsResponseData"]});this.signatureAlgorithm=new f["default"]({schema:b.result["BasicOCSPResponse.signatureAlgorithm"]});this.signature=b.result["BasicOCSPResponse.signature"];"BasicOCSPResponse.certs"in b.result&&(this.certs=Array.from(b.result["BasicOCSPResponse.certs"],function(a){return new i["default"]({schema:a})}))};h.toSchema=function(){var b=[];b.push(this.tbsResponseData.toSchema());b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"certs"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.certs,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};h.toJSON=function(){var a={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};"certs"in this&&(a.certs=Array.from(this.certs,function(a){return a.toJSON()}));return a};h.getCertificateStatus=function(a,c){var e=this,f=b("Promise").resolve(),g={isForCertificate:!1,status:2},h={},i=[],k=[],l=u(this.tbsResponseData.responses),m;try{for(l.s();!(m=l.n()).done;){m=m.value;var n=d.getAlgorithmByOID(m.certID.hashAlgorithm.algorithmId);if("name"in n===!1)return b("Promise").reject("Wrong CertID hashing algorithm: "+m.certID.hashAlgorithm.algorithmId);if(n.name in h===!1){h[n.name]=1;m=new j["default"]();i.push(m);k.push(m.createForCertificate(a,{hashAlgorithm:n.name,issuerCertificate:c}))}}}catch(a){l.e(a)}finally{l.f()}f=f.then(function(){return b("Promise").all(k)});f=f.then(function(){var a=u(e.tbsResponseData.responses),b;try{for(a.s();!(b=a.n()).done;){b=b.value;var c=u(i),d;try{for(c.s();!(d=c.n()).done;){d=d.value;if(b.certID.isEqual(d)){g.isForCertificate=!0;try{switch(b.certStatus.idBlock.isConstructed){case!0:b.certStatus.idBlock.tagNumber===1&&(g.status=1);break;case!1:switch(b.certStatus.idBlock.tagNumber){case 0:g.status=0;break;case 2:g.status=2;break;default:}break;default:}}catch(a){}return g}}}catch(a){c.e(a)}finally{c.f()}}}catch(b){a.e(b)}finally{a.f()}return g});return f};h.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return b("Promise").reject("Need to provide a private key for signing");var g=b("Promise").resolve(),h,i=d.getEngine();g=g.then(function(){return i.subtle.getSignatureParameters(c,e)});g=g.then(function(a){h=a.parameters,f.signatureAlgorithm=a.signatureAlgorithm});g=g.then(function(){f.tbsResponseData.tbs=f.tbsResponseData.toSchema(!0).toBER(!1)});g=g.then(function(){return i.subtle.signWithPrivateKey(f.tbsResponseData.tbs,c,h)});g=g.then(function(b){f.signature=new a.BitString({valueHex:b})});return g};h.verify=function(e){var f=this;e===void 0&&(e={});var g=null,h=-1,i=b("Promise").resolve(),j=[],m=this,n=d.getEngine();if("certs"in this===!1)return b("Promise").reject("No certificates attached to the BasicOCSPResponce");"trustedCerts"in e&&(j=e.trustedCerts);function o(a){if(a.issuer.isEqual(g.issuer)===!0&&a.serialNumber.isEqual(g.serialNumber)===!0)return null;var b=!1,c=u(a.extensions),d;try{for(c.s();!(d=c.n()).done;){d=d.value;d.extnID==="2.5.29.19"&&("cA"in d.parsedValue&&(d.parsedValue.cA===!0&&(b=!0)))}}catch(a){c.e(a)}finally{c.f()}return b?a:null}var p=d.getCrypto();if(typeof p==="undefined")return b("Promise").reject("Unable to create WebCrypto object");switch(!0){case this.tbsResponseData.responderID instanceof k["default"]:i=i.then(function(){var a=u(m.certs.entries()),b;try{for(a.s();!(b=a.n()).done;){b=q(b.value,2);var c=b[0];b=b[1];if(b.subject.isEqual(m.tbsResponseData.responderID)){h=c;break}}}catch(b){a.e(b)}finally{a.f()}});break;case this.tbsResponseData.responderID instanceof a.OctetString:i=i.then(function(){return b("Promise").all(Array.from(m.certs,function(a){return p.digest({name:"sha-1"},new Uint8Array(a.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))})).then(function(a){var b=u(m.certs.entries()),d;try{for(b.s();!(d=b.n()).done;){d=q(d.value,1);d=d[0];if(c.isEqualBuffer(a[d],m.tbsResponseData.responderID.valueBlock.valueHex)){h=d;break}}}catch(a){b.e(a)}finally{b.f()}})});break;default:return b("Promise").reject("Wrong value for responderID")}i=i.then(function(){if(h===-1)return b("Promise").reject("Correct certificate was not found in OCSP response");g=f.certs[h];return b("Promise").all(Array.from(m.certs,function(a){return o(a)})).then(function(a){var c=[];c.push(g);a=u(a);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;d!==null&&c.push(d)}}catch(b){a.e(b)}finally{a.f()}d=new l["default"]({certs:c,trustedCerts:j});return d.verify().then(function(a){return a.result===!0?b("Promise").resolve():b("Promise").reject("Validation of signer's certificate failed")},function(a){return b("Promise").reject("Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a))})},function(a){return b("Promise").reject("Error during checking certificates for CA flag: "+a)})});i=i.then(function(){return n.subtle.verifyWithPublicKey(f.tbsResponseData.tbs,f.signature,f.certs[h].subjectPublicKeyInfo,f.signatureAlgorithm)});return i};return g}();Bh["default"]=p}var Eh=!1;function Fh(){Eh||(Eh=!0,Dh());return Ch.exports}var Gh={},Hh={exports:Gh};function Ih(){Object.defineProperty(Gh,"__esModule",{value:!0});Gh["default"]=void 0;var a=m(g()),c=h(),d=W(),e=k(C()),f=k(Qa()),i=k(n()),j=k(H());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function o(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.CertificationRequestInfo||"CertificationRequestInfo",value:[new a.Integer({name:b.CertificationRequestInfoVersion||"CertificationRequestInfo.version"}),f["default"].schema(b.subject||{names:{blockName:"CertificationRequestInfo.subject"}}),e["default"].schema({names:{blockName:"CertificationRequestInfo.subjectPublicKeyInfo"}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({optional:!0,name:b.CertificationRequestInfoAttributes||"CertificationRequestInfo.attributes",value:j["default"].schema(b.attributes||{})})]})]})}m=function(){function g(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",g.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.subject=c.getParametersValue(a,"subject",g.defaultValues("subject")),this.subjectPublicKeyInfo=c.getParametersValue(a,"subjectPublicKeyInfo",g.defaultValues("subjectPublicKeyInfo")),"attributes"in a&&(this.attributes=c.getParametersValue(a,"attributes",g.defaultValues("attributes"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",g.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"subject":return new f["default"]();case"subjectPublicKeyInfo":return new e["default"]();case"attributes":return[];case"signatureAlgorithm":return new i["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for CertificationRequest class: "+b)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({value:[o(b.certificationRequestInfo||{}),new a.Sequence({name:b.signatureAlgorithm||"signatureAlgorithm",value:[new a.ObjectIdentifier(),new a.Any({optional:!0})]}),new a.BitString({name:b.signatureValue||"signatureValue"})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["CertificationRequestInfo","CertificationRequestInfo.version","CertificationRequestInfo.subject","CertificationRequestInfo.subjectPublicKeyInfo","CertificationRequestInfo.attributes","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertificationRequest");this.tbs=b.result.CertificationRequestInfo.valueBeforeDecode;this.version=b.result["CertificationRequestInfo.version"].valueBlock.valueDec;this.subject=new f["default"]({schema:b.result["CertificationRequestInfo.subject"]});this.subjectPublicKeyInfo=new e["default"]({schema:b.result["CertificationRequestInfo.subjectPublicKeyInfo"]});"CertificationRequestInfo.attributes"in b.result&&(this.attributes=Array.from(b.result["CertificationRequestInfo.attributes"],function(a){return new j["default"]({schema:a})}));this.signatureAlgorithm=new i["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};h.encodeTBS=function(){var b=[new a.Integer({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];"attributes"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.byteLength===0)return g.schema();b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};h.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"attributes"in this&&(a.attributes=Array.from(this.attributes,function(a){return a.toJSON()}));return a};h.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return b("Promise").reject("Need to provide a private key for signing");var g=b("Promise").resolve(),h,i=d.getEngine();g=g.then(function(){return i.subtle.getSignatureParameters(c,e)});g=g.then(function(a){h=a.parameters,f.signatureAlgorithm=a.signatureAlgorithm});g=g.then(function(){f.tbs=f.encodeTBS().toBER(!1)});g=g.then(function(){return i.subtle.signWithPrivateKey(f.tbs,c,h)});g=g.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return g};h.verify=function(){return d.getEngine().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)};h.getPublicKey=function(a){a===void 0&&(a=null);return d.getEngine().getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,a)};return g}();Gh["default"]=m}var Jh=!1;function Kh(){Jh||(Jh=!0,Ih());return Hh.exports}var Lh={},Mh={exports:Lh};function Nh(){Object.defineProperty(Lh,"__esModule",{value:!0});Lh["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",d.defaultValues("digestAlgorithm")),this.digest=b.getParametersValue(a,"digest",d.defaultValues("digest")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"digestAlgorithm":return new c["default"]();case"digest":return new a.OctetString();default:throw new Error("Invalid member name for DigestInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"digestAlgorithm":return c["default"].compareWithDefault("algorithmId",b.algorithmId)&&"algorithmParams"in b===!1;case"digest":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for DigestInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.digestAlgorithm||{names:{blockName:"digestAlgorithm"}}),new a.OctetString({name:d.digest||"digest"})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["digestAlgorithm","digest"]);e=a.compareSchema(e,e,d.schema({names:{digestAlgorithm:{names:{blockName:"digestAlgorithm"}},digest:"digest"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for DigestInfo");this.digestAlgorithm=new c["default"]({schema:e.result.digestAlgorithm});this.digest=e.result.digest};e.toSchema=function(){return new a.Sequence({value:[this.digestAlgorithm.toSchema(),this.digest]})};e.toJSON=function(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}};return d}();Lh["default"]=f}var Oh=!1;function Ph(){Oh||(Oh=!0,Nh());return Mh.exports}var Qh={},Rh={exports:Qh};function Sh(){Object.defineProperty(Qh,"__esModule",{value:!0});Qh["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(d){d===void 0&&(d={});this.eContentType=b.getParametersValue(d,"eContentType",c.defaultValues("eContentType"));if("eContent"in d){this.eContent=b.getParametersValue(d,"eContent",c.defaultValues("eContent"));if(this.eContent.idBlock.tagClass===1&&this.eContent.idBlock.tagNumber===4&&this.eContent.idBlock.isConstructed===!1){var e=new a.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),f=0,g=this.eContent.valueBlock.valueHex.byteLength;while(g>0){var h=new Uint8Array(this.eContent.valueBlock.valueHex,f,f+65536>this.eContent.valueBlock.valueHex.byteLength?this.eContent.valueBlock.valueHex.byteLength-f:65536),i=new ArrayBuffer(h.length),j=new Uint8Array(i);for(var k=0;k<j.length;k++)j[k]=h[k];e.valueBlock.value.push(new a.OctetString({valueHex:i}));g-=h.length;f+=h.length}this.eContent=e}}"schema"in d&&this.fromSchema(d.schema)}c.defaultValues=function(b){switch(b){case"eContentType":return"";case"eContent":return new a.OctetString();default:throw new Error("Invalid member name for EncapsulatedContentInfo class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"eContentType":return b==="";case"eContent":return b.idBlock.tagClass===1&&b.idBlock.tagNumber===4?b.isEqual(c.defaultValues("eContent")):!1;default:throw new Error("Invalid member name for EncapsulatedContentInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.eContentType||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.eContent||""})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["eContentType","eContent"]);d=a.compareSchema(d,d,c.schema({names:{eContentType:"eContentType",eContent:"eContent"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for EncapsulatedContentInfo");this.eContentType=d.result.eContentType.valueBlock.toString();"eContent"in d.result&&(this.eContent=d.result.eContent)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.eContentType}));"eContent"in this&&(c.compareWithDefault("eContent",this.eContent)===!1&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})));return new a.Sequence({value:b})};d.toJSON=function(){var a={eContentType:this.eContentType};"eContent"in this&&(c.compareWithDefault("eContent",this.eContent)===!1&&(a.eContent=this.eContent.toJSON()));return a};return c}();Qh["default"]=d}var Th=!1;function Uh(){Th||(Th=!0,Sh());return Rh.exports}var Vh={},Wh={exports:Vh};function Xh(){Object.defineProperty(Vh,"__esModule",{value:!0});Vh["default"]=void 0;a=a(oa());function a(a){return a&&a.__esModule?a:{"default":a}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b===void 0&&(b={});return a.call(this,b)||this}return b}(a["default"]);Vh["default"]=a}var Yh=!1;function Zh(){Yh||(Yh=!0,Xh());return Wh.exports}var $h={},ai={exports:$h};function bi(){Object.defineProperty($h,"__esModule",{value:!0});$h["default"]=void 0;var a=f(g()),b=h(),c=d(Ph());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.mac=b.getParametersValue(a,"mac",d.defaultValues("mac")),this.macSalt=b.getParametersValue(a,"macSalt",d.defaultValues("macSalt")),"iterations"in a&&(this.iterations=b.getParametersValue(a,"iterations",d.defaultValues("iterations"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"mac":return new c["default"]();case"macSalt":return new a.OctetString();case"iterations":return 1;default:throw new Error("Invalid member name for MacData class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"mac":return c["default"].compareWithDefault("digestAlgorithm",b.digestAlgorithm)&&c["default"].compareWithDefault("digest",b.digest);case"macSalt":return b.isEqual(d.defaultValues(a));case"iterations":return b===d.defaultValues(a);default:throw new Error("Invalid member name for MacData class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",optional:d.optional||!0,value:[c["default"].schema(d.mac||{names:{blockName:"mac"}}),new a.OctetString({name:d.macSalt||"macSalt"}),new a.Integer({optional:!0,name:d.iterations||"iterations"})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["mac","macSalt","iterations"]);e=a.compareSchema(e,e,d.schema({names:{mac:{names:{blockName:"mac"}},macSalt:"macSalt",iterations:"iterations"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for MacData");this.mac=new c["default"]({schema:e.result.mac});this.macSalt=e.result.macSalt;"iterations"in e.result&&(this.iterations=e.result.iterations.valueBlock.valueDec)};e.toSchema=function(){var b=[this.mac.toSchema(),this.macSalt];"iterations"in this&&b.push(new a.Integer({value:this.iterations}));return new a.Sequence({value:b})};e.toJSON=function(){var a={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};"iterations"in this&&(a.iterations=this.iterations.toJSON());return a};return d}();$h["default"]=f}var ci=!1;function di(){ci||(ci=!0,bi());return ai.exports}var ei={},fi={exports:ei};function gi(){Object.defineProperty(ei,"__esModule",{value:!0});ei["default"]=void 0;var a=f(g()),b=h(),c=d(n());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.hashedMessage=b.getParametersValue(a,"hashedMessage",d.defaultValues("hashedMessage")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]();case"hashedMessage":return new a.OctetString();default:throw new Error("Invalid member name for MessageImprint class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"hashAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"hashedMessage":return b.isEqual(d.defaultValues(a))===0;default:throw new Error("Invalid member name for MessageImprint class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.hashAlgorithm||{}),new a.OctetString({name:d.hashedMessage||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","hashedMessage"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},hashedMessage:"hashedMessage"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for MessageImprint");this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm});this.hashedMessage=e.result.hashedMessage};e.toSchema=function(){return new a.Sequence({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})};e.toJSON=function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}};return d}();ei["default"]=f}var hi=!1;function ii(){hi||(hi=!0,gi());return fi.exports}var ji={},ki={exports:ji};function li(){Object.defineProperty(ji,"__esModule",{value:!0});ji["default"]=void 0;var a=i(g()),b=h(),c=e(lh()),d=e(Ld());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.reqCert=b.getParametersValue(a,"reqCert",e.defaultValues("reqCert")),"singleRequestExtensions"in a&&(this.singleRequestExtensions=b.getParametersValue(a,"singleRequestExtensions",e.defaultValues("singleRequestExtensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"reqCert":return new c["default"]();case"singleRequestExtensions":return[];default:throw new Error("Invalid member name for Request class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"reqCert":return b.isEqual(e.defaultValues(a));case"singleRequestExtensions":return b.length===0;default:throw new Error("Invalid member name for Request class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[c["default"].schema(e.reqCert||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[d["default"].schema(e.extensions||{names:{blockName:e.singleRequestExtensions||""}})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["reqCert","singleRequestExtensions"]);f=a.compareSchema(f,f,e.schema({names:{reqCert:{names:{blockName:"reqCert"}},singleRequestExtensions:{names:{blockName:"singleRequestExtensions"}}}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for Request");this.reqCert=new c["default"]({schema:f.result.reqCert});"singleRequestExtensions"in f.result&&(this.singleRequestExtensions=Array.from(f.result.singleRequestExtensions.valueBlock.value,function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(this.reqCert.toSchema());"singleRequestExtensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.singleRequestExtensions,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};f.toJSON=function(){var a={reqCert:this.reqCert.toJSON()};"singleRequestExtensions"in this&&(a.singleRequestExtensions=Array.from(this.singleRequestExtensions,function(a){return a.toJSON()}));return a};return e}();ji["default"]=i}var mi=!1;function ni(){mi||(mi=!0,li());return ki.exports}var oi={},pi={exports:oi};function qi(){Object.defineProperty(oi,"__esModule",{value:!0});oi["default"]=void 0;var a=k(g()),b=h(),c=i(Va()),d=i(ni()),e=i(Ld()),f=i(Qd());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.tbs=b.getParametersValue(a,"tbs",g.defaultValues("tbs")),"version"in a&&(this.version=b.getParametersValue(a,"version",g.defaultValues("version"))),"requestorName"in a&&(this.requestorName=b.getParametersValue(a,"requestorName",g.defaultValues("requestorName"))),this.requestList=b.getParametersValue(a,"requestList",g.defaultValues("requestList")),"requestExtensions"in a&&(this.requestExtensions=b.getParametersValue(a,"requestExtensions",g.defaultValues("requestExtensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"requestorName":return new c["default"]();case"requestList":case"requestExtensions":return[];default:throw new Error("Invalid member name for TBSRequest class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"tbs":return b.byteLength===0;case"version":return b===g.defaultValues(a);case"requestorName":return b.type===c["default"].defaultValues("type")&&Object.keys(b.value).length===0;case"requestList":case"requestExtensions":return b.length===0;default:throw new Error("Invalid member name for TBSRequest class: "+a)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"TBSRequest",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:e.TBSRequestVersion||"TBSRequest.version"})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c["default"].schema(e.requestorName||{names:{blockName:"TBSRequest.requestorName"}})]}),new a.Sequence({name:e.requestList||"TBSRequest.requestList",value:[new a.Repeated({name:e.requests||"TBSRequest.requests",value:d["default"].schema(e.requestNames||{})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[f["default"].schema(e.extensions||{names:{blockName:e.requestExtensions||"TBSRequest.requestExtensions"}})]})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["TBSRequest","TBSRequest.version","TBSRequest.requestorName","TBSRequest.requests","TBSRequest.requestExtensions"]);f=a.compareSchema(f,f,g.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for TBSRequest");this.tbs=f.result.TBSRequest.valueBeforeDecode;"TBSRequest.version"in f.result&&(this.version=f.result["TBSRequest.version"].valueBlock.valueDec);"TBSRequest.requestorName"in f.result&&(this.requestorName=new c["default"]({schema:f.result["TBSRequest.requestorName"]}));this.requestList=Array.from(f.result["TBSRequest.requests"],function(a){return new d["default"]({schema:a})});"TBSRequest.requestExtensions"in f.result&&(this.requestExtensions=Array.from(f.result["TBSRequest.requestExtensions"].valueBlock.value,function(a){return new e["default"]({schema:a})}))};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.byteLength===0)return g.schema();b=a.fromBER(this.tbs).result}else{var c=[];"version"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));"requestorName"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]}));c.push(new a.Sequence({value:Array.from(this.requestList,function(a){return a.toSchema()})}));"requestExtensions"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new a.Sequence({value:Array.from(this.requestExtensions,function(a){return a.toSchema()})})]}));b=new a.Sequence({value:c})}return b};h.toJSON=function(){var a={};"version"in this&&(a.version=this.version);"requestorName"in this&&(a.requestorName=this.requestorName.toJSON());a.requestList=Array.from(this.requestList,function(a){return a.toJSON()});"requestExtensions"in this&&(a.requestExtensions=Array.from(this.requestExtensions,function(a){return a.toJSON()}));return a};return g}();oi["default"]=k}var ri=!1;function si(){ri||(ri=!0,qi());return pi.exports}var ti={},ui={exports:ti};function vi(){Object.defineProperty(ti,"__esModule",{value:!0});ti["default"]=void 0;var a=i(g()),b=h(),c=e(n()),d=e(Vd());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=b.getParametersValue(a,"signature",e.defaultValues("signature")),"certs"in a&&(this.certs=b.getParametersValue(a,"certs",e.defaultValues("certs"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"signatureAlgorithm":return new c["default"]();case"signature":return new a.BitString();case"certs":return[];default:throw new Error("Invalid member name for Signature class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"signatureAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"signature":return b.isEqual(e.defaultValues(a));case"certs":return b.length===0;default:throw new Error("Invalid member name for Signature class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[c["default"].schema(e.signatureAlgorithm||{}),new a.BitString({name:e.signature||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:[new a.Repeated({name:e.certs||"",value:d["default"].schema(e.certs||{})})]})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["signatureAlgorithm","signature","certs"]);f=a.compareSchema(f,f,e.schema({names:{signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signature:"signature",certs:"certs"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for Signature");this.signatureAlgorithm=new c["default"]({schema:f.result.signatureAlgorithm});this.signature=f.result.signature;"certs"in f.result&&(this.certs=Array.from(f.result.certs,function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"certs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.certs,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};f.toJSON=function(){var a={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};"certs"in this&&(a.certs=Array.from(this.certs,function(a){return a.toJSON()}));return a};return e}();ti["default"]=i}var wi=!1;function xi(){wi||(wi=!0,vi());return ui.exports}var yi={},zi={exports:yi};function Ai(){Object.defineProperty(yi,"__esModule",{value:!0});yi["default"]=void 0;var a=m(g()),c=h(),d=W(),e=k(si()),f=k(xi()),i=k(ni()),j=k(lh());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}m=function(){function g(a){a===void 0&&(a={}),this.tbsRequest=c.getParametersValue(a,"tbsRequest",g.defaultValues("tbsRequest")),"optionalSignature"in a&&(this.optionalSignature=c.getParametersValue(a,"optionalSignature",g.defaultValues("optionalSignature"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"tbsRequest":return new e["default"]();case"optionalSignature":return new f["default"]();default:throw new Error("Invalid member name for OCSPRequest class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"tbsRequest":return e["default"].compareWithDefault("tbs",b.tbs)&&e["default"].compareWithDefault("version",b.version)&&e["default"].compareWithDefault("requestorName",b.requestorName)&&e["default"].compareWithDefault("requestList",b.requestList)&&e["default"].compareWithDefault("requestExtensions",b.requestExtensions);case"optionalSignature":return f["default"].compareWithDefault("signatureAlgorithm",b.signatureAlgorithm)&&f["default"].compareWithDefault("signature",b.signature)&&f["default"].compareWithDefault("certs",b.certs);default:throw new Error("Invalid member name for OCSPRequest class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"OCSPRequest",value:[e["default"].schema(b.tbsRequest||{names:{blockName:"tbsRequest"}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[f["default"].schema(b.optionalSignature||{names:{blockName:"optionalSignature"}})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["tbsRequest","optionalSignature"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for OCSPRequest");this.tbsRequest=new e["default"]({schema:b.result.tbsRequest});"optionalSignature"in b.result&&(this.optionalSignature=new f["default"]({schema:b.result.optionalSignature}))};h.toSchema=function(b){b===void 0&&(b=!1);var c=[];c.push(this.tbsRequest.toSchema(b));"optionalSignature"in this&&c.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]}));return new a.Sequence({value:c})};h.toJSON=function(){var a={tbsRequest:this.tbsRequest.toJSON()};"optionalSignature"in this&&(a.optionalSignature=this.optionalSignature.toJSON());return a};h.createForCertificate=function(a,c){var d=this,f=b("Promise").resolve(),g=new j["default"]();f=f.then(function(){return g.createForCertificate(a,c)});f=f.then(function(){d.tbsRequest=new e["default"]({requestList:[new i["default"]({reqCert:g})]})},function(a){return b("Promise").reject(a)});return f};h.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return b("Promise").reject("Need to provide a private key for signing");if("optionalSignature"in this===!1)return b("Promise").reject('Need to create "optionalSignature" field before signing');var g=b("Promise").resolve(),h,i,j=d.getEngine();g=g.then(function(){return j.subtle.getSignatureParameters(c,e)});g=g.then(function(a){h=a.parameters,f.optionalSignature.signatureAlgorithm=a.signatureAlgorithm});g=g.then(function(){i=f.tbsRequest.toSchema(!0).toBER(!1)});g=g.then(function(){return j.subtle.signWithPrivateKey(i,c,h)});g=g.then(function(b){f.optionalSignature.signature=new a.BitString({valueHex:b})});return g};h.verify=function(){};return g}();yi["default"]=m}var Bi=!1;function Ci(){Bi||(Bi=!0,Ai());return zi.exports}var Di={},Ei={exports:Di};function Fi(){Object.defineProperty(Di,"__esModule",{value:!0});Di["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.responseType=b.getParametersValue(a,"responseType",c.defaultValues("responseType")),this.response=b.getParametersValue(a,"response",c.defaultValues("response")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"responseType":return"";case"response":return new a.OctetString();default:throw new Error("Invalid member name for ResponseBytes class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"responseType":return b==="";case"response":return b.isEqual(c.defaultValues(a));default:throw new Error("Invalid member name for ResponseBytes class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.responseType||""}),new a.OctetString({name:c.response||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["responseType","response"]);d=a.compareSchema(d,d,c.schema({names:{responseType:"responseType",response:"response"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ResponseBytes");this.responseType=d.result.responseType.valueBlock.toString();this.response=d.result.response};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.responseType}),this.response]})};d.toJSON=function(){return{responseType:this.responseType,response:this.response.toJSON()}};return c}();Di["default"]=d}var Gi=!1;function Hi(){Gi||(Gi=!0,Fi());return Ei.exports}var Ii={},Ji={exports:Ii};function Ki(){Object.defineProperty(Ii,"__esModule",{value:!0});Ii["default"]=void 0;var a=j(g()),c=h(),d=f(Hi()),e=f(Fh());function f(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(i=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=i(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.responseStatus=c.getParametersValue(a,"responseStatus",f.defaultValues("responseStatus")),"responseBytes"in a&&(this.responseBytes=c.getParametersValue(a,"responseBytes",f.defaultValues("responseBytes"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"responseStatus":return new a.Enumerated();case"responseBytes":return new d["default"]();default:throw new Error("Invalid member name for OCSPResponse class: "+b)}};f.compareWithDefault=function(a,b){switch(a){case"responseStatus":return b.isEqual(f.defaultValues(a));case"responseBytes":return d["default"].compareWithDefault("responseType",b.responseType)&&d["default"].compareWithDefault("response",b.response);default:throw new Error("Invalid member name for OCSPResponse class: "+a)}};f.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"OCSPResponse",value:[new a.Enumerated({name:b.responseStatus||"responseStatus"}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[d["default"].schema(b.responseBytes||{names:{blockName:"responseBytes"}})]})]})};var g=f.prototype;g.fromSchema=function(b){c.clearProps(b,["responseStatus","responseBytes"]);b=a.compareSchema(b,b,f.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for OCSPResponse");this.responseStatus=b.result.responseStatus;"responseBytes"in b.result&&(this.responseBytes=new d["default"]({schema:b.result.responseBytes}))};g.toSchema=function(){var b=[];b.push(this.responseStatus);"responseBytes"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]}));return new a.Sequence({value:b})};g.toJSON=function(){var a={responseStatus:this.responseStatus.toJSON()};"responseBytes"in this&&(a.responseBytes=this.responseBytes.toJSON());return a};g.getCertificateStatus=function(b,c){var d,f={isForCertificate:!1,status:2};if("responseBytes"in this===!1)return f;if(this.responseBytes.responseType!=="1.3.6.1.5.5.7.48.1.1")return f;try{var g=a.fromBER(this.responseBytes.response.valueBlock.valueHex);d=new e["default"]({schema:g.result})}catch(a){return f}return d.getCertificateStatus(b,c)};g.sign=function(c,d){if(this.responseBytes.responseType==="1.3.6.1.5.5.7.48.1.1"){var f=a.fromBER(this.responseBytes.response.valueBlock.valueHex);f=new e["default"]({schema:f.result});return f.sign(c,d)}return b("Promise").reject("Unknown ResponseBytes type: "+this.responseBytes.responseType)};g.verify=function(c){c===void 0&&(c=null);if("responseBytes"in this===!1)return b("Promise").reject("Empty ResponseBytes field");if(this.responseBytes.responseType==="1.3.6.1.5.5.7.48.1.1"){var d=a.fromBER(this.responseBytes.response.valueBlock.valueHex);d=new e["default"]({schema:d.result});c!==null&&("certs"in d===!1&&(d.certs=[]),d.certs.push(c));return d.verify()}return b("Promise").reject("Unknown ResponseBytes type: "+this.responseBytes.responseType)};return f}();Ii["default"]=j}var Li=!1;function Mi(){Li||(Li=!0,Ki());return Ji.exports}var Ni={},Oi={exports:Ni};function Pi(){Object.defineProperty(Ni,"__esModule",{value:!0});Ni["default"]=void 0;var a=f(g()),b=h(),c=d(H());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.attributes=b.getParametersValue(a,"attributes",d.defaultValues("attributes")),this.encodedValue=b.getParametersValue(a,"encodedValue",d.defaultValues("encodedValue")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return-1;case"attributes":return[];case"encodedValue":return new ArrayBuffer(0);default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"type":return b===d.defaultValues("type");case"attributes":return b.length===0;case"encodedValue":return b.byteLength===0;default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Constructed({name:d.blockName||"",optional:!0,idBlock:{tagClass:3,tagNumber:d.tagNumber},value:[new a.Repeated({name:d.attributes||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["attributes"]);e=a.compareSchema(e,e,d.schema({names:{tagNumber:this.type,attributes:"attributes"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SignedAndUnsignedAttributes");this.type=e.result.idBlock.tagNumber;this.encodedValue=e.result.valueBeforeDecode;var f=new Uint8Array(this.encodedValue);f[0]=49;if("attributes"in e.result===!1)if(this.type===0)throw new Error("Wrong structure of SignedUnsignedAttributes");else return;this.attributes=Array.from(e.result.attributes,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){if(d.compareWithDefault("type",this.type)||d.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,function(a){return a.toSchema()})})};e.toJSON=function(){if(d.compareWithDefault("type",this.type)||d.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};return d}();Ni["default"]=f}var Qi=!1;function Ri(){Qi||(Qi=!0,Pi());return Oi.exports}var Si={},Ti={exports:Si};function Ui(){Object.defineProperty(Si,"__esModule",{value:!0});Si["default"]=void 0;var a=j(g()),b=h(),c=f(n()),d=f(Ri()),e=f(rf());function f(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(i=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=i(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",f.defaultValues("version")),this.sid=b.getParametersValue(a,"sid",f.defaultValues("sid")),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",f.defaultValues("digestAlgorithm")),"signedAttrs"in a&&(this.signedAttrs=b.getParametersValue(a,"signedAttrs",f.defaultValues("signedAttrs"))),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",f.defaultValues("signatureAlgorithm")),this.signature=b.getParametersValue(a,"signature",f.defaultValues("signature")),"unsignedAttrs"in a&&(this.unsignedAttrs=b.getParametersValue(a,"unsignedAttrs",f.defaultValues("unsignedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"version":return 0;case"sid":return new a.Any();case"digestAlgorithm":return new c["default"]();case"signedAttrs":return new d["default"]({type:0});case"signatureAlgorithm":return new c["default"]();case"signature":return new a.OctetString();case"unsignedAttrs":return new d["default"]({type:1});default:throw new Error("Invalid member name for SignerInfo class: "+b)}};f.compareWithDefault=function(b,e){switch(b){case"version":return f.defaultValues("version")===e;case"sid":return e instanceof a.Any;case"digestAlgorithm":return e instanceof c["default"]===!1?!1:e.isEqual(f.defaultValues("digestAlgorithm"));case"signedAttrs":return d["default"].compareWithDefault("type",e.type)&&d["default"].compareWithDefault("attributes",e.attributes)&&d["default"].compareWithDefault("encodedValue",e.encodedValue);case"signatureAlgorithm":return e instanceof c["default"]===!1?!1:e.isEqual(f.defaultValues("signatureAlgorithm"));case"signature":case"unsignedAttrs":return d["default"].compareWithDefault("type",e.type)&&d["default"].compareWithDefault("attributes",e.attributes)&&d["default"].compareWithDefault("encodedValue",e.encodedValue);default:throw new Error("Invalid member name for SignerInfo class: "+b)}};f.schema=function(f){f===void 0&&(f={});f=b.getParametersValue(f,"names",{});return new a.Sequence({name:"SignerInfo",value:[new a.Integer({name:f.version||"SignerInfo.version"}),new a.Choice({value:[e["default"].schema(f.sid||{names:{blockName:"SignerInfo.sid"}}),new a.Choice({value:[new a.Constructed({optional:!0,name:f.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new a.OctetString()]}),new a.Primitive({optional:!0,name:f.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new a.OctetString()]})]})]}),c["default"].schema(f.digestAlgorithm||{names:{blockName:"SignerInfo.digestAlgorithm"}}),d["default"].schema(f.signedAttrs||{names:{blockName:"SignerInfo.signedAttrs",tagNumber:0}}),c["default"].schema(f.signatureAlgorithm||{names:{blockName:"SignerInfo.signatureAlgorithm"}}),new a.OctetString({name:f.signature||"SignerInfo.signature"}),d["default"].schema(f.unsignedAttrs||{names:{blockName:"SignerInfo.unsignedAttrs",tagNumber:1}})]})};var g=f.prototype;g.fromSchema=function(g){b.clearProps(g,["SignerInfo.version","SignerInfo.sid","SignerInfo.digestAlgorithm","SignerInfo.signedAttrs","SignerInfo.signatureAlgorithm","SignerInfo.signature","SignerInfo.unsignedAttrs"]);g=a.compareSchema(g,g,f.schema());if(g.verified===!1)throw new Error("Object's schema was not verified against input data for SignerInfo");this.version=g.result["SignerInfo.version"].valueBlock.valueDec;var h=g.result["SignerInfo.sid"];h.idBlock.tagClass===1?this.sid=new e["default"]({schema:h}):this.sid=h;this.digestAlgorithm=new c["default"]({schema:g.result["SignerInfo.digestAlgorithm"]});"SignerInfo.signedAttrs"in g.result&&(this.signedAttrs=new d["default"]({type:0,schema:g.result["SignerInfo.signedAttrs"]}));this.signatureAlgorithm=new c["default"]({schema:g.result["SignerInfo.signatureAlgorithm"]});this.signature=g.result["SignerInfo.signature"];"SignerInfo.unsignedAttrs"in g.result&&(this.unsignedAttrs=new d["default"]({type:1,schema:g.result["SignerInfo.unsignedAttrs"]}))};g.toSchema=function(){if(f.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var b=[];b.push(new a.Integer({value:this.version}));this.sid instanceof e["default"]?b.push(this.sid.toSchema()):b.push(this.sid);b.push(this.digestAlgorithm.toSchema());"signedAttrs"in this&&(f.compareWithDefault("signedAttrs",this.signedAttrs)===!1&&b.push(this.signedAttrs.toSchema()));b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"unsignedAttrs"in this&&(f.compareWithDefault("unsignedAttrs",this.unsignedAttrs)===!1&&b.push(this.unsignedAttrs.toSchema()));return new a.Sequence({value:b})};g.toJSON=function(){if(f.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var b={version:this.version};this.sid instanceof a.Any||(b.sid=this.sid.toJSON());b.digestAlgorithm=this.digestAlgorithm.toJSON();f.compareWithDefault("signedAttrs",this.signedAttrs)===!1&&(b.signedAttrs=this.signedAttrs.toJSON());b.signatureAlgorithm=this.signatureAlgorithm.toJSON();b.signature=this.signature.toJSON();f.compareWithDefault("unsignedAttrs",this.unsignedAttrs)===!1&&(b.unsignedAttrs=this.unsignedAttrs.toJSON());return b};return f}();Si["default"]=j}var Vi=!1;function Wi(){Vi||(Vi=!0,Ui());return Ti.exports}var Xi={},Yi={exports:Xi};function Zi(){Object.defineProperty(Xi,"__esModule",{value:!0});Xi["default"]=void 0;var a=m(g()),c=h(),d=W(),e=k(ii()),f=k(eb()),i=k(Va()),j=k(Ld());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}m=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.policy=c.getParametersValue(a,"policy",g.defaultValues("policy")),this.messageImprint=c.getParametersValue(a,"messageImprint",g.defaultValues("messageImprint")),this.serialNumber=c.getParametersValue(a,"serialNumber",g.defaultValues("serialNumber")),this.genTime=c.getParametersValue(a,"genTime",g.defaultValues("genTime")),"accuracy"in a&&(this.accuracy=c.getParametersValue(a,"accuracy",g.defaultValues("accuracy"))),"ordering"in a&&(this.ordering=c.getParametersValue(a,"ordering",g.defaultValues("ordering"))),"nonce"in a&&(this.nonce=c.getParametersValue(a,"nonce",g.defaultValues("nonce"))),"tsa"in a&&(this.tsa=c.getParametersValue(a,"tsa",g.defaultValues("tsa"))),"extensions"in a&&(this.extensions=c.getParametersValue(a,"extensions",g.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 0;case"policy":return"";case"messageImprint":return new e["default"]();case"serialNumber":return new a.Integer();case"genTime":return new Date(0,0,0);case"accuracy":return new f["default"]();case"ordering":return!1;case"nonce":return new a.Integer();case"tsa":return new i["default"]();case"extensions":return[];default:throw new Error("Invalid member name for TSTInfo class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"version":case"policy":case"genTime":case"ordering":return b===g.defaultValues(a);case"messageImprint":return e["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&e["default"].compareWithDefault("hashedMessage",b.hashedMessage);case"serialNumber":case"nonce":return b.isEqual(g.defaultValues(a));case"accuracy":return f["default"].compareWithDefault("seconds",b.seconds)&&f["default"].compareWithDefault("millis",b.millis)&&f["default"].compareWithDefault("micros",b.micros);case"tsa":return i["default"].compareWithDefault("type",b.type)&&i["default"].compareWithDefault("value",b.value);case"extensions":return b.length===0;default:throw new Error("Invalid member name for TSTInfo class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"TSTInfo",value:[new a.Integer({name:b.version||"TSTInfo.version"}),new a.ObjectIdentifier({name:b.policy||"TSTInfo.policy"}),e["default"].schema(b.messageImprint||{names:{blockName:"TSTInfo.messageImprint"}}),new a.Integer({name:b.serialNumber||"TSTInfo.serialNumber"}),new a.GeneralizedTime({name:b.genTime||"TSTInfo.genTime"}),f["default"].schema(b.accuracy||{names:{blockName:"TSTInfo.accuracy"}}),new a.Boolean({name:b.ordering||"TSTInfo.ordering",optional:!0}),new a.Integer({name:b.nonce||"TSTInfo.nonce",optional:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[i["default"].schema(b.tsa||{names:{blockName:"TSTInfo.tsa"}})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.extensions||"TSTInfo.extensions",value:j["default"].schema(b.extension||{})})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["TSTInfo.version","TSTInfo.policy","TSTInfo.messageImprint","TSTInfo.serialNumber","TSTInfo.genTime","TSTInfo.accuracy","TSTInfo.ordering","TSTInfo.nonce","TSTInfo.tsa","TSTInfo.extensions"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for TSTInfo");this.version=b.result["TSTInfo.version"].valueBlock.valueDec;this.policy=b.result["TSTInfo.policy"].valueBlock.toString();this.messageImprint=new e["default"]({schema:b.result["TSTInfo.messageImprint"]});this.serialNumber=b.result["TSTInfo.serialNumber"];this.genTime=b.result["TSTInfo.genTime"].toDate();"TSTInfo.accuracy"in b.result&&(this.accuracy=new f["default"]({schema:b.result["TSTInfo.accuracy"]}));"TSTInfo.ordering"in b.result&&(this.ordering=b.result["TSTInfo.ordering"].valueBlock.value);"TSTInfo.nonce"in b.result&&(this.nonce=b.result["TSTInfo.nonce"]);"TSTInfo.tsa"in b.result&&(this.tsa=new i["default"]({schema:b.result["TSTInfo.tsa"]}));"TSTInfo.extensions"in b.result&&(this.extensions=Array.from(b.result["TSTInfo.extensions"],function(a){return new j["default"]({schema:a})}))};h.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(new a.ObjectIdentifier({value:this.policy}));b.push(this.messageImprint.toSchema());b.push(this.serialNumber);b.push(new a.GeneralizedTime({valueDate:this.genTime}));"accuracy"in this&&b.push(this.accuracy.toSchema());"ordering"in this&&b.push(new a.Boolean({value:this.ordering}));"nonce"in this&&b.push(this.nonce);"tsa"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]}));"extensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};"accuracy"in this&&(a.accuracy=this.accuracy.toJSON());"ordering"in this&&(a.ordering=this.ordering);"nonce"in this&&(a.nonce=this.nonce.toJSON());"tsa"in this&&(a.tsa=this.tsa.toJSON());"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};h.verify=function(a){var e=this;a===void 0&&(a={});var f=b("Promise").resolve(),g,h=null,i=null,j=d.getCrypto();if(typeof j==="undefined")return b("Promise").reject("Unable to create WebCrypto object");if("data"in a)g=a.data;else return b("Promise").reject('"data" is a mandatory attribute for TST_INFO verification');"notBefore"in a&&(h=a.notBefore);"notAfter"in a&&(i=a.notAfter);if(h!==null&&this.genTime<h)return b("Promise").reject("Generation time for TSTInfo object is less than notBefore value");if(i!==null&&this.genTime>i)return b("Promise").reject("Generation time for TSTInfo object is more than notAfter value");var k=d.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId);if("name"in k===!1)return b("Promise").reject("Unsupported signature algorithm: "+this.messageImprint.hashAlgorithm.algorithmId);f=f.then(function(){return j.digest(k.name,new Uint8Array(g))}).then(function(a){return c.isEqualBuffer(a,e.messageImprint.hashedMessage.valueBlock.valueHex)});return f};return g}();Xi["default"]=m}var $i=!1;function aj(){$i||($i=!0,Zi());return Yi.exports}var bj={},cj={exports:bj};function dj(){Object.defineProperty(bj,"__esModule",{value:!0});bj["default"]=void 0;var a=v(g()),c=h(),d=W(),e=t(n()),f=t(Uh()),i=t(Vd()),j=t(te()),k=t(bf()),l=t(Wi()),m=t(Xe()),o=t(gf()),p=t(rf()),q=t(aj()),r=t(Ah()),s=t(Fh());function t(a){return a&&a.__esModule?a:{"default":a}}function u(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(u=function(a){return a?c:b})(a)}function v(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=u(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function w(a,c,d,e,f,g,h){try{var i=a[g](h),j=i.value}catch(a){d(a);return}i.done?c(j):b("Promise").resolve(j).then(e,f)}function x(a){return function(){var c=this,d=arguments;return new(b("Promise"))(function(b,e){var f=a.apply(c,d);function g(a){w(f,b,e,g,h,"next",a)}function h(a){w(f,b,e,g,h,"throw",a)}g(void 0)})}}function y(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=z(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function z(a,b){if(!a)return;if(typeof a==="string")return A(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return A(a,b)}function A(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}v=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.digestAlgorithms=c.getParametersValue(a,"digestAlgorithms",g.defaultValues("digestAlgorithms")),this.encapContentInfo=c.getParametersValue(a,"encapContentInfo",g.defaultValues("encapContentInfo")),"certificates"in a&&(this.certificates=c.getParametersValue(a,"certificates",g.defaultValues("certificates"))),"crls"in a&&(this.crls=c.getParametersValue(a,"crls",g.defaultValues("crls"))),"ocsps"in a&&(this.ocsps=c.getParametersValue(a,"ocsps",g.defaultValues("ocsps"))),this.signerInfos=c.getParametersValue(a,"signerInfos",g.defaultValues("signerInfos")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"version":return 0;case"digestAlgorithms":return[];case"encapContentInfo":return new f["default"]();case"certificates":return[];case"crls":return[];case"ocsps":return[];case"signerInfos":return[];default:throw new Error("Invalid member name for SignedData class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===g.defaultValues("version");case"encapContentInfo":return new f["default"]();case"digestAlgorithms":case"certificates":case"crls":case"ocsps":case"signerInfos":return b.length===0;default:throw new Error("Invalid member name for SignedData class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});"optional"in b===!1&&(b.optional=!1);return new a.Sequence({name:b.blockName||"SignedData",optional:b.optional,value:[new a.Integer({name:b.version||"SignedData.version"}),new a.Set({value:[new a.Repeated({name:b.digestAlgorithms||"SignedData.digestAlgorithms",value:e["default"].schema()})]}),f["default"].schema(b.encapContentInfo||{names:{blockName:"SignedData.encapContentInfo"}}),new a.Constructed({name:b.certificates||"SignedData.certificates",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:m["default"].schema().valueBlock.value}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:o["default"].schema(b.crls||{names:{crls:"SignedData.crls"}}).valueBlock.value}),new a.Set({value:[new a.Repeated({name:b.signerInfos||"SignedData.signerInfos",value:l["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["SignedData.version","SignedData.digestAlgorithms","SignedData.encapContentInfo","SignedData.certificates","SignedData.crls","SignedData.signerInfos"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for SignedData");this.version=b.result["SignedData.version"].valueBlock.valueDec;"SignedData.digestAlgorithms"in b.result&&(this.digestAlgorithms=Array.from(b.result["SignedData.digestAlgorithms"],function(a){return new e["default"]({schema:a})}));this.encapContentInfo=new f["default"]({schema:b.result["SignedData.encapContentInfo"]});if("SignedData.certificates"in b.result){var d=new m["default"]({schema:new a.Set({value:b.result["SignedData.certificates"].valueBlock.value})});this.certificates=d.certificates.slice(0)}"SignedData.crls"in b.result&&(this.crls=Array.from(b.result["SignedData.crls"],function(a){if(a.idBlock.tagClass===1)return new j["default"]({schema:a});a.idBlock.tagClass=1;a.idBlock.tagNumber=16;return new k["default"]({schema:a})}));"SignedData.signerInfos"in b.result&&(this.signerInfos=Array.from(b.result["SignedData.signerInfos"],function(a){return new l["default"]({schema:a})}))};h.toSchema=function(b){b===void 0&&(b=!1);var c=[];c.push(new a.Integer({value:this.version}));c.push(new a.Set({value:Array.from(this.digestAlgorithms,function(a){return a.toSchema(b)})}));c.push(this.encapContentInfo.toSchema());if("certificates"in this){var d=new m["default"]({certificates:this.certificates});d=d.toSchema();c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:d.valueBlock.value}))}"crls"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,function(a){if(a instanceof k["default"]){var c=a.toSchema(b);c.idBlock.tagClass=3;c.idBlock.tagNumber=1;return c}return a.toSchema(b)})}));c.push(new a.Set({value:Array.from(this.signerInfos,function(a){return a.toSchema(b)})}));return new a.Sequence({value:c})};h.toJSON=function(){var a={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,function(a){return a.toJSON()}),encapContentInfo:this.encapContentInfo.toJSON()};"certificates"in this&&(a.certificates=Array.from(this.certificates,function(a){return a.toJSON()}));"crls"in this&&(a.crls=Array.from(this.crls,function(a){return a.toJSON()}));a.signerInfos=Array.from(this.signerInfos,function(a){return a.toJSON()});return a};h.verify=function(e){var f=this;e=e===void 0?{}:e;var g=e.signer,h=g===void 0?-1:g;g=e.data;var j=g===void 0?new ArrayBuffer(0):g;g=e.trustedCerts;var k=g===void 0?[]:g;g=e.checkDate;var l=g===void 0?new Date():g;g=e.checkChain;g=g===void 0?!1:g;var m=e.extendedMode,n=m===void 0?!1:m;m=e.passedWhenNotRevValues;var o=m===void 0?!1:m;m=e.findOrigin;var t=m===void 0?null:m;m=e.findIssuer;var u=m===void 0?null:m,v=this;e=b("Promise").resolve();var w=new ArrayBuffer(0),z="",A={},B=null,C=[],D=d.getEngine(),E=d.getCrypto();if(typeof E==="undefined")return b("Promise").reject("Unable to create WebCrypto object");if(h===-1)return n?b("Promise").reject({date:l,code:1,message:"Unable to get signer index from input parameters",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):b("Promise").reject("Unable to get signer index from input parameters");if("certificates"in this===!1)return n?b("Promise").reject({date:l,code:2,message:"No certificates attached to this signed data",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):b("Promise").reject("No certificates attached to this signed data");this.signerInfos[h].sid instanceof p["default"]?e=e.then(function(){var a=y(f.certificates),c;try{for(a.s();!(c=a.n()).done;){c=c.value;if(c instanceof i["default"]===!1)continue;if(c.issuer.isEqual(f.signerInfos[h].sid.issuer)&&c.serialNumber.isEqual(f.signerInfos[h].sid.serialNumber)){A=c;return b("Promise").resolve()}}}catch(b){a.e(b)}finally{a.f()}return n?b("Promise").reject({date:l,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):b("Promise").reject("Unable to find signer certificate")}):e=x(b("regeneratorRuntime").mark(function a(){var d,e,f,g,j,k;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:a.prev=0,d=v.signerInfos[h].sid,e=d.idBlock.isConstructed?d.valueBlock.value[0].valueBlock.valueHex:d.valueBlock.valueHex,f=y(v.certificates),a.prev=4,f.s();case 6:if((g=f.n()).done){a.next=18;break}j=g.value;if(j instanceof i["default"]){a.next=10;break}return a.abrupt("continue",16);case 10:a.next=12;return E.digest({name:"sha-1"},new Uint8Array(j.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex));case 12:k=a.sent;if(!c.isEqualBuffer(k,e)){a.next=16;break}A=j;return a.abrupt("break",18);case 16:a.next=6;break;case 18:a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](4),f.e(a.t0);case 23:a.prev=23;f.f();return a.finish(23);case 26:if(A){a.next=28;break}throw new Error("Signing certificate not found");case 28:a.next=35;break;case 30:a.prev=30;a.t1=a["catch"](0);if(!n){a.next=34;break}return a.abrupt("return",b("Promise").reject({date:l,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}));case 34:throw"Unable to find signer certificate";case 35:case"end":return a.stop()}},a,this,[[0,30],[4,20,23,26]])}))();e=e.then(function(){if(f.encapContentInfo.eContentType==="1.2.840.113549.1.9.16.1.4"){if("eContent"in f.encapContentInfo===!1)return!1;var c=a.fromBER(f.encapContentInfo.eContent.valueBlock.valueHex),d;try{d=new q["default"]({schema:c.result})}catch(a){return!1}l=d.genTime;B=d.serialNumber.valueBlock.valueHex;return j.byteLength===0?n?b("Promise").reject({date:l,code:4,message:"Missed detached data input array",signatureVerified:null,signerCertificate:A,signerCertificateVerified:null}):b("Promise").reject("Missed detached data input array"):d.verify({data:j})}return!0});function F(a){if(a.issuer.isEqual(A.issuer)===!0&&a.serialNumber.isEqual(A.serialNumber)===!0)return null;var b=!1;if("extensions"in a){var c=y(a.extensions),d;try{for(c.s();!(d=c.n()).done;){d=d.value;d.extnID==="2.5.29.19"&&("cA"in d.parsedValue&&(d.parsedValue.cA===!0&&(b=!0)))}}catch(a){c.e(a)}finally{c.f()}}return b?a:null}g&&(e=e.then(function(a){if(a===!1)return!1;a=Array.from(f.certificates.filter(function(a){return a instanceof i["default"]}),function(a){return F(a)});a={checkDate:l,certs:Array.from(a.filter(function(a){return a!==null})),trustedCerts:k};u!==null&&(a.findIssuer=u);t!==null&&(a.findOrigin=t);a=new r["default"](a);a.certs.push(A);if("crls"in f){var c=y(f.crls),d;try{for(c.s();!(d=c.n()).done;){d=d.value;"thisUpdate"in d?a.crls.push(d):d.otherRevInfoFormat==="1.3.6.1.5.5.7.48.1.1"&&a.ocsps.push(new s["default"]({schema:d.otherRevInfo}))}}catch(a){c.e(a)}finally{c.f()}}"ocsps"in f&&(d=a.ocsps).push.apply(d,f.ocsps);return a.verify({passedWhenNotRevValues:o}).then(function(a){"certificatePath"in a&&(C=a.certificatePath);if(a.result===!0)return b("Promise").resolve(!0);return n?b("Promise").reject({date:l,code:5,message:"Validation of signer's certificate failed: "+a.resultMessage,signatureVerified:null,signerCertificate:A,signerCertificateVerified:!1}):b("Promise").reject("Validation of signer's certificate failed")},function(a){return n?b("Promise").reject({date:l,code:5,message:"Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a),signatureVerified:null,signerCertificate:A,signerCertificateVerified:!1}):b("Promise").reject("Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a))})}));e=e.then(function(a){if(a===!1)return!1;a=d.getAlgorithmByOID(f.signerInfos[h].digestAlgorithm.algorithmId);if("name"in a===!1)return n?b("Promise").reject({date:l,code:7,message:"Unsupported signature algorithm: "+f.signerInfos[h].digestAlgorithm.algorithmId,signatureVerified:null,signerCertificate:A,signerCertificateVerified:!0}):b("Promise").reject("Unsupported signature algorithm: "+f.signerInfos[h].digestAlgorithm.algorithmId);z=a.name;return!0});e=e.then(function(a){if(a===!1)return!1;if("eContent"in f.encapContentInfo)if(f.encapContentInfo.eContent.idBlock.tagClass===1&&f.encapContentInfo.eContent.idBlock.tagNumber===4)if(f.encapContentInfo.eContent.idBlock.isConstructed===!1)j=f.encapContentInfo.eContent.valueBlock.valueHex;else{a=y(f.encapContentInfo.eContent.valueBlock.value);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;j=c.utilConcatBuf(j,d.valueBlock.valueHex)}}catch(b){a.e(b)}finally{a.f()}}else j=f.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(j.byteLength===0)return n?b("Promise").reject({date:l,code:8,message:"Missed detached data input array",signatureVerified:null,signerCertificate:A,signerCertificateVerified:!0}):b("Promise").reject("Missed detached data input array");if("signedAttrs"in f.signerInfos[h]){d=!1;a=!1;var e=y(f.signerInfos[h].signedAttrs.attributes),g;try{for(e.s();!(g=e.n()).done;){g=g.value;g.type==="1.2.840.113549.1.9.3"&&(d=!0);g.type==="1.2.840.113549.1.9.4"&&(a=!0,w=g.values[0].valueBlock.valueHex);if(d&&a)break}}catch(a){e.e(a)}finally{e.f()}if(d===!1)return n?b("Promise").reject({date:l,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:A,signerCertificateVerified:!0}):b("Promise").reject('Attribute "content-type" is a mandatory attribute for "signed attributes"');if(a===!1)return n?b("Promise").reject({date:l,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:A,signerCertificateVerified:!0}):b("Promise").reject('Attribute "message-digest" is a mandatory attribute for "signed attributes"')}return!0});e=e.then(function(a){if(a===!1)return!1;return"signedAttrs"in f.signerInfos[h]?E.digest(z,new Uint8Array(j)):!0}).then(function(a){if(a===!1)return!1;if("signedAttrs"in f.signerInfos[h]){if(c.isEqualBuffer(a,w)){j=f.signerInfos[h].signedAttrs.encodedValue;return!0}return!1}return!0});e=e.then(function(a){return a===!1?!1:D.subtle.verifyWithPublicKey(j,f.signerInfos[h].signature,A.subjectPublicKeyInfo,A.signatureAlgorithm,z)});e=e.then(function(a){return n?{date:l,code:14,message:"",signatureVerified:a,signerCertificate:A,timestampSerial:B,signerCertificateVerified:!0,certificatePath:C}:a},function(a){return n?"code"in a?b("Promise").reject(a):b("Promise").reject({date:l,code:15,message:"Error during verification: "+a.message,signatureVerified:null,signerCertificate:A,timestampSerial:B,signerCertificateVerified:!0}):b("Promise").reject(a)});return e};h.sign=function(f,g,h,i){var j=this;h===void 0&&(h="SHA-1");i===void 0&&(i=new ArrayBuffer(0));if(typeof f==="undefined")return b("Promise").reject("Need to provide a private key for signing");var k=b("Promise").resolve(),l,m=d.getEngine(),n=d.getOIDByAlgorithm({name:h});if(n==="")return b("Promise").reject("Unsupported hash algorithm: "+h);this.digestAlgorithms.filter(function(a){return a.algorithmId===n}).length===0&&this.digestAlgorithms.push(new e["default"]({algorithmId:n,algorithmParams:new a.Null()}));this.signerInfos[g].digestAlgorithm=new e["default"]({algorithmId:n,algorithmParams:new a.Null()});k=k.then(function(){return m.subtle.getSignatureParameters(f,h)});k=k.then(function(a){l=a.parameters,j.signerInfos[g].signatureAlgorithm=a.signatureAlgorithm});k=k.then(function(){if("signedAttrs"in j.signerInfos[g])if(j.signerInfos[g].signedAttrs.encodedValue.byteLength!==0)i=j.signerInfos[g].signedAttrs.encodedValue;else{i=j.signerInfos[g].signedAttrs.toSchema(!0).toBER(!1);var a=new Uint8Array(i);a[0]=49}else if("eContent"in j.encapContentInfo)if(j.encapContentInfo.eContent.idBlock.tagClass===1&&j.encapContentInfo.eContent.idBlock.tagNumber===4)if(j.encapContentInfo.eContent.idBlock.isConstructed===!1)i=j.encapContentInfo.eContent.valueBlock.valueHex;else{a=y(j.encapContentInfo.eContent.valueBlock.value);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;i=c.utilConcatBuf(i,d.valueBlock.valueHex)}}catch(b){a.e(b)}finally{a.f()}}else i=j.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(i.byteLength===0)return b("Promise").reject("Missed detached data input array");return b("Promise").resolve()});k=k.then(function(){return m.subtle.signWithPrivateKey(i,f,l)});k=k.then(function(b){j.signerInfos[g].signature=new a.OctetString({valueHex:b});return b});return k};return g}();bj["default"]=v}var ej=!1;function fj(){ej||(ej=!0,dj());return cj.exports}var gj={},hj={exports:gj};function ij(){Object.defineProperty(gj,"__esModule",{value:!0});gj["default"]=void 0;var a=u(g()),c=h(),d=W(),e=s(ob()),f=s(di()),i=s(Ph()),j=s(n()),k=s(fj()),l=s(Uh()),m=s(H()),o=s(Wi()),p=s(rf()),q=s(Ri()),r=s(gh());function s(a){return a&&a.__esModule?a:{"default":a}}function t(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(t=function(a){return a?c:b})(a)}function u(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=t(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function v(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=w(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function w(a,b){if(!a)return;if(typeof a==="string")return x(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x(a,b)}function x(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}u=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.authSafe=c.getParametersValue(a,"authSafe",g.defaultValues("authSafe")),"macData"in a&&(this.macData=c.getParametersValue(a,"macData",g.defaultValues("macData"))),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",g.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"version":return 3;case"authSafe":return new e["default"]();case"macData":return new f["default"]();case"parsedValue":return{};default:throw new Error("Invalid member name for PFX class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===g.defaultValues(a);case"authSafe":return e["default"].compareWithDefault("contentType",b.contentType)&&e["default"].compareWithDefault("content",b.content);case"macData":return f["default"].compareWithDefault("mac",b.mac)&&f["default"].compareWithDefault("macSalt",b.macSalt)&&f["default"].compareWithDefault("iterations",b.iterations);case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for PFX class: "+a)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||"version"}),e["default"].schema(b.authSafe||{names:{blockName:"authSafe"}}),f["default"].schema(b.macData||{names:{blockName:"macData",optional:!0}})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["version","authSafe","macData"]);b=a.compareSchema(b,b,g.schema({names:{version:"version",authSafe:{names:{blockName:"authSafe"}},macData:{names:{blockName:"macData"}}}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PFX");this.version=b.result.version.valueBlock.valueDec;this.authSafe=new e["default"]({schema:b.result.authSafe});"macData"in b.result&&(this.macData=new f["default"]({schema:b.result.macData}))};h.toSchema=function(){var b=[new a.Integer({value:this.version}),this.authSafe.toSchema()];"macData"in this&&b.push(this.macData.toSchema());return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version,authSafe:this.authSafe.toJSON()};"macData"in this&&(a.macData=this.macData.toJSON());return a};h.makeInternalValues=function(c){var g=this;c===void 0&&(c={});if(c instanceof Object===!1)return b("Promise").reject('The "parameters" must has "Object" type');if("parsedValue"in this===!1)return b("Promise").reject('Please call "parseValues" function first in order to make "parsedValue" data');if("integrityMode"in this.parsedValue===!1)return b("Promise").reject('Absent mandatory parameter "integrityMode" inside "parsedValue"');var h=b("Promise").resolve(),n=d.getCrypto();if(typeof n==="undefined")return b("Promise").reject("Unable to create WebCrypto object");if("authenticatedSafe"in this.parsedValue===!1)return b("Promise").reject('Absent mandatory parameter "authenticatedSafe" in "parsedValue"');switch(this.parsedValue.integrityMode){case 0:if("iterations"in c===!1)return b("Promise").reject('Absent mandatory parameter "iterations"');if("pbkdf2HashAlgorithm"in c===!1)return b("Promise").reject('Absent mandatory parameter "pbkdf2HashAlgorithm"');if("hmacHashAlgorithm"in c===!1)return b("Promise").reject('Absent mandatory parameter "hmacHashAlgorithm"');if("password"in c===!1)return b("Promise").reject('Absent mandatory parameter "password"');var r=new ArrayBuffer(64),s=new Uint8Array(r);d.getRandomValues(s);var t=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new e["default"]({contentType:"1.2.840.113549.1.7.1",content:new a.OctetString({valueHex:t})});var u=d.getEngine();if("stampDataWithPassword"in u.subtle===!1)return b("Promise").reject('No support for "stampDataWithPassword" in current engine "'+u.name+'"');h=h.then(function(){return u.subtle.stampDataWithPassword({password:c.password,hashAlgorithm:c.hmacHashAlgorithm,salt:r,iterationCount:c.iterations,contentToStamp:t})});h=h.then(function(b){g.macData=new f["default"]({mac:new i["default"]({digestAlgorithm:new j["default"]({algorithmId:d.getOIDByAlgorithm({name:c.hmacHashAlgorithm})}),digest:new a.OctetString({valueHex:b})}),macSalt:new a.OctetString({valueHex:r}),iterations:c.iterations})},function(a){return b("Promise").reject(a)});break;case 1:if("signingCertificate"in c===!1)return b("Promise").reject('Absent mandatory parameter "signingCertificate"');if("privateKey"in c===!1)return b("Promise").reject('Absent mandatory parameter "privateKey"');if("hashAlgorithm"in c===!1)return b("Promise").reject('Absent mandatory parameter "hashAlgorithm"');var v=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),w=new k["default"]({version:1,encapContentInfo:new l["default"]({eContentType:"1.2.840.113549.1.7.1",eContent:new a.OctetString({valueHex:v})}),certificates:[c.signingCertificate]});h=h.then(function(){return n.digest({name:c.hashAlgorithm},new Uint8Array(v))});h=h.then(function(b){var d=[];d.push(new m["default"]({type:"1.2.840.113549.1.9.3",values:[new a.ObjectIdentifier({value:"1.2.840.113549.1.7.1"})]}));d.push(new m["default"]({type:"1.2.840.113549.1.9.5",values:[new a.UTCTime({valueDate:new Date()})]}));d.push(new m["default"]({type:"1.2.840.113549.1.9.4",values:[new a.OctetString({valueHex:b})]}));w.signerInfos.push(new o["default"]({version:1,sid:new p["default"]({issuer:c.signingCertificate.issuer,serialNumber:c.signingCertificate.serialNumber}),signedAttrs:new q["default"]({type:0,attributes:d})}))},function(a){return b("Promise").reject("Error during making digest for message: "+a)});h=h.then(function(){return w.sign(c.privateKey,0,c.hashAlgorithm)});h=h.then(function(){g.authSafe=new e["default"]({contentType:"1.2.840.113549.1.7.2",content:w.toSchema(!0)})},function(a){return b("Promise").reject("Error during making signature: "+a)});break;default:return b("Promise").reject('Parameter "integrityMode" has unknown value: '+c.integrityMode)}return h};h.parseInternalValues=function(e){var f=this;if(e instanceof Object===!1)return b("Promise").reject('The "parameters" must has "Object" type');"checkIntegrity"in e===!1&&(e.checkIntegrity=!0);var g=b("Promise").resolve(),h=d.getCrypto();if(typeof h==="undefined")return b("Promise").reject("Unable to create WebCrypto object");this.parsedValue={};switch(this.authSafe.contentType){case"1.2.840.113549.1.7.1":if("password"in e===!1)return b("Promise").reject('Absent mandatory parameter "password"');this.parsedValue.integrityMode=0;if(this.authSafe.content instanceof a.OctetString===!1)return b("Promise").reject('Wrong type of "this.authSafe.content"');var i=new ArrayBuffer(0);if(this.authSafe.content.valueBlock.isConstructed){h=v(this.authSafe.content.valueBlock.value);var j;try{for(h.s();!(j=h.n()).done;){j=j.value;i=c.utilConcatBuf(i,j.valueBlock.valueHex)}}catch(a){h.e(a)}finally{h.f()}}else i=this.authSafe.content.valueBlock.valueHex;j=a.fromBER(i);if(j.offset===-1)return b("Promise").reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new r["default"]({schema:j.result});if(e.checkIntegrity){if("macData"in this===!1)return b("Promise").reject('Absent "macData" value, can not check PKCS#12 data integrity');var l=d.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId);if("name"in l===!1)return b("Promise").reject("Unsupported digest algorithm: "+this.macData.mac.digestAlgorithm.algorithmId);var m=d.getEngine();g=g.then(function(){return m.subtle.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:l.name,salt:f.macData.macSalt.valueBlock.valueHex,iterationCount:f.macData.iterations,contentToVerify:i,signatureToVerify:f.macData.mac.digest.valueBlock.valueHex})});g=g.then(function(a){return a===!1?b("Promise").reject("Integrity for the PKCS#12 data is broken!"):b("Promise").resolve()},function(a){return b("Promise").reject(a)})}break;case"1.2.840.113549.1.7.2":this.parsedValue.integrityMode=1;var n=new k["default"]({schema:this.authSafe.content});if("eContent"in n.encapContentInfo===!1)return b("Promise").reject('Absent of attached data in "cmsSigned.encapContentInfo"');if(n.encapContentInfo.eContent instanceof a.OctetString===!1)return b("Promise").reject('Wrong type of "cmsSigned.encapContentInfo.eContent"');h=new ArrayBuffer(0);if(n.encapContentInfo.eContent.idBlock.isConstructed===!1)h=n.encapContentInfo.eContent.valueBlock.valueHex;else for(j=0;j<n.encapContentInfo.eContent.valueBlock.value.length;j++)h=c.utilConcatBuf(h,n.encapContentInfo.eContent.valueBlock.value[j].valueBlock.valueHex);j=a.fromBER(h);if(j.offset===-1)return b("Promise").reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new r["default"]({schema:j.result});g=g.then(function(){return n.verify({signer:0,checkChain:!1})}).then(function(a){return a===!1?b("Promise").reject("Integrity for the PKCS#12 data is broken!"):b("Promise").resolve()},function(a){return b("Promise").reject("Error during integrity verification: "+a)});break;default:return b("Promise").reject('Incorrect value for "this.authSafe.contentType": '+this.authSafe.contentType)}return g.then(function(){return f},function(a){return b("Promise").reject("Error during parsing: "+a)})};return g}();gj["default"]=u}var jj=!1;function kj(){jj||(jj=!0,ij());return hj.exports}var lj={},mj={exports:lj};function nj(){Object.defineProperty(lj,"__esModule",{value:!0});lj["default"]=void 0;var a=d(g()),b=h();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.status=b.getParametersValue(a,"status",c.defaultValues("status")),"statusStrings"in a&&(this.statusStrings=b.getParametersValue(a,"statusStrings",c.defaultValues("statusStrings"))),"failInfo"in a&&(this.failInfo=b.getParametersValue(a,"failInfo",c.defaultValues("failInfo"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"status":return 2;case"statusStrings":return[];case"failInfo":return new a.BitString();default:throw new Error("Invalid member name for PKIStatusInfo class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"status":return b===c.defaultValues(a);case"statusStrings":return b.length===0;case"failInfo":return b.isEqual(c.defaultValues(a));default:throw new Error("Invalid member name for PKIStatusInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.status||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:c.statusStrings||"",value:new a.Utf8String()})]}),new a.BitString({name:c.failInfo||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["status","statusStrings","failInfo"]);d=a.compareSchema(d,d,c.schema({names:{status:"status",statusStrings:"statusStrings",failInfo:"failInfo"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PKIStatusInfo");var e=d.result.status;if(e.valueBlock.isHexOnly===!0||e.valueBlock.valueDec<0||e.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=e.valueBlock.valueDec;"statusStrings"in d.result&&(this.statusStrings=d.result.statusStrings);"failInfo"in d.result&&(this.failInfo=d.result.failInfo)};d.toSchema=function(){var b=[];b.push(new a.Integer({value:this.status}));"statusStrings"in this&&b.push(new a.Sequence({optional:!0,value:this.statusStrings}));"failInfo"in this&&b.push(this.failInfo);return new a.Sequence({value:b})};d.toJSON=function(){var a={status:this.status};"statusStrings"in this&&(a.statusStrings=Array.from(this.statusStrings,function(a){return a.toJSON()}));"failInfo"in this&&(a.failInfo=this.failInfo.toJSON());return a};return c}();lj["default"]=d}var oj=!1;function pj(){oj||(oj=!0,nj());return mj.exports}var qj={},rj={exports:qj};function sj(){Object.defineProperty(qj,"__esModule",{value:!0});qj["default"]=void 0;var a=i(g()),b=h(),c=e(ii()),d=e(Ld());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function i(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}i=function(){function e(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",e.defaultValues("version")),this.messageImprint=b.getParametersValue(a,"messageImprint",e.defaultValues("messageImprint")),"reqPolicy"in a&&(this.reqPolicy=b.getParametersValue(a,"reqPolicy",e.defaultValues("reqPolicy"))),"nonce"in a&&(this.nonce=b.getParametersValue(a,"nonce",e.defaultValues("nonce"))),"certReq"in a&&(this.certReq=b.getParametersValue(a,"certReq",e.defaultValues("certReq"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",e.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"version":return 0;case"messageImprint":return new c["default"]();case"reqPolicy":return"";case"nonce":return new a.Integer();case"certReq":return!1;case"extensions":return[];default:throw new Error("Invalid member name for TimeStampReq class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"version":case"reqPolicy":case"certReq":return b===e.defaultValues(a);case"messageImprint":return c["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&c["default"].compareWithDefault("hashedMessage",b.hashedMessage);case"nonce":return b.isEqual(e.defaultValues(a));case"extensions":return b.length===0;default:throw new Error("Invalid member name for TimeStampReq class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"TimeStampReq",value:[new a.Integer({name:e.version||"TimeStampReq.version"}),c["default"].schema(e.messageImprint||{names:{blockName:"TimeStampReq.messageImprint"}}),new a.ObjectIdentifier({name:e.reqPolicy||"TimeStampReq.reqPolicy",optional:!0}),new a.Integer({name:e.nonce||"TimeStampReq.nonce",optional:!0}),new a.Boolean({name:e.certReq||"TimeStampReq.certReq",optional:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.extensions||"TimeStampReq.extensions",value:d["default"].schema()})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["TimeStampReq.version","TimeStampReq.messageImprint","TimeStampReq.reqPolicy","TimeStampReq.nonce","TimeStampReq.certReq","TimeStampReq.extensions"]);f=a.compareSchema(f,f,e.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for TimeStampReq");this.version=f.result["TimeStampReq.version"].valueBlock.valueDec;this.messageImprint=new c["default"]({schema:f.result["TimeStampReq.messageImprint"]});"TimeStampReq.reqPolicy"in f.result&&(this.reqPolicy=f.result["TimeStampReq.reqPolicy"].valueBlock.toString());"TimeStampReq.nonce"in f.result&&(this.nonce=f.result["TimeStampReq.nonce"]);"TimeStampReq.certReq"in f.result&&(this.certReq=f.result["TimeStampReq.certReq"].valueBlock.value);"TimeStampReq.extensions"in f.result&&(this.extensions=Array.from(f.result["TimeStampReq.extensions"],function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.messageImprint.toSchema());"reqPolicy"in this&&b.push(new a.ObjectIdentifier({value:this.reqPolicy}));"nonce"in this&&b.push(this.nonce);"certReq"in this&&e.compareWithDefault("certReq",this.certReq)===!1&&b.push(new a.Boolean({value:this.certReq}));"extensions"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};f.toJSON=function(){var a={version:this.version,messageImprint:this.messageImprint.toJSON()};"reqPolicy"in this&&(a.reqPolicy=this.reqPolicy);"nonce"in this&&(a.nonce=this.nonce.toJSON());"certReq"in this&&e.compareWithDefault("certReq",this.certReq)===!1&&(a.certReq=this.certReq);"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};return e}();qj["default"]=i}var tj=!1;function uj(){tj||(tj=!0,sj());return rj.exports}var vj={},wj={exports:vj};function xj(){Object.defineProperty(vj,"__esModule",{value:!0});vj["default"]=void 0;var a=k(g()),c=h(),d=i(pj()),e=i(ob()),f=i(fj());function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.status=c.getParametersValue(a,"status",g.defaultValues("status")),"timeStampToken"in a&&(this.timeStampToken=c.getParametersValue(a,"timeStampToken",g.defaultValues("timeStampToken"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"status":return new d["default"]();case"timeStampToken":return new e["default"]();default:throw new Error("Invalid member name for TimeStampResp class: "+a)}};g.compareWithDefault=function(b,c){switch(b){case"status":return d["default"].compareWithDefault("status",c.status)&&"statusStrings"in c===!1&&"failInfo"in c===!1;case"timeStampToken":return c.contentType===""&&c.content instanceof a.Any;default:throw new Error("Invalid member name for TimeStampResp class: "+b)}};g.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"TimeStampResp",value:[d["default"].schema(b.status||{names:{blockName:"TimeStampResp.status"}}),e["default"].schema(b.timeStampToken||{names:{blockName:"TimeStampResp.timeStampToken",optional:!0}})]})};var h=g.prototype;h.fromSchema=function(b){c.clearProps(b,["TimeStampResp.status","TimeStampResp.timeStampToken"]);b=a.compareSchema(b,b,g.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for TimeStampResp");this.status=new d["default"]({schema:b.result["TimeStampResp.status"]});"TimeStampResp.timeStampToken"in b.result&&(this.timeStampToken=new e["default"]({schema:b.result["TimeStampResp.timeStampToken"]}))};h.toSchema=function(){var b=[];b.push(this.status.toSchema());"timeStampToken"in this&&b.push(this.timeStampToken.toSchema());return new a.Sequence({value:b})};h.toJSON=function(){var a={status:this.status};"timeStampToken"in this&&(a.timeStampToken=this.timeStampToken.toJSON());return a};h.sign=function(a,c){if("timeStampToken"in this===!1)return b("Promise").reject("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!=="1.2.840.113549.1.7.2")return b("Promise").reject("Wrong format of timeStampToken: "+this.timeStampToken.contentType);var d=new e["default"]({schema:this.timeStampToken.content});return d.sign(a,0,c)};h.verify=function(a){a===void 0&&(a={signer:0,trustedCerts:[],data:new ArrayBuffer(0)});if("timeStampToken"in this===!1)return b("Promise").reject("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!=="1.2.840.113549.1.7.2")return b("Promise").reject("Wrong format of timeStampToken: "+this.timeStampToken.contentType);var c=new f["default"]({schema:this.timeStampToken.content});return c.verify(a)};return g}();vj["default"]=k}var yj=!1;function zj(){yj||(yj=!0,xj());return wj.exports}var $={},Aj={exports:$};function Bj(){Object.defineProperty($,"__esModule",{value:!0});Object.defineProperty($,"AccessDescription",{enumerable:!0,get:function(){return b["default"]}});Object.defineProperty($,"Accuracy",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty($,"AlgorithmIdentifier",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty($,"AltName",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty($,"Attribute",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty($,"AttributeTypeAndValue",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty($,"AuthenticatedSafe",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty($,"AuthorityKeyIdentifier",{enumerable:!0,get:function(){return i["default"]}});Object.defineProperty($,"BasicConstraints",{enumerable:!0,get:function(){return j["default"]}});Object.defineProperty($,"BasicOCSPResponse",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty($,"CAVersion",{enumerable:!0,get:function(){return zb["default"]}});Object.defineProperty($,"CRLBag",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty($,"CRLDistributionPoints",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty($,"CertBag",{enumerable:!0,get:function(){return o["default"]}});Object.defineProperty($,"CertID",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty($,"Certificate",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty($,"CertificateChainValidationEngine",{enumerable:!0,get:function(){return r["default"]}});Object.defineProperty($,"CertificatePolicies",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty($,"CertificateRevocationList",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty($,"CertificateSet",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty($,"CertificateTemplate",{enumerable:!0,get:function(){return xb["default"]}});Object.defineProperty($,"CertificationRequest",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty($,"ContentInfo",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty($,"CryptoEngine",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty($,"DigestInfo",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty($,"DistributionPoint",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty($,"ECCCMSSharedInfo",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty($,"ECPrivateKey",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty($,"ECPublicKey",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty($,"EncapsulatedContentInfo",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty($,"EncryptedContentInfo",{enumerable:!0,get:function(){return I["default"]}});Object.defineProperty($,"EncryptedData",{enumerable:!0,get:function(){return aa["default"]}});Object.defineProperty($,"EnvelopedData",{enumerable:!0,get:function(){return J["default"]}});Object.defineProperty($,"ExtKeyUsage",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty($,"Extension",{enumerable:!0,get:function(){return ca["default"]}});Object.defineProperty($,"Extensions",{enumerable:!0,get:function(){return da["default"]}});Object.defineProperty($,"GeneralName",{enumerable:!0,get:function(){return ea["default"]}});Object.defineProperty($,"GeneralNames",{enumerable:!0,get:function(){return fa["default"]}});Object.defineProperty($,"GeneralSubtree",{enumerable:!0,get:function(){return ha["default"]}});Object.defineProperty($,"InfoAccess",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty($,"IssuerAndSerialNumber",{enumerable:!0,get:function(){return ia["default"]}});Object.defineProperty($,"IssuingDistributionPoint",{enumerable:!0,get:function(){return ja["default"]}});Object.defineProperty($,"KEKIdentifier",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty($,"KEKRecipientInfo",{enumerable:!0,get:function(){return la["default"]}});Object.defineProperty($,"KeyAgreeRecipientIdentifier",{enumerable:!0,get:function(){return ma["default"]}});Object.defineProperty($,"KeyAgreeRecipientInfo",{enumerable:!0,get:function(){return na["default"]}});Object.defineProperty($,"KeyBag",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty($,"KeyTransRecipientInfo",{enumerable:!0,get:function(){return pa["default"]}});Object.defineProperty($,"MacData",{enumerable:!0,get:function(){return qa["default"]}});Object.defineProperty($,"MessageImprint",{enumerable:!0,get:function(){return ra["default"]}});Object.defineProperty($,"NameConstraints",{enumerable:!0,get:function(){return ta["default"]}});Object.defineProperty($,"OCSPRequest",{enumerable:!0,get:function(){return ua["default"]}});Object.defineProperty($,"OCSPResponse",{enumerable:!0,get:function(){return va["default"]}});Object.defineProperty($,"OriginatorIdentifierOrKey",{enumerable:!0,get:function(){return wa["default"]}});Object.defineProperty($,"OriginatorInfo",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty($,"OriginatorPublicKey",{enumerable:!0,get:function(){return Q["default"]}});Object.defineProperty($,"OtherCertificateFormat",{enumerable:!0,get:function(){return xa["default"]}});Object.defineProperty($,"OtherKeyAttribute",{enumerable:!0,get:function(){return ya["default"]}});Object.defineProperty($,"OtherPrimeInfo",{enumerable:!0,get:function(){return za["default"]}});Object.defineProperty($,"OtherRecipientInfo",{enumerable:!0,get:function(){return Aa["default"]}});Object.defineProperty($,"OtherRevocationInfoFormat",{enumerable:!0,get:function(){return Ba["default"]}});Object.defineProperty($,"PBES2Params",{enumerable:!0,get:function(){return S["default"]}});Object.defineProperty($,"PBKDF2Params",{enumerable:!0,get:function(){return Da["default"]}});Object.defineProperty($,"PFX",{enumerable:!0,get:function(){return T["default"]}});Object.defineProperty($,"PKCS8ShroudedKeyBag",{enumerable:!0,get:function(){return Ea["default"]}});Object.defineProperty($,"PKIStatusInfo",{enumerable:!0,get:function(){return U["default"]}});Object.defineProperty($,"PasswordRecipientinfo",{enumerable:!0,get:function(){return V["default"]}});Object.defineProperty($,"PolicyConstraints",{enumerable:!0,get:function(){return Ga["default"]}});Object.defineProperty($,"PolicyInformation",{enumerable:!0,get:function(){return Ha["default"]}});Object.defineProperty($,"PolicyMapping",{enumerable:!0,get:function(){return Ia["default"]}});Object.defineProperty($,"PolicyMappings",{enumerable:!0,get:function(){return X["default"]}});Object.defineProperty($,"PolicyQualifierInfo",{enumerable:!0,get:function(){return Y["default"]}});Object.defineProperty($,"PrivateKeyInfo",{enumerable:!0,get:function(){return Ja["default"]}});Object.defineProperty($,"PrivateKeyUsagePeriod",{enumerable:!0,get:function(){return Ka["default"]}});Object.defineProperty($,"PublicKeyInfo",{enumerable:!0,get:function(){return Ma["default"]}});Object.defineProperty($,"QCStatement",{enumerable:!0,get:function(){return Ab.QCStatement}});Object.defineProperty($,"QCStatements",{enumerable:!0,get:function(){return Ab["default"]}});Object.defineProperty($,"RSAESOAEPParams",{enumerable:!0,get:function(){return Na["default"]}});Object.defineProperty($,"RSAPrivateKey",{enumerable:!0,get:function(){return Oa["default"]}});Object.defineProperty($,"RSAPublicKey",{enumerable:!0,get:function(){return Pa["default"]}});Object.defineProperty($,"RSASSAPSSParams",{enumerable:!0,get:function(){return Ra["default"]}});Object.defineProperty($,"RecipientEncryptedKey",{enumerable:!0,get:function(){return Sa["default"]}});Object.defineProperty($,"RecipientEncryptedKeys",{enumerable:!0,get:function(){return Ta["default"]}});Object.defineProperty($,"RecipientIdentifier",{enumerable:!0,get:function(){return Ua["default"]}});Object.defineProperty($,"RecipientInfo",{enumerable:!0,get:function(){return Wa["default"]}});Object.defineProperty($,"RecipientKeyIdentifier",{enumerable:!0,get:function(){return Xa["default"]}});Object.defineProperty($,"RelativeDistinguishedNames",{enumerable:!0,get:function(){return Ya["default"]}});Object.defineProperty($,"Request",{enumerable:!0,get:function(){return Za["default"]}});Object.defineProperty($,"ResponseBytes",{enumerable:!0,get:function(){return ab["default"]}});Object.defineProperty($,"ResponseData",{enumerable:!0,get:function(){return bb["default"]}});Object.defineProperty($,"RevocationInfoChoices",{enumerable:!0,get:function(){return cb["default"]}});Object.defineProperty($,"RevokedCertificate",{enumerable:!0,get:function(){return db["default"]}});Object.defineProperty($,"SafeBag",{enumerable:!0,get:function(){return fb["default"]}});Object.defineProperty($,"SafeContents",{enumerable:!0,get:function(){return gb["default"]}});Object.defineProperty($,"SecretBag",{enumerable:!0,get:function(){return hb["default"]}});Object.defineProperty($,"Signature",{enumerable:!0,get:function(){return ib["default"]}});Object.defineProperty($,"SignedAndUnsignedAttributes",{enumerable:!0,get:function(){return kb["default"]}});Object.defineProperty($,"SignedCertificateTimestamp",{enumerable:!0,get:function(){return wb.SignedCertificateTimestamp}});Object.defineProperty($,"SignedCertificateTimestampList",{enumerable:!0,get:function(){return wb["default"]}});Object.defineProperty($,"SignedData",{enumerable:!0,get:function(){return lb["default"]}});Object.defineProperty($,"SignerInfo",{enumerable:!0,get:function(){return mb["default"]}});Object.defineProperty($,"SingleResponse",{enumerable:!0,get:function(){return nb["default"]}});Object.defineProperty($,"SubjectDirectoryAttributes",{enumerable:!0,get:function(){return pb["default"]}});Object.defineProperty($,"TBSRequest",{enumerable:!0,get:function(){return qb["default"]}});Object.defineProperty($,"TSTInfo",{enumerable:!0,get:function(){return rb["default"]}});Object.defineProperty($,"Time",{enumerable:!0,get:function(){return sb["default"]}});Object.defineProperty($,"TimeStampReq",{enumerable:!0,get:function(){return ub["default"]}});Object.defineProperty($,"TimeStampResp",{enumerable:!0,get:function(){return vb["default"]}});Object.defineProperty($,"createCMSECDSASignature",{enumerable:!0,get:function(){return a.createCMSECDSASignature}});Object.defineProperty($,"createECDSASignatureFromCMS",{enumerable:!0,get:function(){return a.createECDSASignatureFromCMS}});Object.defineProperty($,"getAlgorithmByOID",{enumerable:!0,get:function(){return a.getAlgorithmByOID}});Object.defineProperty($,"getAlgorithmParameters",{enumerable:!0,get:function(){return a.getAlgorithmParameters}});Object.defineProperty($,"getCrypto",{enumerable:!0,get:function(){return a.getCrypto}});Object.defineProperty($,"getEngine",{enumerable:!0,get:function(){return a.getEngine}});Object.defineProperty($,"getHashAlgorithm",{enumerable:!0,get:function(){return a.getHashAlgorithm}});Object.defineProperty($,"getOIDByAlgorithm",{enumerable:!0,get:function(){return a.getOIDByAlgorithm}});Object.defineProperty($,"getRandomValues",{enumerable:!0,get:function(){return a.getRandomValues}});Object.defineProperty($,"kdf",{enumerable:!0,get:function(){return a.kdf}});Object.defineProperty($,"kdfWithCounter",{enumerable:!0,get:function(){return a.kdfWithCounter}});Object.defineProperty($,"setEngine",{enumerable:!0,get:function(){return a.setEngine}});Object.defineProperty($,"stringPrep",{enumerable:!0,get:function(){return a.stringPrep}});Object.defineProperty($,"verifySCTsForCertificate",{enumerable:!0,get:function(){return wb.verifySCTsForCertificate}});var a=W(),b=Z($a()),c=Z(eb()),d=Z(n()),e=Z(jb()),f=Z(H()),g=Z(La()),h=Z(gh()),i=Z(Yc()),j=Z(Rb()),k=Z(Fh()),l=Z(ye()),m=Z(uc()),o=Z(je()),p=Z(lh()),q=Z(Vd()),r=Z(Ah()),t=Z(Jc()),u=Z(te()),v=Z(Xe()),w=Z(Kh()),y=Z(ob()),z=Z(Fa()),A=Z(Ph()),B=Z(pc()),D=Z(Xg()),E=Z(ba()),F=Z(s()),G=Z(Uh()),I=Z(sa()),aa=Z(tb()),J=Z(bh()),K=Z(hd()),ca=Z(Ld()),da=Z(Qd()),ea=Z(Va()),fa=Z(ac()),ha=Z(fc()),L=Z(md()),ia=Z(rf()),ja=Z(Wb()),M=Z(tg()),la=Z(yg()),ma=Z($f()),na=Z(og()),N=Z(Zh()),pa=Z(Bf()),qa=Z(di()),ra=Z(ii()),ta=Z(kc()),ua=Z(Ci()),va=Z(Mi()),wa=Z(Lf()),P=Z(mf()),Q=Z(Gf()),xa=Z(Se()),ya=Z(Qf()),za=Z(ga()),Aa=Z(Ig()),Ba=Z(bf()),S=Z(Ca()),Da=Z(R()),T=Z(kj()),Ea=Z(yb()),U=Z(pj()),V=Z(Dg()),Ga=Z(cd()),Ha=Z(Ec()),Ia=Z(Oc()),X=Z(Tc()),Y=Z(zc()),Ja=Z(oa()),Ka=Z(Mb()),Ma=Z(C()),Na=Z(Sg()),Oa=Z(ka()),Pa=Z(x()),Ra=Z(O()),Sa=Z(eg()),Ta=Z(jg()),Ua=Z(wf()),Wa=Z(Ng()),Xa=Z(Vf()),Ya=Z(Qa()),Za=Z(ni()),ab=Z(Hi()),bb=Z(vh()),cb=Z(gf()),db=Z(oe()),fb=Z(Ie()),gb=Z(Ne()),hb=Z(De()),ib=Z(xi()),kb=Z(Ri()),lb=Z(fj()),mb=Z(Wi()),nb=Z(qh()),pb=Z(Hb()),qb=Z(si()),rb=Z(aj()),sb=Z(Db()),ub=Z(uj()),vb=Z(zj()),wb=Cb(rd()),xb=Z(wd()),zb=Z(Bd()),Ab=Cb(Gd());function Bb(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(Bb=function(a){return a?c:b})(a)}function Cb(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=Bb(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function Z(a){return a&&a.__esModule?a:{"default":a}}}var Cj=!1;function Dj(){Cj||(Cj=!0,Bj());return Aj.exports}function d(a){switch(a){case void 0:return Dj()}}e.exports=d}),null);
__d("pkijs",["pkijs-2.2.1"],(function(a,b,c,d,e,f){e.exports=b("pkijs-2.2.1")()}),null);